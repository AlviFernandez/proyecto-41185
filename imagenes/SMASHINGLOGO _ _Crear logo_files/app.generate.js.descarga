"use strict";function cacheDomNodes(){window.$page={window:$(window),html:$("html"),body:$("body"),captcha:$("#modalCaptcha"),buttons:{}}}function extendJquery(){$.extend({el:function(e,n){var o=$(document.createElement(e));return o.attr(n),o}})}function defineGlobals(){window.svgVivus=null,window.svgVivusWhite=null,window.baseSvg=1,window.longTextAdviceEnabled=!1,window.gradientColorsWhichShouldFadeToWhite=["AC8400"],window.additionallyRenderedColors=[],window.primaryFontTags=[],window.secondaryFontTags=[],window.enableSwitchToDefaultLetterCase=!1,window.forcedPrimaryLetterCase=!1,window.forcedSecondaryLetterCase=!1,window.svgAnimationInterval1=null,window.svgAnimationInterval2=null,window.vivusInstances=[],window.SmashingLogo={}}function lazyload(){if(window.lazyloadThrottleTimeout,window.lazyloadImages=document.querySelectorAll("img.lazy"),SmashingLogo.Utils.isIntersectionObserverSupported())window.imageObserver&&(window.imageObserver.disconnect(),window.imageObserver=null),window.imageObserver=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){var n=e.target;n.src=n.dataset.src,n.classList.remove("lazy"),window.imageObserver.unobserve(n)}}))})),window.lazyloadImages.forEach((function(e){window.imageObserver.observe(e)}));else for(var e=0;e<window.lazyloadImages.length;e++)window.lazyloadImages[e].src=window.lazyloadImages[e].dataset.src,window.lazyloadImages[e].classList.remove("lazy")}function shareASaleTracking(){var e=function(e,n){n||(n=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}("sscid");e&&function(e,n,o,t,a){if(e&&n){var i,r=t?"; path="+t:"",s=a?"; domain="+a:"",d="";o&&((i=new Date).setTime(i.getTime()+o),d="; expires="+i.toUTCString()),document.cookie=e+"="+n+d+r+s}}("shareasaleSSCID",e,94670778e4,"/");var n=$(".share-a-sale-pixel-placeholder");if(n.length){var o=function(e){for(var n=e+"=",o=decodeURIComponent(document.cookie).split(";"),t=0;t<o.length;t++){for(var a=o[t];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(n))return a.substring(n.length,a.length)}return""}("shareasaleSSCID");""!==o&&n.append('<img width="1" height="" src="'+n.attr("data-pixel-src").replace("{{Click ID}}",o)+'" /><script defer="" async="" type="text/javascript" src="https://shareasale-analytics.com/j.js"><\/script>')}}function observeAndAnimateSections(){if(SmashingLogo.Utils.isIntersectionObserverSupported()){var e=new IntersectionObserver((function(n){n.forEach((function(n){var o=$(n.target),t=o.attr("data-intersection-ratio")?parseFloat(o.attr("data-intersection-ratio")):.4;n.intersectionRatio>t?(o.addClass("in-view").removeClass("observe-intersection"),o.attr("data-one-time-observe")&&e.unobserve(n.target)):o.addClass("observe-intersection").removeClass("in-view")}))}),{rootMargin:"0px",threshold:[0,.25,.5,.75,1]});document.querySelectorAll(".observe-intersection").forEach((function(n){n&&e.observe(n)}))}else $(".observe-intersection").removeClass("observe-intersection").addClass("in-view")}extendJquery(),cacheDomNodes(),defineGlobals(),shareASaleTracking();
"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Utils(){var e=this;this.uniqueSVG=function(e){var t=e,i=[];$(e).find("[id]").each((function(){i.push([$(this).attr("id"),$(this).attr("id")+Math.round(1e5*Math.random())])}));for(var n=0;n<i.length;n++)t=(t=t.replace(new RegExp('id="'+i[n][0]+'"',"g"),'id="'+i[n][1]+'"')).replace(new RegExp("#"+i[n][0],"g"),"#"+i[n][1]);return t},this.fluidSVG=function(e){var t=$(e);return t.removeAttr("width"),t.removeAttr("height"),t.each((function(){$(this)[0].setAttribute("viewBox","0 0 550 470")})),t.wrapAll("<div>").parent().html()},this.pad=function(e,t){return("000000000"+e).substr(-t)},this.setTouchNoTouchBodyClass=function(){"ontouchstart"in window||navigator.msMaxTouchPoints?$("body").addClass("touch-device"):$("body").addClass("no-touch-device")},this.showLoadingAnimation=function(){$("body").addClass("loading-layer-active loading-layer-active-dark")},this.hideLoadingAnimation=function(){$("body").removeClass("loading-layer-active loading-layer-active-dark")},this.showRedLayer=function(){$("body").addClass("loading-layer-active loading-layer-active-error")},this.hideRedLayer=function(){$("body").removeClass("loading-layer-active loading-layer-active-error")},this.getSelectedIconIds=function(){var e=[];if($(".page-generate").length)$("#modalIconSelection .locked-icons .icon-slot .icon").each((function(){e.push($(this).attr("data-icon-id"))}));else if($(".page-editor").length){var t=$(".current-icon-slot .thumbnail-icon [data-paper-data*=isIcon]");if(t.length){var i=$.parseJSON(t.attr("data-paper-data"));e.push(i.rawIconId)}}return e},this.browseIcons=function(t){if(!($.active>0)){var i=$("#icon-search-term");t.attr("disabled","disabled"),i.attr("disabled","disabled"),$("#modalIconSelection").addClass("search-in-progress"),$("#modalIconSelection .symbol-section .no-results").addClass("hidden"),$("body").attr("data-noun-page",0);var n=$("#icon-search-term").val();$.ajax({url:"/v2/icons/browse/",type:"POST",data:{term:n,page:$("body").attr("data-noun-page"),userLangKey:$("html").attr("lang")},timeout:2e4,success:function(o){if(t.removeAttr("disabled"),i.removeAttr("disabled"),$("body").attr("data-noun-page",o.page),"end"===o.page?$("#modalIconSelection .symbol-section .btn-load-more").addClass("hidden"):$("#modalIconSelection .symbol-section .btn-load-more").removeClass("hidden"),o.error)$("#modalIconSelection .symbol-section .no-results").removeClass("hidden");else{$("#modalIconSelection .symbol-section .no-results").addClass("hidden");var a=[];$(".previous-terms .term").each((function(){a.push($(this).attr("data-term"))}));for(var s=-1,r=0;r<a.length;r++)if(n.toLowerCase()===a[r].toLowerCase()){s=r;break}-1===s&&($("#modalIconSelection .previous-terms .term").removeClass("active"),$("#modalIconSelection .previous-terms").prepend('<span class="term active" data-term="'+n+'">'+n+"</span>"),$(".previous-terms .term").length>12&&$("#modalIconSelection .previous-terms .term:not(.suggested)").last().remove())}$("#modalIconSelection .symbol-section .icon-preview .content").html("");for(var c=$("#modalIconSelection .symbol-section .icon-preview .content"),d=0;d<o.icons.length;d++){c.append('<div class="icon" data-combine-terms="'+n+'" data-icon-url="'+o.icons[d].icon_url+'" data-icon-id="'+o.icons[d].id+'"><img src="'+o.icons[d].preview_url+'" alt=""></img></div>'),-1!==e.getSelectedIconIds().indexOf(o.icons[d].id)&&c.find(".icon:last").addClass("selected")}$("#modalIconSelection").removeClass("search-in-progress")}})}},this.browseIconsForCombine=function(e,t){if(!($.active>0)){var i=e.closest(".combine-step"),n=i.find(".combine-input-field"),o=n.val(),a=i.attr("data-combine-step");e.attr("disabled","disabled"),n.attr("disabled","disabled"),t||($("body").attr("data-noun-page-combine-1",0),$("body").attr("data-noun-page-combine-2",0)),$.ajax({url:"/v2/icons/browse/",type:"POST",data:{term:o,page:$("body").attr("data-noun-page-combine-"+a),userLangKey:$("html").attr("lang")},timeout:2e4,success:function(s){e.removeAttr("disabled"),n.removeAttr("disabled");var r=i.find('.sub-section-mix-type[data-sub-section-mix-type-identifier="search-new"]');if(t||r.find(".combine-icon-list").remove(),!s.error){$("body").attr("data-noun-page-combine-"+a,s.page),t?i.find(".add-more").remove():r.append('<div class="combine-icon-list"></div>');for(var c=r.find(".combine-icon-list"),d=0;d<s.icons.length;d++)c.append('<div class="icon icon-to-combine" data-combine-terms="'+o+'" data-icon-url="'+s.icons[d].icon_url+'" data-icon-id="'+s.icons[d].id+'"><img src="'+s.icons[d].preview_url+'" alt=""></img></div>');(!t||t&&"end"!==s.page)&&c.append('<div class="add-more"><button class="btn btn-default btn-load-more"><span class="glyphicon glyphicon-plus"></span><div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></button></div>')}}})}},this.fetchSuggestedIcons=function(){e.showLoadingAnimation(),$.ajax({url:"/v3/icons/suggested/info/",type:"GET",data:{userLangKey:$("html").attr("lang")},timeout:2e4,success:function(t){var i=$("#icon-suggestions-container");i.html("");var n=Object.keys(t),o=[];if(0!==n.length){for(var a=0;a<n.length;a++){for(var s=n[a],r=t[s],c=window.screen.width<430?24:28,d=$('<div class="icon-suggestions-group" data-group-name="'+s+'"></div>'),l=$('<div class="icon-suggestions-content"></div>'),u=$('<div class="icon-suggestions"></div>'),g=0;g<r.count;g++){var m=$('<div class="placeholder"></div>');g>c-1&&m.addClass("hidden"),u.append(m)}var p=$('<div class="icon-suggestions-header"></div>'),h=$("<h2>"+r.title+"</h2>");if(p.append(h),d.append(p),d.append(l),l.append(u),r.count>c){var v=$('<div class="icon-suggestions-footer"></div>'),f=$('<button class="btn btn-default btn-more-suggested-icons">'+window.i18nAddMore+"</button>");v.append(f),d.append(v)}i.append(d);var b=e.fetchSuggestedGroupIcons(r.url);"monogram"!==s&&o.push(b)}var y=$('<div class="icon-suggestions-group pick-your-own" data-group-name="search"></div>'),S=$('<div class="icon-suggestions-header"></div>'),I=$("<h2>"+window.i18nWantSomethingDifferent+"</h2>");S.append(I),y.append(S);var w=$(".pick-own-icons-container .btn-pick-own-icons").clone();y.append(w),i.append(y),SmashingLogo.Utils.observeStickySearchBtn(),$.when.apply($,o).done((function(){SmashingLogo.Utils.hideLoadingAnimation()}))}else SmashingLogo.Utils.hideLoadingAnimation()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})},this.observeStickySearchBtn=function(){if(SmashingLogo.Utils.isIntersectionObserverSupported()){SmashingLogo.stickySearchButtonObserver&&(SmashingLogo.stickySearchButtonObserver.disconnect(),SmashingLogo.stickySearchButtonObserver=null);var e=$(".section-icon .pick-own-icons-container"),t=$(".section-icon .icon-suggestions-group.pick-your-own .btn-pick-own-icons");SmashingLogo.stickySearchButtonObserver=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting?e.addClass("pull-up"):e.removeClass("pull-up")}))})),SmashingLogo.stickySearchButtonObserver.observe(t.get(0))}},this.fetchSuggestedGroupIcons=function(t){return $.ajax({url:t,type:"POST",data:{userLangKey:$("html").attr("lang")},success:function(t){var i=t.icons,n=t.groupIdentifier,o=$('.icon-suggestions-group[data-group-name="'+n+'"]').find(".icon-suggestions-content"),a=o.find(".icon-suggestions").detach();a.find(".placeholder").each((function(t){var n=i[t];if(!n)return!1;var o=$(this),s=o.hasClass("hidden")?"icon hidden":"icon";n.svgString?o.replaceWith('<div data-icon-id="'+n.id+'" data-is-svg-icon="true" class="'+s+'">'+n.svgString+"</div>"):o.replaceWith('<div class="'+s+'" data-icon-url="'+n.icon_url+'" data-icon-id="'+n.id+'"><img src="'+n.preview_url+'" alt="" width="200" height="200"></img></div>'),e.getSelectedIconIds().indexOf(n.id)>=0&&a.find(".icon:last").addClass("selected")})),a.find(".placeholder").remove(),o.append(a)}})},this.iconTabsSetup=function(){$('#modalIconSelection .switch-modes .mode[data-sub-section="search"]').trigger("click"),$('#modalIconSelection .switch-modes.icon-combine .mode[data-sub-section="industry-suggestions"]').removeClass("available"),$('#modalIconSelection .switch-modes.icon-combine .mode[data-sub-section="search-new"]').trigger("click")},this.switchIconTabs=function(t){t.addClass("active").siblings().removeClass("active");var i=t.attr("data-sub-section"),n=t.closest(".modal-body").find('[data-sub-section-identifier="'+i+'"]');if("my-favorites"===i){var o=n.find(".icon-preview .content");o.html(""),SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/session/info/",type:"GET",timeout:6e4,success:function(t){SmashingLogo.Utils.hideLoadingAnimation(),e.addSlotIconsToContainer(o,t.persistentIconSlotIds)},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})}n.closest(".modal-body").attr("data-active-sub-section",i),n.siblings(".sub-section").removeClass("active"),n.addClass("active")},this.switchIconCombineTabs=function(t){t.addClass("active").siblings().removeClass("active");var i=t.attr("data-sub-section"),n=t.closest(".combine-step").find('[data-sub-section-mix-type-identifier="'+i+'"]');n.siblings(".sub-section-mix-type").removeClass("active"),n.addClass("active"),"suggestions"===i&&(n.html(""),SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/session/info/",type:"GET",timeout:6e4,success:function(t){if(SmashingLogo.Utils.hideLoadingAnimation(),n.html('<div class="combine-icon-list"></div>'),$page.body.hasClass("page-editor")){var i=$(".current-icon-slot .icon");e.addIconSuggestions(n.find(".combine-icon-list"),i)}e.addSlotIconsToContainer(n.find(".combine-icon-list"),t.persistentIconSlotIds)},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}}))},this.addIconSuggestions=function(e,t,i){t.each((function(){var t,n,o=$(this),a=o.find(".thumbnail-icon [data-paper-data*=isIcon]");a.length?(t=$.parseJSON(a.attr("data-paper-data")),n=a.find("path").attr("d")):(t={iconType:"icon",rawIconId:o.attr("data-icon-id"),combineTerms:o.attr("data-combine-terms")},n=o.find("path").attr("d"));var s=!1;if(e.find(".icon[data-svg-path]").each((function(){if($(this).attr("data-svg-path")===n)return s=!0,!1})),!s){var r=o.html(),c=$('<div class="icon" data-svg-path="'+n+'">'+r+"</div>");"icon"===t.iconType?(c.attr("data-icon-id",t.rawIconId),t.combineTerms&&"undefined"!==t.combineTerms&&c.attr("data-combine-terms",t.combineTerms)):c.attr("data-initial-id",t.rawInitialId),e.each((function(){var e=$(this),t=c.clone();e.closest(".combine-step").length&&t.addClass("icon-to-combine"),i&&"prepend"===i?e.prepend(t):e.append(t)}))}}))},this.browseIconsByTerm=function(e){$.active>0||($("#icon-search-term").val(e),$(".btn-browse-icons").trigger("click"))},this.loadMoreIcons=function(t){if(!($.active>0)){var i=$("#icon-search-term"),n=$("#icon-search-term").val();t.attr("disabled","disabled"),i.attr("disabled","disabled"),$.ajax({url:"/v2/icons/browse/",type:"POST",data:{term:n,page:$("body").attr("data-noun-page"),userLangKey:$("html").attr("lang")},timeout:2e4,success:function(o){t.removeAttr("disabled"),i.removeAttr("disabled"),$("body").attr("data-noun-page",o.page),"end"===o.page?$("#modalIconSelection .symbol-section .btn-load-more").addClass("hidden"):$("#modalIconSelection .symbol-section .btn-load-more").removeClass("hidden");for(var a=$("#modalIconSelection .symbol-section .icon-preview .content"),s=0;s<o.icons.length;s++){a.append('<div class="icon" data-combine-terms="'+n+'" data-icon-url="'+o.icons[s].icon_url+'" data-icon-id="'+o.icons[s].id+'"><img src="'+o.icons[s].preview_url+'" alt=""></img></div>'),-1!==e.getSelectedIconIds().indexOf(o.icons[s].id)&&a.find(".icon:last").addClass("selected")}}})}},this.initTooltips=function(){var e="ontouchstart"in window||navigator.msMaxTouchPoints;$('[data-toggle-tooltip="tooltip"]').each((function(){var t=$(this);t.hasClass("hotspot-tooltip")||e&&t.closest(".logo-options").length||t.tooltip()}))},this.getParameterByName=function(e,t){var i=new RegExp(e+"(=([^;#]*)|;|#|$)").exec(t);return i?i[2]?i[2].replace(/\+/g," "):"":null},this.capitalizeText=function(e){for(var t,i="",n=e.split(" "),o=0;o<n.length;o++)t=o+1===n.length?"":" ",i+=n[o].substr(0,1).toUpperCase()+n[o].substr(1).toLowerCase()+t;return i},this.getOuterHtml=function(e){var t=e.get(0);return t.outerHTML||(new XMLSerializer).serializeToString(t)},this.escapeHtml=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,(function(e){return t[e]}))},this.charList=function(e,t){for(var i=[],n=e.charCodeAt(0),o=t.charCodeAt(0);n<=o;++n)i.push(String.fromCharCode(n));return i},this.areArraysEqual=function(e,t){var i=_toConsumableArray(e),n=_toConsumableArray(t);return JSON.stringify(i.sort())===JSON.stringify(n.sort())},this.addIndustryLinkToMainNav=function(e,t,i){var n=$(".header-container .nav .industry-link");if(n.length&&n.remove(),e&&t){var o=$('.header-container .nav li[data-pid="1"]');$('<li class="industry-link'+(i?" active":"")+'"><a href="'+e+'">'+t+"</a></li>").insertAfter(o)}},this.extractIconFromSvg=function(e){var t=e.find("[data-paper-data*=isIcon]");return 0!==t.length&&{jQueryObject:t,data:$.parseJSON(t.attr("data-paper-data"))}},this.addSlotIconsToContainer=function(t,i){var n=$(),o=t.closest(".combine-step").length?"icon icon-to-combine":"icon";if("undefined"!=typeof Storage&&void 0!==i)for(var a=0;a<i.length;a++){var s=window.localStorage.getItem(i[a]);if(null!==s)if(0===s.indexOf("<svg")){var r='<div class="'+o+'" data-icon-id="'+i[a]+'" data-svg-path="'+$(s).find("path").attr("d")+'">'+s+"</div>";n=n.add(r)}else{if(0!==s.indexOf("{"))continue;var c=JSON.parse(s),d='<div class="'+o+'" data-combine-terms="'+c.combineTerms+'" data-icon-id="'+i[a]+'" data-svg-path="'+$(c.svgString).find("path").attr("d")+'">'+c.svgString+"</div>";n=n.add(d)}}e.addIconSuggestions(t,n)},this.addPreviousIconsToContainer=function(t,i){for(var n=$(),o=0;o<i.length;o++){var a=$(i[o]),s=$.parseJSON(a.attr("data-paper-data")),r=a.find("path").attr("d"),c='<svg class="thumbnail-icon" width="100%" viewBox="0 0 200 200">'+SmashingLogo.Utils.getOuterHtml(a)+"</svg>",d='<div class="icon icon-to-combine" data-icon-id="'+s.rawIconId+'" data-combine-terms="'+s.combineTerms+'" data-svg-path="'+r+'">'+c+"</div>";n=n.add(d)}e.addIconSuggestions(t,n)},this.customizeRequestSubmit=function(e){var t=$("#form-customize-request .alert");e.attr("disabled","disabled");var i=SmashingLogo.Utils.getParameterByName("s",window.location),n=(window.location.origin||"https://smashinglogo.com")+"/"+$("html").attr("lang")+"/shared?s="+i;$.ajax({url:"/editor/customize-request/",type:"POST",data:{name:e.closest("form").find(".name").val(),email:e.closest("form").find(".email").val(),message:e.closest("form").find(".message").val(),logoPath:$page.body.attr("data-logo-path"),shareUrl:n},timeout:6e4,success:function(i){e.removeAttr("disabled"),"failed"===i?(t.html(window.i18nContactError),t.addClass("alert-danger"),t.removeClass("alert-success")):"success"===i&&(t.html(window.i18nContactSuccess),t.addClass("alert-success"),t.removeClass("alert-danger"),e.closest("form").find("input[type=text], textarea").val(""))}})},this.appendReusableCloseButton=function(){$page.body.append('<button class="btn btn-lg btn-primary hidden btn-close-modal"><span class="glyphicon glyphicon-remove"></span><span>&nbsp;'+window.i18nClose+"</span></button>")},this.isPageWithDynamicContent=function(){return $page.body.hasClass("page-home")||$page.body.hasClass("page-generate")||$page.body.hasClass("page-preview")||$page.body.hasClass("page-variations")||$page.body.hasClass("page-editor")||$page.body.hasClass("page-checkout")||$page.body.hasClass("page-thanks")},this.mockIconOptionsForEditMode=function(t,i,n,o,a){e.mockCommonOptionsForNewIconOrInitial(t,i,n),t.iconType="icon",t.iconData.iconType="icon",t.iconData.rawIconId=o,t.iconData.combineTerms=a},this.mockMonogramOptionsForEditMode=function(t,i,n,o,a){e.mockCommonOptionsForNewIconOrInitial(t,i,n),t.iconType="initial",t.iconData.iconType="initial",t.iconData.rawInitialId=o,t.iconData.initialText=a},this.mockCommonOptionsForNewIconOrInitial=function(e,t,i){e.isNewIcon=!0,e.removeIcon=!1,e.iconMode=!0,e.iconStyle="standalone",e.iconSvgString=i,e.selectedEffects={container:"",transformation:"",pattern:""},e.disableIconEffects=!1,e.monogramSpecial=!1,e.iconFillRule=t,e.iconFillRuleOriginal=t,e.iconData={isIcon:"true",selectedEffects:e.selectedEffects,fillRule:t,fillRuleOriginal:t}},this.getPreviousLogoId=function(){if("undefined"!=typeof Storage)return window.localStorage.getItem("previousLogoId")},this.setPreviousLogoId=function(e){"undefined"!=typeof Storage&&e&&window.localStorage.setItem("previousLogoId",e)},this.isIntersectionObserverSupported=function(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}}SmashingLogo.Utils=new Utils;
"use strict";function ColorUtils(){var t=this;this.brightnessByColor=function(t){var r,e=0==(t=""+t).indexOf("#"),o=0==t.indexOf("rgb");if(e&&(r=t.substr(1).match(7==t.length?/(\S{2})/g:/(\S{1})/g)))var n=parseInt(r[0],16),i=parseInt(r[1],16),a=parseInt(r[2],16);if(o&&(r=t.match(/(\d+){3}/g)))n=r[0],i=r[1],a=r[2];if(void 0!==n)return(299*n+587*i+114*a)/1e3},this.rotateColor=function(r,e,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=o||!1,a=t.hexToRgb(r),s=t.rgbToHsl(a.r,a.g,a.b),g=t.hexToRgb(e),h=t.rgbToHsl(g.r,g.g,g.b),u=h[0]-s[0],l=100+Math.round(h[1]-s[1])+"%",b=100+Math.round(h[2]-s[2])+"%",f=100-h[1],c=Math.abs(50-h[2]),d=f<=20&&c<=10;return i&&d&&(h[0]>=225&&h[0]<=265?(l=100/s[1],b=h[2]/100):l=100/s[1]),"grayscale(100%) saturate(0%) sepia("+n+") hue-rotate("+u+"deg) saturate("+l+") brightness("+b+")"},this.hexToRgb=function(t){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(r)return{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}},this.rgbToHex=function(r,e,o){return"#"+t.componentToHex(r)+t.componentToHex(e)+t.componentToHex(o)},this.rgbToHsl=function(t,r,e){t/=255,r/=255,e/=255;var o,n,i=Math.max(t,r,e),a=Math.min(t,r,e),s=(i+a)/2;if(i==a)o=n=0;else{var g=i-a;switch(n=s>.5?g/(2-i-a):g/(i+a),i){case t:o=(r-e)/g+(r<e?6:0);break;case r:o=(e-t)/g+2;break;case e:o=(t-r)/g+4}(o=Math.round(60*o))<0&&(o+=360)}return[o,100*n,100*s]},this.getMixedColor=function(r,e,o){var n=t.hexToRgb(r),i=t.hexToRgb(e),a={r:Math.round((1-o)*n.r+o*i.r),g:Math.round((1-o)*n.g+o*i.g),b:Math.round((1-o)*n.b+o*i.b)};return t.rgbToHex(a.r,a.g,a.b)},this.componentToHex=function(t){var r=t.toString(16);return 1==r.length?"0"+r:r},this.getColorBrightness=function(t){var r=t.substring(1),e=parseInt(r,16);return.2126*(e>>16&255)+.7152*(e>>8&255)+.0722*(e>>0&255)},this.getSuitableBlendColor=function(r){return t.getColorBrightness(r)>45?t.getMixedColor(r,"000000",.5):t.getMixedColor(r,"ffffff",.25)},this.getSuitableBlendColorAdvanced=function(r,e){var o=t.getColorBrightness(r),n=t.getColorBrightness(e);return o<40&&n<40?t.getSuitableBlendColor(r):e}}SmashingLogo.ColorUtils=new ColorUtils;
"use strict";function Editor(){var e=this;$page.inputs={name:$("#companyName"),tagline:$("#companyTagline"),industries:$("#companyIndustries"),brandAttributes:$("#companyKeywords"),variationHiddenField:$("#variationTypeHiddenField"),variationHiddenFieldQuickEdit:$("#variationTypeHiddenFieldQuickEdit")},$page.buttons={contrastBackground:$(".edit-custom-color-container .btn-change-contrast-background"),variationGenerateMore:$(".sub-section-variations .btn-generate-variations"),sliderNext:$(".sub-section-variations .horizontal-logo-outer-wrapper .slider-next"),sliderPrev:$(".sub-section-variations .horizontal-logo-outer-wrapper .slider-prev"),deleteVariations:$(".btn-remove-variations")},$page.variationWrappers={color:$('[data-sub-section-identifier="color-variations"] .horizontal-logo-wrapper'),font:$('[data-sub-section-identifier="font-variations"] .horizontal-logo-wrapper'),icon:$('[data-sub-section-identifier="icon-variations"] .horizontal-logo-wrapper'),layout:$('[data-sub-section-identifier="layout-variations"] .horizontal-logo-wrapper')},$page.editorContentWrapper=$(".editor-content-wrapper"),$page.configColumn=$(".editor-config-column .config-column"),$page.sidebar=$(".sidebar-column"),$page.editorNav=$page.sidebar.find(".local-nav"),$page.editorSections=$("#editor-sections"),$page.mutationsColumn=$("#editor-sections .mutations-column"),$page.quickEditMenu=$(".variations-header .switch-modes"),window.previewAllButtonMarkup='<div class="preview-all"><span class="glyphicon glyphicon-fullscreen"></span></div>',window.extendedSettingsButtonMarkup='<div class="extended-settings"><span class="glyphicon glyphicon-fire"></span></div>',this.init=function(){function t(e){var t=e.find(".variation").attr("data-back-hex")||"ffffff",a=SmashingLogo.ColorUtils.getSuitableBlendColor(t);e.closest(".dropdown-menu").find(".variation-container .inner-wrap").css("border-color",""),e.find(".inner-wrap").css("border-color",a)}function a(t){t.iconType=t.iconType||"";var a=e.getAjaxParamsForLogoGeneration(t),i=t.variationMode?"/logos/variations/":"/logos/edit/";$.ajax({url:i,type:"POST",data:a,timeout:6e4,success:function(a){if(t.editMode){if(o(),"failed"===a)return SmashingLogo.Utils.hideLoadingAnimation(),void $(".page-editor .editor-config-column .config-section .btn-submit").removeAttr("disabled");if("draw-error"===a)return SmashingLogo.Utils.hideLoadingAnimation(),$(".page-editor .editor-config-column .config-section .btn-submit").removeAttr("disabled"),void $("#modalGenerateError").modal("show");if("not-existing-anymore"===a)return SmashingLogo.Utils.hideLoadingAnimation(),$(".page-editor .editor-config-column .config-section .btn-submit").removeAttr("disabled"),void $("#modalGenerateErrorNotExistingAnymore").modal("show");if("not-existing-anymore-post-purchase"===a)return void window.location.reload(!0);e.refreshComponents(a[0].svgData)}else e.generateVariationCallbackSuccess(a)},error:function(){o(),console.log("process error")}})}function o(){window.enableSwitchToDefaultLetterCase=!1}e.attachEventHandler(),SmashingLogo.Utils.appendReusableCloseButton(),$page.body.hasClass("page-shared")?e.loadSharedView():e.loadEditorView(),$page.body.on("click","#modalExtendedSettings .settings-menu .option a",(function(a){a.preventDefault();var o=$(this).closest(".option").attr("data-option-identifier"),i=$("#modalExtendedSettings .setting[data-option-identifier="+o+"]");$.active>0||($(this).closest(".settings-menu").find(".option").removeClass("active"),$(this).closest(".option").addClass("active"),$("#modalExtendedSettings .setting[data-option-identifier]").removeClass("active"),i.addClass("active"),function(a){var o=a.find("li.text-link a"),i="",n=0,s=0,r=Math.min(100/o.length,8),d=a.closest(".container-settings").find(".progress-bar");d.css("width",r+"%"),d.closest(".progress").removeClass("ajax-finished");var l,c=a.closest(".setting").find(".container-setting-hidden-field").attr("id");switch(c){case"jbensonTypeHiddenField":l="data-jbenson-type";break;case"jbensonStyleHiddenField":l="data-jbenson-style";break;case"jbensonOuterStyleHiddenField":l="data-jbenson-outer-style";break;case"jbensonConnectorHiddenField":l="data-jbenson-connector";break;case"jbensonPortraitTypeHiddenField":l="data-jbenson-portrait-type";break;case"jbensonPortraitStyleHiddenField":l="data-jbenson-portrait-style";break;case"jbensonPortraitConnectorHiddenField":l="data-jbenson-portrait-connector";break;case"barBadgeLayoutHiddenField":l="data-bar-badge-layout";break;case"barBadgeStyleHiddenField":l="data-bar-badge-style";break;case"barBadgeBarStyleHiddenField":l="data-bar-badge-bar-style";break;case"barBadgeBarShapeHiddenField":l="data-bar-badge-bar-shape";break;case"barBadgeBarRibbonStyleHiddenField":l="data-bar-badge-bar-ribbon-style";break;case"shieldLayoutHiddenField":l="data-shield-layout";break;case"shieldHeaderEffectHiddenField":l="data-shield-header-effect";break;case"shieldFooterEffectHiddenField":l="data-shield-footer-effect";break;case"shieldStyleHiddenField":l="data-shield-style";break;case"shieldShapeHiddenField":l="data-shield-shape";break;case"circleStyleHiddenField":l="data-circle-style";break;case"circlePaddingHiddenField":l="data-circle-padding";break;case"squareStyleHiddenField":l="data-square-style";break;case"squarePaddingHiddenField":l="data-square-padding"}o.each((function(){i+='<li class="variation-container" '+l+'="'+$(this).attr(l)+'"><div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></li>'})),a.find(".dropdown-menu li.variation-container").remove(),a.find(".dropdown-menu").append(i);var g={iconSvgString:"",iconType:"",iconData:{},selectedEffects:{container:"",transformation:"",pattern:""},editMode:!0},p=$(".current-icon-slot .thumbnail-icon [data-paper-data*=isIcon]");if(p.length){var f=$.parseJSON(p.attr("data-paper-data")),h=p.clone();h.removeAttr("data-paper-data").removeAttr("fill").removeAttr("style"),g.iconSvgString="<svg>"+h.html()+"</svg>",g.iconData=f,g.iconType=f.iconType,g.selectedEffects=f.selectedEffects,f.blockLetter&&(g.iconData.blockLetter=f.blockLetter)}var u=e.getAjaxParamsForLogoGeneration(g);u.returnSvgStringOnly=!0,o.each((function(){var i=$(this);"jbensonTypeHiddenField"===c?u.jbensonValues.activeType=i.attr("data-jbenson-type"):"jbensonStyleHiddenField"===c?u.jbensonValues.activeStyle=i.attr("data-jbenson-style"):"jbensonOuterStyleHiddenField"===c?u.jbensonValues.activeOuterStyle=i.attr("data-jbenson-outer-style"):"jbensonConnectorHiddenField"===c?u.jbensonValues.activeConnector=i.attr("data-jbenson-connector"):"jbensonPortraitTypeHiddenField"===c?u.jbensonPortraitValues.activeType=i.attr("data-jbenson-portrait-type"):"jbensonPortraitStyleHiddenField"===c?u.jbensonPortraitValues.activeStyle=i.attr("data-jbenson-portrait-style"):"jbensonPortraitConnectorHiddenField"===c?u.jbensonPortraitValues.activeConnector=i.attr("data-jbenson-portrait-connector"):"barBadgeLayoutHiddenField"===c?u.barBadgeValues.activeLayout=i.attr("data-bar-badge-layout"):"barBadgeStyleHiddenField"===c?u.barBadgeValues.activeStyle=i.attr("data-bar-badge-style"):"barBadgeBarStyleHiddenField"===c?u.barBadgeValues.activeBarStyle=i.attr("data-bar-badge-bar-style"):"barBadgeBarShapeHiddenField"===c?u.barBadgeValues.activeBarShape=i.attr("data-bar-badge-bar-shape"):"barBadgeBarRibbonStyleHiddenField"===c?u.barBadgeValues.activeBarRibbonStyle=i.attr("data-bar-badge-bar-ribbon-style"):"shieldLayoutHiddenField"===c?u.shieldValues.activeLayout=i.attr("data-shield-layout"):"shieldHeaderEffectHiddenField"===c?u.shieldValues.activeHeaderEffect=i.attr("data-shield-header-effect"):"shieldFooterEffectHiddenField"===c?u.shieldValues.activeFooterEffect=i.attr("data-shield-footer-effect"):"shieldStyleHiddenField"===c?u.shieldValues.activeStyle=i.attr("data-shield-style"):"shieldShapeHiddenField"===c?u.shieldValues.activeShape=i.attr("data-shield-shape"):"circleStyleHiddenField"===c?u.circleValues.activeStyle=i.attr("data-circle-style"):"circlePaddingHiddenField"===c?u.circleValues.activePadding=i.attr("data-circle-padding"):"squareStyleHiddenField"===c?u.squareValues.activeStyle=i.attr("data-square-style"):"squarePaddingHiddenField"===c&&(u.squareValues.activePadding=i.attr("data-square-padding")),$.ajax({url:"/logos/edit/",type:"POST",data:u,timeout:6e4,success:function(i){var r=null;if("draw-error"===i)return n++,s=Math.round(n/o.length*100),d.css("width",s+"%"),void(n===o.length&&d.closest(".progress").addClass("ajax-finished"));if("jbensonTypeHiddenField"===c?r=a.find(".variation-container[data-jbenson-type="+i.jbensonValues.activeType+"]"):"jbensonStyleHiddenField"===c?r=a.find(".variation-container[data-jbenson-style="+i.jbensonValues.activeStyle+"]"):"jbensonOuterStyleHiddenField"===c?r=a.find(".variation-container[data-jbenson-outer-style="+i.jbensonValues.activeOuterStyle+"]"):"jbensonConnectorHiddenField"===c?r=a.find(".variation-container[data-jbenson-connector="+i.jbensonValues.activeConnector+"]"):"jbensonPortraitTypeHiddenField"===c?r=a.find(".variation-container[data-jbenson-portrait-type="+i.jbensonPortraitValues.activeType+"]"):"jbensonPortraitStyleHiddenField"===c?r=a.find(".variation-container[data-jbenson-portrait-style="+i.jbensonPortraitValues.activeStyle+"]"):"jbensonPortraitConnectorHiddenField"===c?r=a.find(".variation-container[data-jbenson-portrait-connector="+i.jbensonPortraitValues.activeConnector+"]"):"barBadgeLayoutHiddenField"===c?r=a.find(".variation-container[data-bar-badge-layout="+i.barBadgeValues.activeLayout+"]"):"barBadgeStyleHiddenField"===c?r=a.find(".variation-container[data-bar-badge-style="+i.barBadgeValues.activeStyle+"]"):"barBadgeBarStyleHiddenField"===c?r=a.find(".variation-container[data-bar-badge-bar-style="+i.barBadgeValues.activeBarStyle+"]"):"barBadgeBarShapeHiddenField"===c?r=a.find(".variation-container[data-bar-badge-bar-shape="+i.barBadgeValues.activeBarShape+"]"):"barBadgeBarRibbonStyleHiddenField"===c?r=a.find(".variation-container[data-bar-badge-bar-ribbon-style="+i.barBadgeValues.activeBarRibbonStyle+"]"):"shieldLayoutHiddenField"===c?r=a.find(".variation-container[data-shield-layout="+i.shieldValues.activeLayout+"]"):"shieldHeaderEffectHiddenField"===c?r=a.find(".variation-container[data-shield-header-effect="+i.shieldValues.activeHeaderEffect+"]"):"shieldFooterEffectHiddenField"===c?r=a.find(".variation-container[data-shield-footer-effect="+i.shieldValues.activeFooterEffect+"]"):"shieldStyleHiddenField"===c?r=a.find(".variation-container[data-shield-style="+i.shieldValues.activeStyle+"]"):"shieldShapeHiddenField"===c?r=a.find(".variation-container[data-shield-shape="+i.shieldValues.activeShape+"]"):"circleStyleHiddenField"===c?r=a.find(".variation-container[data-circle-style="+i.circleValues.activeStyle+"]"):"circlePaddingHiddenField"===c?r=a.find(".variation-container[data-circle-padding="+i.circleValues.activePadding+"]"):"squareStyleHiddenField"===c?r=a.find(".variation-container[data-square-style="+i.squareValues.activeStyle+"]"):"squarePaddingHiddenField"===c&&(r=a.find(".variation-container[data-square-padding="+i.squareValues.activePadding+"]")),null!==r){r.append('<div class="inner-wrap"></div>');var l=r.find(".inner-wrap");e.appendSpecificColorMutation(l,i),r.addClass("ready"),r.append('<span class="active-variation-label">'+window.i18nLabelFontModalSelected+"</span>");var g=l.find(".variation").attr("data-back-hex")||"ffffff",p=SmashingLogo.ColorUtils.getSuitableBlendColor(g);r.find(".active-variation-label").css("background-color",p);var f=r.closest(".setting").find(".container-setting-hidden-field").attr("data-attribute-key"),h=r.closest(".setting").find(".container-setting-hidden-field").val();r.attr(f)===h&&(r.addClass("active"),t(r)),r.find(".spinner").remove(),n++,s=Math.round(n/o.length*100),d.css("width",s+"%"),n===o.length&&d.closest(".progress").addClass("ajax-finished")}},error:function(){console.log("process error")}})}))}(i))})),this.appendSpecificColorMutation=function(e,t){var a=$(".mutations-column .items .item.active").attr("data-template-identifier"),o={};if($page.body.attr("data-gradient-mode")&&(o.gradientMode=!0),"Default"===a)e.append('<div data-template-identifier="Default"><img class="wm" src="/static/img/wm.svg"></img><div class="svg-container">'+t.svgString+"</div></div>");else{switch(a){case"SingleColorHex1":o.renderTemplateSingleColorHex1=!0;break;case"InvertedHex1":o.renderTemplateInvertedHex1=!0;break;case"BlackAndHighlightColorHex1":o.renderTemplateBlackAndHighlightColorHex1=!0;break;case"SingleColorHex2":o.renderTemplateSingleColorHex2=!0;break;case"InvertedHex2":o.renderTemplateInvertedHex2=!0;break;case"BlackAndHighlightColorHex2":o.renderTemplateBlackAndHighlightColorHex2=!0;break;case"Gray":o.renderTemplateGray=!0;break;case"1c":o.renderTemplate1c=!0;break;case"BlackAndWhiteLogo":o.renderTemplateBlackBackWhiteLogo=!0;break;case"Contrast":o.renderTemplateContrast=!0}"Contrast"===a&&($(".btn-change-contrast-background[data-hex-code]").length&&t.customColorMapping?(o.customColorMapping=t.customColorMapping,o.templateContrastColor=$(".btn-change-contrast-background[data-hex-code]").attr("data-hex-code").replace("#","")):o.templateContrastColor=$('#editor-sections .mutations-column .items .item[data-template-identifier="Contrast"]').attr("data-back-hex")),SmashingLogo.LogoMaker.renderTemplates(o,$page.body.attr("data-logo-path"),t.svgString,e,"variation")}},$page.body.on("click",".jbenson-settings .setting .dropdown .text-link a, .jbenson-settings .setting .dropdown .variation-container.ready",(function(){window.drag||($("#jbensonTypeHiddenField").val($(this).attr("data-jbenson-type")),$("#jbensonStyleHiddenField").val($(this).attr("data-jbenson-style")),$("#jbensonOuterStyleHiddenField").val($(this).attr("data-jbenson-outer-style")),$("#jbensonConnectorHiddenField").val($(this).attr("data-jbenson-connector")),$(".section-layout-options .btn-submit").trigger("click"),t($(this)),$(this).closest(".setting").siblings().find(".dropdown-preview-all").removeClass("open"))})),$page.body.on("click",".jbenson-portrait-settings .setting .dropdown .text-link a, .jbenson-portrait-settings .setting .dropdown .variation-container.ready",(function(){window.drag||($("#jbensonPortraitTypeHiddenField").val($(this).attr("data-jbenson-portrait-type")),$("#jbensonPortraitStyleHiddenField").val($(this).attr("data-jbenson-portrait-style")),$("#jbensonPortraitConnectorHiddenField").val($(this).attr("data-jbenson-portrait-connector")),$(".section-layout-options .btn-submit").trigger("click"),t($(this)),$(this).closest(".setting").siblings().find(".dropdown-preview-all").removeClass("open"))})),$page.body.on("click",".bar-badge-settings .setting .dropdown .text-link a, .bar-badge-settings .setting .dropdown .variation-container.ready",(function(){window.drag||($("#barBadgeLayoutHiddenField").val($(this).attr("data-bar-badge-layout")),$("#barBadgeBarStyleHiddenField").val($(this).attr("data-bar-badge-bar-style")),$("#barBadgeStyleHiddenField").val($(this).attr("data-bar-badge-style")),$("#barBadgeBarShapeHiddenField").val($(this).attr("data-bar-badge-bar-shape")),$("#barBadgeBarRibbonStyleHiddenField").val($(this).attr("data-bar-badge-bar-ribbon-style")),$(".section-layout-options .btn-submit").trigger("click"),t($(this)),$(this).closest(".setting").siblings().find(".dropdown-preview-all").removeClass("open"))})),$page.body.on("click",".shield-settings .setting .dropdown .text-link a, .shield-settings .setting .dropdown .variation-container.ready",(function(){window.drag||($("#shieldLayoutHiddenField").val($(this).attr("data-shield-layout")),$("#shieldHeaderEffectHiddenField").val($(this).attr("data-shield-header-effect")),$("#shieldFooterEffectHiddenField").val($(this).attr("data-shield-footer-effect")),$("#shieldShapeHiddenField").val($(this).attr("data-shield-shape")),$("#shieldStyleHiddenField").val($(this).attr("data-shield-style")),$(".section-layout-options .btn-submit").trigger("click"),t($(this)),$(this).closest(".setting").siblings().find(".dropdown-preview-all").removeClass("open"))})),$page.body.on("click",".circle-settings .setting .dropdown .text-link a, .circle-settings .setting .dropdown .variation-container.ready",(function(){window.drag||($("#circleStyleHiddenField").val($(this).attr("data-circle-style")),$("#circlePaddingHiddenField").val($(this).attr("data-circle-padding")),$(".section-layout-options .btn-submit").trigger("click"),t($(this)),$(this).closest(".setting").siblings().find(".dropdown-preview-all").removeClass("open"))})),$page.body.on("click",".square-settings .setting .dropdown .text-link a, .square-settings .setting .dropdown .variation-container.ready",(function(){window.drag||($("#squareStyleHiddenField").val($(this).attr("data-square-style")),$("#squarePaddingHiddenField").val($(this).attr("data-square-padding")),$(".section-layout-options .btn-submit").trigger("click"),t($(this)),$(this).closest(".setting").siblings().find(".dropdown-preview-all").removeClass("open"))})),$page.body.on("click","#modalEffectLibrary .effect.dropdown .variations.dropdown-menu, .section-font-settings .available-fonts.dropdown-menu",(function(){return!1})),$page.body.on("click","#modalLayoutVariations .variation-container",(function(){$("#modalLayoutVariations").modal("hide"),$("[data-sub-section-identifier="+$("#modalLayoutVariations").attr("data-sub-section")+"]").find(".variation-options .option[data-variation-identifier="+$(this).attr("data-variation-identifier")+"]").trigger("click")})),$page.body.on("click",".extended-settings",(function(e){$("#modalExtendedSettings").modal("show"),$(".btn-close-modal").removeClass("hidden");var t=$(e.target).closest(".sub-section").attr("data-sub-section-identifier"),a=$(e.target).closest(".sub-section").find(".options-headline").find(".text-wrap").text();$("#modalExtendedSettings").attr("data-sub-section",t),$("#modalExtendedSettings .modal-header .sub-section").html(a);var o="";"font-style"===t?o="same-same":"container-layout"===t&&(o="plain"),$("#modalExtendedSettings").removeClass("rectangle-clip-settings"),$("#modalExtendedSettings").removeClass("jbenson-settings"),$("#modalExtendedSettings").removeClass("jbenson-portrait-settings"),$("#modalExtendedSettings").removeClass("bar-badge-settings"),$("#modalExtendedSettings").removeClass("shield-settings"),$("#modalExtendedSettings").removeClass("circle-settings"),$("#modalExtendedSettings").removeClass("square-settings");var i,n=$(e.target).closest(".sub-section").find(".variation-options .option.selected").attr("data-variation-identifier");"rectangle-clip"===n?$("#modalExtendedSettings").addClass("rectangle-clip-settings"):"jbenson"===n?($("#modalExtendedSettings").addClass("jbenson-settings"),i=Math.max(0,$("#modalExtendedSettings .jbenson-settings .settings-menu li.option.active").index()),$("#modalExtendedSettings .jbenson-settings .settings-menu li.option:eq("+i+") a").trigger("click")):"jbenson-portrait"===n?($("#modalExtendedSettings").addClass("jbenson-portrait-settings"),i=Math.max(0,$("#modalExtendedSettings .jbenson-portrait-settings .settings-menu li.option.active").index()),$("#modalExtendedSettings .jbenson-portrait-settings .settings-menu li.option:eq("+i+") a").trigger("click")):"bar-badge"===n?($("#modalExtendedSettings").addClass("bar-badge-settings"),i=Math.max(0,$("#modalExtendedSettings .bar-badge-settings .settings-menu li.option.active").index()),$("#modalExtendedSettings .bar-badge-settings .settings-menu li.option:eq("+i+") a").trigger("click")):"shield"===n?($("#modalExtendedSettings").addClass("shield-settings"),i=Math.max(0,$("#modalExtendedSettings .shield-settings .settings-menu li.option.active").index()),$("#modalExtendedSettings .shield-settings .settings-menu li.option:eq("+i+") a").trigger("click")):"circle"===n?($("#modalExtendedSettings").addClass("circle-settings"),i=Math.max(0,$("#modalExtendedSettings .circle-settings .settings-menu li.option.active").index()),$("#modalExtendedSettings .circle-settings .settings-menu li.option:eq("+i+") a").trigger("click")):"square"===n&&($("#modalExtendedSettings").addClass("square-settings"),i=Math.max(0,$("#modalExtendedSettings .square-settings .settings-menu li.option.active").index()),$("#modalExtendedSettings .square-settings .settings-menu li.option:eq("+i+") a").trigger("click")),$("#modalExtendedSettings .extended-sub-section[data-sub-section!="+t+"]").addClass("hidden"),$(e.target).closest(".sub-section").find(".variation-options .option.selected").attr("data-variation-identifier")===o?$("#modalExtendedSettings .extended-sub-section[data-sub-section="+t+"]").addClass("hidden"):$("#modalExtendedSettings .extended-sub-section[data-sub-section="+t+"]").removeClass("hidden"),$("#modalExtendedSettings .extended-sub-section").length===$("#modalExtendedSettings .extended-sub-section.hidden").length&&$("#modalExtendedSettings .extended-sub-section[data-sub-section=no-extended-options]").removeClass("hidden")})),$page.body.on("click","#modalEffectLibrary .effect.dropdown .on-off-slider",(function(){$(this).toggleClass("on");var e=$(this).closest(".settings").find(".switch[data-setting=rounded] .on-off-slider").hasClass("on"),t=$(this).closest(".settings").find(".switch[data-setting=rotated] .on-off-slider").hasClass("on"),a="sharp-upright";e&&t?a="rounded-rotated":e&&!t?a="rounded-upright":!e&&t&&(a="sharp-rotated"),$(this).closest(".effect.dropdown").find(".variation-group").removeClass("active"),$(this).closest(".effect.dropdown").find(".variation-group[data-container-type="+a+"]").addClass("active")})),$page.body.on("click","#modalEffectLibrary .effect.dropdown .dropdown-toggle",(function(){var e=parseInt($(this).offset().left),t=parseInt($("#modalEffectLibrary .modal-content .col-effects").offset().left),a=$("#modalEffectLibrary .modal-body").width();$(this).closest(".effect").find(".dropdown-menu").css({left:-1*(e-t)+"px",width:a,top:"105%"})})),$("#modalEffectLibrary .effect.dropdown").on("show.bs.dropdown",(function(){$(this).closest(".effect-category").addClass("overflow-hack")})),$("#modalEffectLibrary .effect.dropdown").on("hide.bs.dropdown",(function(){$(this).closest(".effect-category").removeClass("overflow-hack")})),$page.body.on("click","#modalEffectLibrary .effect.dropdown .variation:not(.selected)",(function(){var t=$(this).closest(".effect.dropdown"),a=$(this).closest(".effect-category");a.find(".effect").removeClass("selected"),a.find(".effect .variation").removeClass("selected"),t.removeClass("open"),t.find(".dropdown-backdrop").remove(),$(this).closest(".effect-category").removeClass("overflow-hack"),t.addClass("selected"),$(this).addClass("selected"),e.applyEffect()})),$page.body.on("click","#modalEffectLibrary .btn-apply-to-logo",(function(){var e=$("#modalEffectLibrary .col-preview .preview").clone(),t=$(".current-icon-slot");t.find(".icon").remove(),t.prepend(e.wrap('<div class="icon"></div>')),t.removeClass("empty"),SmashingLogo.Utils.showLoadingAnimation(),$(".section-add-icon .btn-submit").trigger("click")})),$page.body.on("click","#modalEffectLibrary .btn-undo-effects",(function(){$("#modalEffectLibrary .col-preview .preview.icon").html($("#modalEffectLibrary .col-preview .original").html()),$("#modalEffectLibrary .col-effects .effect").removeClass("selected"),$("#modalEffectLibrary .col-effects .effect .variation").removeClass("selected"),$("#modalEffectLibrary .col-effects .dropdown").removeClass("open"),e.applyEffect()})),$page.body.on("click","#modalEffectLibrary .btn-remove-effect",(function(){$(this).closest(".effect").removeClass("selected"),$(this).closest(".variation").removeClass("selected"),$(this).closest(".dropdown").removeClass("open"),e.applyEffect()})),$page.body.on("click",".section-nav > li",(function(t){t.preventDefault();var a=$(this).find("a").attr("data-hash"),o=$(this);o.hasClass("active")?e.closeConfigColumn():"#customization"!==a?"#buy"!==a?"#share"!==a?("#history"===a?e.buildHistoryItems():"#fonts"===a?(e.buildFontsSection(),$page.inputs.variationHiddenField.val("font"),e.handleDisplayOfSecondaryFont()):"#colors"===a?$page.inputs.variationHiddenField.val("color"):"#icon"===a?$page.inputs.variationHiddenField.val("icon"):"#layout"===a&&$page.inputs.variationHiddenField.val("layout"),e.closeConfigColumn(),o.addClass("active").siblings().removeClass("active"),$page.editorContentWrapper.addClass("editor-mode"),"#colors"===a?($page.editorContentWrapper.addClass("show-mutations-nav"),e.enableSegmentColorMode()):($page.editorContentWrapper.removeClass("show-mutations-nav"),e.disableSegmentColorMode()),$('.editor-config-column .config-section[data-section="'+a.replace("#","")+'"]').addClass("active").siblings().removeClass("active"),e.dynamicConfigTabHeight()):$("#modalShare").modal("show"):window.location.assign(o.find("a").attr("href")):$("#modalCustomizationForm").modal("show")})),$page.body.on("click","#modalEffectLibrary .nav-tabs a",(function(e){e.preventDefault();var t=$(this).attr("data-target-section");$("#modalEffectLibrary .nav-tabs li").removeClass("active"),$(this).closest("li").addClass("active"),$("#modalEffectLibrary .effect-category").removeClass("active"),$("#modalEffectLibrary .effect-category[data-target-section="+t+"]").addClass("active")})),$page.body.on("click",".btn-change-colors",(function(){$(".btn-close-modal").removeClass("hidden"),$("#modalColorPalette").attr("data-hex-color",$(this).attr("data-hex"));var e=$(this).hasClass("btn-hex-1")?$page.body.attr("data-hex-1"):$page.body.attr("data-hex-2");window.setTimeout((function(){$(".modal-backdrop").css({"background-color":e})}),50),$("#modalColorPalette").modal(),$page.body.addClass("color-modal-open"),$("#modalColorPalette .nav-tabs [data-hex-color*="+$("#modalColorPalette").attr("data-hex-color")+"]").closest("a").trigger("click")})),$page.body.on("click",'.mode[data-sub-section="color-brand"]',(function(){$page.body.removeClass("color-customize-mode"),$page.editorContentWrapper.addClass("show-mutations-nav"),$('.mutations-nav-column .nav-item[data-template-identifier="Default"]').trigger("click")})),$page.body.on("click",'.mode[data-sub-section="color-customize"]',(function(){$page.body.addClass("color-customize-mode"),$page.editorContentWrapper.addClass("show-mutations-nav"),$('.switch-modes .mode[data-sub-section="custom-select-color"]').hasClass("active")&&e.enableSegmentColorMode(),$('.mutations-nav-column .nav-item[data-template-identifier="Contrast"]').trigger("click")})),$page.body.on("click",'.mode[data-sub-section="color-variations"]',(function(){$page.editorContentWrapper.removeClass("show-mutations-nav"),e.disableSegmentColorMode()})),$page.body.on("click",".btn-icon-modal",(function(){$("#modalIconSelection").modal("show"),e.colorBranding($page.body.attr("data-hex-1"),$page.body.attr("data-hex-2")),$(".fixed-modal-header").removeClass("hidden"),$(".btn-close-modal").removeClass("hidden"),SmashingLogo.Utils.iconTabsSetup()})),$page.body.on("click","#modalIconSelection .switch-modes.first-level .mode",(function(){SmashingLogo.Utils.switchIconTabs($(this))})),$page.body.on("click","#modalIconSelection .switch-modes.icon-combine .mode",(function(){SmashingLogo.Utils.switchIconCombineTabs($(this))})),$page.body.on("click",".btn-monogram-modal",(function(){$("#modalMonogramSelection").modal("show"),e.colorBranding($page.body.attr("data-hex-1"),$page.body.attr("data-hex-2")),$(".fixed-modal-header").removeClass("hidden"),$(".btn-close-modal").removeClass("hidden")})),$page.body.on("click",".btn-effect-modal",(function(){var t=$(".current-icon-slot .icon").html();$("#modalEffectLibrary .col-preview .preview").html(t);var a=$(".current-icon-slot .thumbnail-icon [data-paper-data*=isIcon]");if($("#modalEffectLibrary").removeClass("icon-type-icon").removeClass("icon-type-initial"),a.length){var o=$.parseJSON(a.attr("data-paper-data"));$("#modalEffectLibrary").addClass("icon-type-"+o.iconType),e.activeStateOfSelectedEffects($.parseJSON($("#modalEffectLibrary").attr("data-selected-effects")))}$("#modalEffectLibrary").modal("show"),$(".btn-close-modal").removeClass("hidden")})),$page.body.on("click",".btn-remove-icon",(function(){$(".current-icon-slot").addClass("empty"),$(".current-icon-slot .icon").remove(),$(".section-add-icon .btn-submit").trigger("click")})),$page.body.on("click",".icon-preview .icon, .initial-preview .icon",(function(){var e=$(this).clone(),t=$(".current-icon-slot");t.find(".icon").remove(),t.prepend(e.wrap('<div class="icon"></div>')),t.removeClass("empty"),t.attr("data-is-initial-creation","true"),$(this).addClass("selected").siblings().removeClass("selected"),$(".section-add-icon .btn-submit").trigger("click")})),$page.body.on("click",".font-dropdown-in-place .font:not(.current-font,.current,.placeholder)",(function(){$(this).closest(".font-dropdown-primary").length?$page.body.attr("data-primary-font-id",parseInt($(this).attr("data-font-id"))):$(this).closest(".font-dropdown-secondary").length&&$page.body.attr("data-secondary-font-id",parseInt($(this).attr("data-font-id"))),o(),window.enableSwitchToDefaultLetterCase=!0,$(this).closest(".font-dropdown-primary").find(".font.current").removeClass("current"),$(this).addClass("current"),$(".section-font-settings .btn-submit").trigger("click")})),$page.body.on("click",".font-dropdown-in-place .dropdown-toggle-in-place",(function(){$.active>0||($(this).closest(".dropdown").toggleClass("open"),e.dynamicFontDropdownHeight())})),$page.body.on("click",".btn-close-modal",(function(){$(".modal.in").modal("hide"),$(this).addClass("hidden")})),$page.body.on("click",".font-dropdown-in-place .filter-fonts-container .remove-filter",(function(t){t.preventDefault(),e.resetFontFilter()})),$page.body.on("click",".font-dropdown-in-place .filter-fonts-container .font-tags .box span",(function(t){t.preventDefault(),t.stopPropagation();var a,o=$(this),i=o.closest(".box");i.toggleClass("selected"),$(".font-dropdown-primary").hasClass("open")?i.hasClass("selected")?window.primaryFontTags.push(o.attr("data-tag-name")):(a=window.primaryFontTags.indexOf(o.attr("data-tag-name")))>-1&&window.primaryFontTags.splice(a,1):$(".font-dropdown-secondary").hasClass("open")&&(i.hasClass("active")?window.secondaryFontTags.push(o.attr("data-tag-name")):(a=window.secondaryFontTags.indexOf(o.attr("data-tag-name")))>-1&&window.secondaryFontTags.splice(a,1)),e.applyFontFilterTags()})),$page.body.on("click",".font-dropdown-in-place .show-more-previous-fonts",(function(e){e.preventDefault(),$(this).closest(".previous-fonts").find(".font").removeClass("hidden"),$(this).addClass("hidden")})),$page.body.on("click",".locked-icons .icon-slot:not(.empty)",(function(){var e=$(this).clone(),t=$(".current-icon-slot");t.find(".icon").remove(),t.attr("data-restore-from-history","true"),t.prepend(e.wrap('<div class="icon"></div>')),t.removeClass("empty"),$(".section-add-icon .btn-submit").trigger("click")})),$page.body.on("click",".editor-config-column .btn-submit, .sub-section-variations .btn-generate-variations",(function(t){t.preventDefault();var o={iconSvgString:"",iconType:"",iconData:{},selectedEffects:{container:"",transformation:"",pattern:""}};$(t.target).hasClass("btn-change-fonts")&&window.enableSwitchToDefaultLetterCase&&($(".font-dropdown-primary").hasClass("open")?o.enableSwitchToPrimaryDefaultLetterCase=!0:$(".font-dropdown-secondary").hasClass("open")&&(o.enableSwitchToSecondaryDefaultLetterCase=!0));var i=!$(this).hasClass("btn-generate-variations");if(i?(SmashingLogo.Utils.showLoadingAnimation(),$(".config-section.section-history").removeClass("ajax-finished")):e.disableVariationButtons(),$(".current-icon-slot img").length)$.ajax({url:"/get-icon-svg-string/",type:"POST",data:{iconPath:$(".current-icon-slot .icon").attr("data-icon-url"),iconId:$(".current-icon-slot .icon").attr("data-icon-id")},timeout:6e4,success:function(e){o.isInitialCreation=!0,o.iconSvgString=e,o.iconType="icon",o.iconData={isIcon:"true",iconType:"icon",rawIconId:$(".current-icon-slot .icon").attr("data-icon-id"),combineTerms:$(".current-icon-slot .icon").attr("data-combine-terms"),selectedEffects:{container:"",transformation:"",pattern:""},fillRule:$(e).find("path").attr("fill-rule"),fillRuleOriginal:$(e).find("path").attr("fill-rule")},i?o.editMode=!0:o.variationMode=!0;var t=$('#modalIconSelection .sub-section-mix-type[data-sub-section-mix-type-identifier="suggestions"]'),n=$('<div class="icon icon-to-combine" data-icon-id="'+o.iconData.rawIconId+'" data-combine-terms="'+o.iconData.combineTerms+'" data-svg-path="'+$(e).find("path").attr("d")+'">'+o.iconSvgString+"</div>");SmashingLogo.Utils.addIconSuggestions(t.find(".combine-icon-list"),n,"prepend"),a(o)},error:function(){console.log("process error")}});else if($(".current-icon-slot .thumbnail-icon [data-paper-data*=isIcon]").length){var n=$(".current-icon-slot .thumbnail-icon [data-paper-data*=isIcon]"),s=$.parseJSON(n.attr("data-paper-data")),r=n.clone();r.removeAttr("data-paper-data").removeAttr("fill").removeAttr("style");var d,l=$("#modalEffectLibrary .col-preview .original [data-paper-data*=isIcon]");d=l.length?$.parseJSON(l.attr("data-paper-data")):s,o.iconSvgString="<svg>"+r.html()+"</svg>",o.iconData=s,o.iconType=s.iconType,o.selectedEffects=s.selectedEffects,o.iconData.fillRule=n.find("path").attr("fill-rule"),s.blockLetter&&(o.iconData.blockLetter=s.blockLetter),i?(o.editMode=!0,$(".current-icon-slot").attr("data-is-initial-creation")&&(o.isInitialCreation=!0),$(".current-icon-slot").attr("data-restore-from-history")&&(o.restoreFromHistory=!0)):(o.variationMode=!0,o.iconData.fillRule=d.fillRule),a(o)}else if($(".current-icon-slot .icon[data-icon-id]").length&&$(".current-icon-slot .icon[data-svg-path]").length){var c=$(".current-icon-slot .icon[data-icon-id]"),g=c.find("svg path").attr("fill-rule");o.editMode=!0,o.isInitialCreation=!0,o.iconSvgString=c.html(),o.iconType="icon",o.iconData={isIcon:"true",iconType:"icon",rawIconId:c.attr("data-icon-id"),combineTerms:c.attr("data-combine-terms"),selectedEffects:{container:"",transformation:"",pattern:""},fillRule:g,fillRuleOriginal:g},a(o)}else i?o.editMode=!0:o.variationMode=!0,a(o)})),$page.body.on("click",".combine-step .combine-results .icon",(function(){var e=$(this),t=e.attr("data-combine-terms"),o=e.attr("data-icon-id"),i=e.find("path").attr("fill-rule"),n=e.clone(),s=$(".current-icon-slot");s.find(".icon").remove(),s.prepend(n.wrap('<div class="icon"></div>')),s.removeClass("empty"),s.attr("data-is-initial-creation","true"),e.addClass("selected").siblings().removeClass("selected"),SmashingLogo.Utils.showLoadingAnimation();var r=$('#modalIconSelection .sub-section-mix-type[data-sub-section-mix-type-identifier="suggestions"]');SmashingLogo.Utils.addIconSuggestions(r.find(".combine-icon-list"),e,"prepend"),SmashingLogo.IconSearch.deselectCombineIcons(),a({editMode:!0,isInitialCreation:!0,iconSvgString:e.html(),iconType:"icon",rawIconId:o,selectedEffects:{container:"",transformation:"",pattern:""},iconData:{isIcon:"true",iconType:"icon",rawIconId:o,combineTerms:t,selectedEffects:{container:"",transformation:"",pattern:""},fillRule:i,fillRuleOriginal:i}})})),$page.body.on("click",".btn-remove-variations",(function(){e.deleteVariations($(this).closest(".sub-section-variations"),SmashingLogo.Utils.getParameterByName("s",window.location))})),$page.body.on("click",".section-history .horizontal-logo-wrapper .item, .sub-section-variations .item",(function(){window.drag||(SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/editor/override-design/",type:"POST",data:{logoPath:$(this).find(".logo-preview").attr("data-svg-file-path")},timeout:6e4,success:function(){window.location.reload(!0)},error:function(){console.log("process error")}}))})),$page.buttons.contrastBackground.on("click",(function(e){e.preventDefault(),$(".btn-close-modal").removeClass("hidden");var t=$(this).attr("data-hex-code"),a=$page.body.attr("data-logo-path");$.getJSON("/static/pantone-color-selection.json",(function(e){var o=$("#modalColorPaletteBackground");o.find(".swatches").length&&o.find(".modal-body").html("");var i=$('<div class="swatches"></div>'),n="";n+='<div class="color-palette-swatch-background" data-hex-color="#000000" style="background-color: #000000">&nbsp;</div>',n+='<div class="color-palette-swatch-background" data-hex-color="#FFFFFF" style="background-color: #ffffff">&nbsp;</div>';for(var s=0;s<e.length;s++)n+='<div class="color-palette-swatch-background" data-hex-color="#'+e[s].hex+'" style="background-color: #'+e[s].hex+'">&nbsp;</div>';o.find(".modal-body").append(i),o.find(".swatches").append(n),o.attr("data-old-color",t),o.attr("data-svg-path",a),o.find(".color-palette-swatch-background").removeClass("active"),o.find('.color-palette-swatch-background[data-hex-color="'+t.toLowerCase()+'"]').addClass("active"),o.find('.color-palette-swatch-background[data-hex-color="'+t.toUpperCase()+'"]').addClass("active"),o.modal("show"),$page.body.addClass("open-modal-contrast-background")}))})),$page.body.on("click",".edit-custom-color-container .select-color .swatch",(function(e){e.preventDefault(),$(".edit-custom-color-container .select-color .swatch").removeClass("active"),$(this).addClass("active"),window.customColorPipetteHex=$(this).attr("data-hex-code"),window.customColorEraseMode=!1,$(".section.colors .mutations-column .items .item.template-contrast").removeClass("erase-mode"),$(".edit-custom-color-container .select-color .eraser").removeClass("active"),$(".edit-custom-color-container .select-color .btn-pick-color").removeClass("active")})),$page.body.on("click",".edit-custom-color-container .select-color .eraser",(function(e){e.preventDefault(),$(this).addClass("active"),window.customColorEraseMode=!0,$(".section.colors .mutations-column .items .item.template-contrast").addClass("erase-mode"),$(".edit-custom-color-container .select-color .swatch").removeClass("active"),$(".edit-custom-color-container .select-color .btn-pick-color").removeClass("active")})),$page.body.on("click",".select-color .btn-pick-color",(function(){$(this).addClass("active"),$(".edit-custom-color-container .select-color .swatch").removeClass("active"),$(".edit-custom-color-container .select-color .eraser").removeClass("active")})),$page.body.on("click","#modalColorPicker .btn-color-picker-add-swatch",(function(){$("#modalColorPicker").modal("hide"),e.refreshUsedColorSwatches()})),$page.body.on("click",".background .btn-pick-color",(function(){})),$page.body.on("click","#modalColorPaletteBackground .color-palette-swatch-background",(function(t){t.preventDefault(),$(this).addClass("active").siblings().removeClass("active");var a=$(this).attr("data-hex-color"),o=$(".section.colors .mutations-column .items .item.template-contrast");o.css("background-color",a),o.attr("data-back-hex",a.replace("#",""));var i=$('.mutations-nav-column .carousel .nav-item[data-template-identifier="Contrast"]');if($page.buttons.contrastBackground.attr("data-hex-code").toLowerCase()===a.toLowerCase())return!1;$page.buttons.contrastBackground.attr("data-hex-code",a),e.pushToUndoHistory(),$page.buttons.contrastBackground.css({color:"#ffffff","background-color":a,"border-color":a}),i.css({"background-color":a}),e.checkBackgroundColorButtonForBrightness(a),o.find(".preview-wrap-customize-colors .on-off-slider").css("background-color",SmashingLogo.ColorUtils.getSuitableBlendColor(a)),parseInt($(window).width())<1200&&$("#modalColorPaletteBackground").modal("hide")})),$page.body.append('<button class="btn btn-lg btn-primary hidden btn-close-modal"><span class="glyphicon glyphicon-remove"></span><span>&nbsp;'+window.i18nClose+"</span></button>")},this.isWidescreenResolution=function(){return window.matchMedia("(max-height: 1000px)").matches&&window.matchMedia("(orientation: landscape)").matches},this.dynamicConfigTabHeight=function(){if(0!==$page.editorNav.length){$page.configColumn.css("min-height",""),$page.editorContentWrapper.removeClass("color-mutations-aside"),e.setMutationsNavLayout();var t,a=$(".config-section.section-change-colors.active").length||0===$(".config-section.active").length,o=e.isWidescreenResolution()||$page.mutationsColumn.hasClass("pull-up")||a?0:65;t=$page.body.hasClass("page-editor-post-purchase")?$(window).height()-$(".editor-header-container").outerHeight()+o-$page.editorSections.height()-$(".sidebar-column .sidebar-inner").outerHeight():$(window).height()-$(".seamless-header-container").outerHeight()+o-$(".variations-header").outerHeight()-$(".filter-sections-header-wrapper").outerHeight()-$page.editorSections.height(),e.isWidescreenResolution()&&(t=$page.editorSections.height()),$page.configColumn.css("min-height",t),$page.configColumn.height()>t?$page.sidebar.addClass("compact-height-layout"):$page.sidebar.removeClass("compact-height-layout"),a||(e.isWidescreenResolution()?$page.mutationsColumn.removeClass("pull-up"):$page.mutationsColumn.addClass("pull-up"))}},this.dynamicFontDropdownHeight=function(){var e=$page.configColumn.height(),t=$(".font-dropdown-in-place.open .available-fonts.dropdown-menu .sub-section");0!==t.length&&t.css("height",e-(t.closest(".font-dropdown-in-place").position().top+t.closest(".font-dropdown-in-place").height()))},this.deleteVariations=function(e,t){SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/editor/delete-variations-by-type/",type:"GET",data:{s:t,variationType:$page.inputs.variationHiddenField.val()},timeout:6e4,success:function(){0!==e.find(".horizontal-logo-wrapper .item").length?e.find(".horizontal-logo-wrapper .item").animate({opacity:0},700,(function(){e.find(".horizontal-logo-wrapper .item").remove(),SmashingLogo.Utils.hideLoadingAnimation(),SmashingLogo.LogoMaker.handleDisplayOfPrevNextButtons(e)})):SmashingLogo.Utils.hideLoadingAnimation()},error:function(){console.log("process error")}})},this.loadEditorView=function(){var t={s:SmashingLogo.Utils.getParameterByName("s",window.location)};$page.body.hasClass("page-editor-post-purchase")&&(t.isPostPurchaseEdit=!0),$.ajax({url:"/editor/view/",type:"GET",data:t,timeout:6e4,success:function(t){"auth-error"!==t?(e.refreshComponents(t),lazyload(),e.bridgeToQuickEditor(),e.activateSectionBasedOnHash(),$page.body.removeClass("initial-page-setup-in-progress"),SmashingLogo.Utils.hideLoadingAnimation()):window.location.assign($(".col-menu .link-logo-maker").attr("href"))},error:function(){console.log("process error")}})},this.bridgeToQuickEditor=function(){var e=$page.body.attr("data-logo-path"),t=e.substr(e.lastIndexOf("/")+1).split("_")[1].substr(0,9),a=e.replace("/static/tmp_private/_","").substr(0,9),o=$("html").attr("lang"),i=$(".section-add-icon .current-icon-slot").hasClass("empty"),n="/"+o+"/quick-edit?s="+a+"-"+t;$page.quickEditMenu.find('.mode[data-filter-container="text"]').attr("data-quick-edit-url",n+"#text-name"),$page.quickEditMenu.find('.mode[data-filter-container="color"]').attr("data-quick-edit-url",n+"#color-spectrums"),$page.quickEditMenu.find('.mode[data-filter-container="font"]').attr("data-quick-edit-url",n+"#font-tags");var s=i?"#icon-select":"#icon-size";$page.quickEditMenu.find('.mode[data-filter-container="icon"]').attr("data-quick-edit-url",n+s),$page.quickEditMenu.find('.mode[data-filter-container="layout"]').attr("data-quick-edit-url",n+"#layout-text"),$(".filter-sections-header-wrapper .switch-modes .mode").each((function(){var e=$(this);e.attr("data-quick-edit-url",n+"#"+e.attr("data-filter-section"))})),$page.quickEditMenu.on("click",".mode",(function(){SmashingLogo.Utils.showLoadingAnimation(),window.location.assign($(this).attr("data-quick-edit-url"))})),$(".filter-sections-header-wrapper .switch-modes").on("click",".mode",(function(){SmashingLogo.Utils.showLoadingAnimation(),window.location.assign($(this).attr("data-quick-edit-url"))}))},this.activateSectionBasedOnHash=function(){var e,t,a=window.location.hash;a&&-1!==["#font-advanced","#color-advanced","#icon-advanced","#layout-advanced"].indexOf(a)&&("#font-advanced"===a?(t="font",e="#fonts",$(".filter-sections-header-wrapper .font").removeClass("hidden")):"#color-advanced"===a?(t="color",e="#colors",$(".filter-sections-header-wrapper .color").removeClass("hidden")):"#icon-advanced"===a?(t="icon",e="#icon",$(".filter-sections-header-wrapper .icon").removeClass("hidden")):"#layout-advanced"===a&&(t="layout",e="#layout",$(".filter-sections-header-wrapper .layout").removeClass("hidden")),t&&$page.quickEditMenu.find('.mode[data-filter-container="'+t+'"]').addClass("active"),e&&$page.editorNav.find('a[data-hash="'+e+'"]').closest("li").trigger("click"))},this.loadSharedView=function(){$.ajax({url:"/editor/shared-view/",type:"GET",data:{s:SmashingLogo.Utils.getParameterByName("s",window.location)},timeout:6e4,success:function(t){if("auth-error"!==t){e.addColorMutations(t),window.customColorMapping=t.customColorMapping;var a=$(".section.colors .mutations-column .items .item.template-contrast");a.find(".btn-wrap-customize-colors").remove(),a.find(".preview-wrap-customize-colors").remove(),e.customColorSetup(t),e.customColorHalfCircles(),$(".placeholder-loading").remove(),SmashingLogo.Utils.hideLoadingAnimation()}},error:function(){console.log("process error")}})},this.closeConfigColumn=function(){$page.editorContentWrapper.removeClass("editor-mode").removeClass("show-mutations-nav"),$(".editor-config-column .config-column .config-section[data-section]").removeClass("active"),$(".local-nav .nav-tabs li").removeClass("active"),$(".dropdown.font-dropdown-in-place").removeClass("open"),$page.editorContentWrapper.removeClass("color-mutations-aside"),e.disableSegmentColorMode()},this.addColorMutations=function(e){var t=$(".section.colors .mutations-column .items"),a="default"===e.renderInstructions.randomTemplate||"Default"===e.renderInstructions.randomTemplate,o=e.logoFileName.substr(e.logoFileName.indexOf("_hex_")+5,6),i=e.logoFileName.substr(e.logoFileName.indexOf("_hex2_")+6,6);t.append($('<div data-template-identifier="Default" data-back-hex="ffffff" data-front-hex="'+o+";"+i+'" data-random-template="'+a+'" class="default item"></div>').append('<img class="wm" src="/static/img/wm.svg"></img>').append(e.svgString)),SmashingLogo.LogoMaker.renderTemplates(e.renderInstructions,e.logoFileName,e.svgString,t,"item",!1),$page.body.attr("data-hex-1","#"+o),$page.body.attr("data-hex-2","#"+i);var n=$(".section.colors .mutations-nav-column .carousel .carousel-inner");t.find(".item").each((function(){var e=$(this),t=e.attr("data-front-hex").split(";")[0],a=e.attr("data-front-hex").split(";")[1];void 0!==a&&"xxxxxx"!==a||(a=t),n.append('<div data-back-hex="'+e.attr("data-back-hex")+'" data-template-identifier="'+e.attr("data-template-identifier")+'" class="nav-item" style="background-color: #'+e.attr("data-back-hex")+'"><div class="nav-item-inner"><div class="half-circles"><div data-hex="'+t+'" class="half-circle left" style="background-color: #'+t+'"></div><div data-hex="'+a+'" class="half-circle right" style="background-color: #'+a+'"></div></div></div>');var o=n.find(".nav-item:last");"ffffff"===e.attr("data-back-hex")&&o.addClass("white-background")}));var s=$(".mutations-column .items [data-random-template=true]").index();$(".mutations-nav-column .nav-item").eq(s).trigger("click")},this.appendColorPalette=function(t,a,o,i){$.getJSON("/static/pantone-color-selection.json",(function(n){for(var s=["AC8400-FDEE79","bdc3c7-767a7c","2193b0-6dd5ed","00968f-00fff4","01998E-FEFE67","56ab2f-a8e063","ee9ca7-ffdde1","eacda3-d6ae7b","7b4397-dc2430","4568dc-b06ab3","ff5f6d-ffc371","ed4264-ffedbc","F04393-F9C449","8360c3-2ebf91","FF9CDA-EA4492","D0E6A5-FFDD94"],r="",d=0;d<s.length;d++){var l=s[d].split("-")[0],c=s[d].split("-")[1];r+='<div class="gradient" style="background-color: '+SmashingLogo.ColorUtils.getMixedColor("#000000","#"+l,.2)+'" data-gradient-colors="'+s[d]+'"><span class="color" style="background: #'+l+"; background: linear-gradient(90deg, #"+l+" 35%, #"+c+' 100%);"></span></div>'}for(var g=$('<div id="modalColorPalette" class="modal"><div class="modal-dialog"><div class="modal-content"><button class="close" type="button" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button><div class="color-palette"><div class="row"><div class="col-sm-12"><div class="target-color"><ul class="nav nav-tabs"><li role="presentation" class="active"><a href="#"><span class="glyphicon glyphicon-tint primary"></span></a></li><li role="presentation"><a href="#"><span class="glyphicon glyphicon-tint secondary"></span></a></li></ul></div></div></div><div class="swatches"></div><div class="gradients"><h2 class="color-section-headline">Gradients</h2><div class="gradients-container">'+r+'</div></div><h2 class="color-section-headline">Custom HEX Color</h2><div class="hex-code-form"><input class="form-control" type="text" placeholder="Hex Code" id="my-hex-code" name="my-hex-code"></input><button class="btn btn-default" id="hex-code-button"><span class="glyphicon glyphicon-chevron-right"></span></button></div></div></div></div>'),p="",f=0;f<n.length;f++)p+=0===f?'<div class="color-palette-swatch" data-hex-color="#000000" style="background-color: #000000">&nbsp;</div>':'<div class="color-palette-swatch" data-hex-color="#'+n[f].hex+'" style="background-color: #'+n[f].hex+'">&nbsp;</div>';t.append(g),$(".color-palette").find(".swatches").append(p);var h=$(".color-palette .target-color li:nth-child(1)"),u=$(".color-palette .target-color li:nth-child(2)");h.addClass("active"),u.removeClass("active"),h.find(".primary").css("color",a).attr("data-hex-color",a),u.find(".secondary").css("color",o).attr("data-hex-color",o),"#xxxxxx"===o?u.hide():u.show(),e.setupAdditionallyRenderedColors(i.renderedColors,a,o),$(".color-palette").show(),$(".target-color .nav").on("click","a",(function(e){e.preventDefault(),$(this).closest("li").addClass("active").siblings().removeClass("active");var t=0===$(this).closest("li").index()?$page.body.attr("data-hex-1"):$page.body.attr("data-hex-2");$(".modal-backdrop").css({"background-color":t})})),$("#modalColorPalette").on("hidden.bs.modal",(function(){$page.body.removeClass("color-modal-open"),$(".btn-close-modal").addClass("hidden")})),SmashingLogo.Utils.initTooltips()}))},this.getAjaxParamsForLogoGeneration=function(e){var t={companyName:$("#companyName").val(),companyTagline:$("#companyTagline").val(),fanciness:3,patternSelection:1,drawSpecificPattern:!0,currentLogoPath:$page.body.attr("data-logo-path"),staticLogoId:SmashingLogo.Utils.getParameterByName("s",window.location).split("-")[1],colorOverride:"original",iconSvgString:e.iconSvgString,iconType:e.iconType,iconData:e.iconData,selectedEffects:e.selectedEffects,isInitialCreation:e.isInitialCreation,restoreFromHistory:e.restoreFromHistory,iconStyle:$(".section-add-icon .sub-section-style .options-row .option-radio.selected").closest(".options-row").attr("data-option-value"),iconTheme:$(".section-add-icon .sub-section-icon-theme .options-row .variation-options .selected").attr("data-variation-identifier"),fontStyle:$(".section-font-settings .sub-section-font-style .options-row .variation-options .selected").attr("data-variation-identifier"),fontStyleGlyphIndices:$("#modalExtendedSettings #fontStyleGlyphIndices").val(),textStyle:$(".section-font-settings .sub-section-text-style .options-row .variation-options .selected").attr("data-variation-identifier"),secondaryTextStyle:$(".section-font-settings .sub-section-secondary-text-style .options-row .variation-options .selected").attr("data-variation-identifier"),textLayoutStyle:$(".section-layout-options .sub-section-text-layout .options-row .option-radio.selected").closest(".options-row").attr("data-option-value"),secondaryTextPositionStyle:$(".section-layout-options .sub-section-smart-secondary .options-row .option-radio.selected").closest(".options-row").attr("data-option-value"),secondaryLayoutStyle:$(".section-layout-options .sub-section-secondary-layout .options-row .option-radio.selected").closest(".options-row").attr("data-option-value"),containerLayoutStyle:$(".section-layout-options .sub-section-container-layout .options-row .option-radio.selected").closest(".options-row").attr("data-option-value"),primaryFontId:$page.body.attr("data-primary-font-id"),secondaryFontId:$page.body.attr("data-secondary-font-id"),specificPatternId:$page.body.attr("data-pattern-id"),hex1:$page.body.attr("data-hex-1"),hex2:$page.body.attr("data-hex-2"),additionalHexPair:$page.body.attr("data-additional-color-change"),customColorMapping:window.customColorMapping,selectedColorTemplate:$(".mutations-column .items .item.active").attr("data-template-identifier")};if(e.editMode){var a;t.editMode=!0,$(".btn-change-contrast-background[data-hex-code]").length&&(t.contrastBackgroundColor=$(".btn-change-contrast-background[data-hex-code]").attr("data-hex-code")),e.enableSwitchToPrimaryDefaultLetterCase&&(t.enableSwitchToPrimaryDefaultLetterCase=!0),e.enableSwitchToSecondaryDefaultLetterCase&&(t.enableSwitchToSecondaryDefaultLetterCase=!0);var o=$(' .sub-section-style .options-row[data-option-value="'+t.iconStyle+'"] .variation-options');o.length&&((a=o.find(".option.selected")).length&&(t.iconVariationIdentifier=a.attr("data-variation-identifier")),$("#iconSizeHiddenField").length&&(t.iconSize=$("#iconSizeHiddenField").val()),$("#iconGapHiddenField").length&&(t.iconGap=$("#iconGapHiddenField").val()));var i=$(' .sub-section-text-layout .options-row[data-option-value="'+t.textLayoutStyle+'"] .variation-options');i.length&&(a=i.find(".option.selected")).length&&(t.textLayoutVariationIdentifier=a.attr("data-variation-identifier"));var n=$(' .sub-section-smart-secondary .options-row[data-option-value="'+t.secondaryTextPositionStyle+'"] .variation-options');n.length&&((a=n.find(".option.selected")).length&&(t.secondaryTextPositionVariationIdentifier=a.attr("data-variation-identifier")),$("#secondaryGapHiddenField").length&&(t.secondaryGap=$("#secondaryGapHiddenField").val()));var s=$(' .sub-section-secondary-layout .options-row[data-option-value="'+t.secondaryLayoutStyle+'"] .variation-options');s.length&&(a=s.find(".option.selected")).length&&(t.secondaryLayoutVariationIdentifier=a.attr("data-variation-identifier"));var r=$(' .sub-section-container-layout .options-row[data-option-value="'+t.containerLayoutStyle+'"] .variation-options');r.length&&((a=r.find(".option.selected")).length&&(t.containerLayoutVariationIdentifier=a.attr("data-variation-identifier")),$("#containerPaddingHiddenField").length&&(t.containerPadding=$("#containerPaddingHiddenField").val()),t.rectangleClipValues={top:$("#rectangleClipTopPaddingHiddenField").val(),bottom:$("#rectangleClipBottomPaddingHiddenField").val(),left:$("#rectangleClipLeftPaddingHiddenField").val(),right:$("#rectangleClipRightPaddingHiddenField").val(),skew:$("#rectangleClipSkewHiddenField").val()},t.jbensonValues={activeType:$("#jbensonTypeHiddenField").val(),activeStyle:$("#jbensonStyleHiddenField").val(),activeOuterStyle:$("#jbensonOuterStyleHiddenField").val(),activeConnector:$("#jbensonConnectorHiddenField").val()},t.jbensonPortraitValues={activeType:$("#jbensonPortraitTypeHiddenField").val(),activeStyle:$("#jbensonPortraitStyleHiddenField").val(),activeConnector:$("#jbensonPortraitConnectorHiddenField").val()},t.barBadgeValues={activeLayout:$("#barBadgeLayoutHiddenField").val(),activeBarStyle:$("#barBadgeBarStyleHiddenField").val(),activeStyle:$("#barBadgeStyleHiddenField").val(),activeBarShape:$("#barBadgeBarShapeHiddenField").val(),activeBarRibbonStyle:$("#barBadgeBarRibbonStyleHiddenField").val()},t.shieldValues={activeLayout:$("#shieldLayoutHiddenField").val(),activeHeaderEffect:$("#shieldHeaderEffectHiddenField").val(),activeFooterEffect:$("#shieldFooterEffectHiddenField").val(),activeShape:$("#shieldShapeHiddenField").val(),activeStyle:$("#shieldStyleHiddenField").val()},t.circleValues={activeStyle:$("#circleStyleHiddenField").val(),activePadding:$("#circlePaddingHiddenField").val()},t.squareValues={activeStyle:$("#squareStyleHiddenField").val(),activePadding:$("#squarePaddingHiddenField").val()});var d=$(".sub-section-font-style .variation-options");d.length&&(a=d.find(".option.selected")).length&&(t.fontStyleVariationIdentifier=a.attr("data-variation-identifier")),$("#primaryLetterSpacingHiddenField").length&&(t.primaryLetterSpacing=$("#primaryLetterSpacingHiddenField").val());var l=$(".sub-section-text-style .variation-options");l.length&&(a=l.find(".option.selected")).length&&(t.textStyleVariationIdentifier=a.attr("data-variation-identifier"));var c=$(".sub-section-secondary-text-style .variation-options");c.length&&(a=c.find(".option.selected")).length&&(t.secondaryTextStyleVariationIdentifier=a.attr("data-variation-identifier"))}return e.variationMode&&(t.variationMode=!0,t.variationType=$page.inputs.variationHiddenField.val(),t.colorVariationSpectrums=SmashingLogo.LogoMaker.getActiveColorSpectrums($(".sub-section-variations"))),$page.body.attr("data-gradient-mode")&&(t.gradientMode=!0),t},this.colorBranding=function(e,t){var a,o;if(e=e.replace("#",""),t=t.replace("#",""),$page.body.attr("data-gradient-mode")){a=$(".section-change-colors .change-buttons .btn-hex-1"),o=$(".section-change-colors .change-buttons .btn-hex-2"),a.addClass("gradient-color-logo"),o.addClass("hidden");var i=SmashingLogo.ColorUtils.getMixedColor("#000000","#"+e,.2);a.css("background-color",i),a.find(".color").remove(),a.append('<span class="color" style="background: #'+e+"; background: linear-gradient(90deg, #"+e+" 35%, #"+t+' 100%);"></span>')}else a=$(".section-change-colors .change-buttons .btn-hex-1"),o=$(".section-change-colors .change-buttons .btn-hex-2"),a.removeClass("gradient-color-logo"),a.find(".color").remove(),o.removeClass("hidden"),a.css("background-color","#"+e).attr("data-hex",e),o.css("background-color","#"+t).attr("data-hex",t);$(".color-palette .target-color li:nth-child(1)").find(".primary").css("color","#"+e).attr("data-hex-color","#"+e),$(".color-palette .target-color li:nth-child(2)").find(".secondary").css("color","#"+t).attr("data-hex-color","#"+t),SmashingLogo.ColorUtils.brightnessByColor("#"+t)>SmashingLogo.ColorUtils.brightnessByColor("#"+e)&&!$page.body.attr("data-gradient-mode")&&(t=[e,e=t][0]);SmashingLogo.ColorUtils.hexToRgb(e);$(".fullscreen-section.cta .btn-purchase").css({color:"#"+e}),$(".fullscreen-section.cta .btn-purchase .glyphicon").css({color:"#"+e}),$(".fullscreen-section.cta").css({"background-color":"#"+e}),$(".section-font-settings .current-font .corner-ribbon, .carousel .sujet-ribbon").css({"background-color":"#"+e}),$(".fullscreen-section.preview .sujet-container.section-tablet .deco-jumbo-header").css({"background-color":"#"+e}),SmashingLogo.ColorUtils.brightnessByColor("#"+e)>180&&$(".section-shield.sujet-container .logo-wrapper").addClass("light-logo-colors")},this.disableVariationButtons=function(){$page.buttons.variationGenerateMore.attr("disabled","disabled"),$page.buttons.deleteVariations.attr("disabled","disabled"),$page.buttons.sliderNext.addClass("loading-in-progress"),$page.buttons.sliderPrev.addClass("loading-in-progress"),$page.buttons.instantVariationSliderNext&&$page.buttons.instantVariationSliderNext.addClass("loading-in-progress"),$page.buttons.instantVariationSliderPrev&&$page.buttons.instantVariationSliderPrev.addClass("loading-in-progress")},this.reEnableVariationButtons=function(){$page.buttons.variationGenerateMore.removeAttr("disabled"),$page.buttons.deleteVariations.removeAttr("disabled"),$page.buttons.sliderNext.removeClass("loading-in-progress"),$page.buttons.sliderPrev.removeClass("loading-in-progress"),$page.buttons.instantVariationSliderNext&&$page.buttons.instantVariationSliderNext.removeClass("loading-in-progress"),$page.buttons.instantVariationSliderPrev&&$page.buttons.instantVariationSliderPrev.removeClass("loading-in-progress")},this.attachVariationEvents=function(){SmashingLogo.LogoMaker.attachDragger($page.variationWrappers.color),SmashingLogo.LogoMaker.attachDragger($page.variationWrappers.font),SmashingLogo.LogoMaker.attachDragger($page.variationWrappers.icon),SmashingLogo.LogoMaker.attachDragger($page.variationWrappers.layout),$page.variationWrappers.color.scroll((function(){SmashingLogo.LogoMaker.handleDisplayOfPrevNextButtons($page.variationWrappers.color)})),$page.variationWrappers.font.scroll((function(){SmashingLogo.LogoMaker.handleDisplayOfPrevNextButtons($page.variationWrappers.font)})),$page.variationWrappers.icon.scroll((function(){SmashingLogo.LogoMaker.handleDisplayOfPrevNextButtons($page.variationWrappers.icon)})),$page.variationWrappers.layout.scroll((function(){SmashingLogo.LogoMaker.handleDisplayOfPrevNextButtons($page.variationWrappers.layout)}))},this.attachEventHandler=function(){SmashingLogo.LogoMaker.attachDragger($("#modalExtendedSettings .setting .dropdown-menu"),!0),SmashingLogo.LogoMaker.attachDragger($(".section-history .horizontal-logo-wrapper"),!0),e.attachVariationEvents(),$page.buttons.sliderNext.on("click",(function(){SmashingLogo.LogoMaker.sliderNext($(".config-section.active .sub-section-variations.active .horizontal-logo-wrapper"),$(".config-section.active .sub-section-variations.active .btn-generate-variations"))})),$page.buttons.sliderPrev.on("click",(function(){SmashingLogo.LogoMaker.sliderPrev($(".config-section.active .sub-section-variations.active .horizontal-logo-wrapper"))})),$page.window.on("resize",(function(){e.dynamicConfigTabHeight(),e.dynamicFontDropdownHeight()})),$(".font-dropdown-in-place .dropdown-menu").on("scroll",(function(){var e=$(this).find(".other-fonts-list");if(!(0===e.length||e.length&&0===e.find(".font.visible.pagebrowser-active").length)){var t=e.find(".font.visible.pagebrowser-active:last"),a=$(window).height()>t.offset().top;if(e.length&&a&&e.find(".font.visible.pagebrowser-inactive").length)for(var o=e.find(".font.visible.pagebrowser-inactive"),i=0;i<Math.min(20,o.length);i++)o.eq(i).addClass("pagebrowser-active").removeClass("pagebrowser-inactive")}})),$page.body.on("click",".available-fonts.dropdown-menu .switch-modes .mode",(function(){var t=$(this);t.addClass("active").siblings().removeClass("active");var a=t.attr("data-sub-section"),o=t.closest(".dropdown-menu").find('[data-sub-section-identifier="'+a+'"]');if(o.siblings(".sub-section").removeClass("active"),o.addClass("active"),"fonts-other"===a){var i=t.hasClass("recommended")?"recommended":"all";e.filterFonts(i,$(this).closest(".font-dropdown-in-place").find(".other-fonts-list .font")),e.applyFontFilterTags()}})),$page.body.on("click",".editor-config-column .config-section .color-spectrum-row .color-spectrum",(function(){$(this).toggleClass("selected")})),$page.body.on("click",".editor-config-column .config-section .font-categories-row .font-category",(function(){$(this).toggleClass("selected")})),$page.body.on("click",".editor-config-column .switch-modes .mode",(function(){var t=$(this);if(!t.hasClass("active")){t.addClass("active").siblings().removeClass("active");var a=t.attr("data-sub-section"),o=$('[data-sub-section-identifier="'+a+'"]');if(a.indexOf("-variations")>=0){var i=SmashingLogo.Utils.getParameterByName("s",window.location);e.buildLogoVariations(i)}"custom-background"===a?e.disableSegmentColorMode():"custom-select-color"===a?e.enableSegmentColorMode():"font-secondary"===a&&e.handleDisplayOfSecondaryFont(),o.siblings(".sub-section").removeClass("active"),o.addClass("active"),e.dynamicConfigTabHeight()}})),$(".editor-config-column .config-section .option-radio, .editor-config-column .config-section .options-row .on-off-label").on("click",(function(){var e=$(this).hasClass("on-off-label")?$(this).closest(".options-row").find(".option-radio"):$(this),t=!e.hasClass("selected"),a=e.closest(".options-group").find(".options-row").attr("data-option-value");$(this).closest(".options-group").find(".options-row[data-options-value!="+a+"]").find(".option-radio").removeClass("selected"),e.toggleClass("selected"),t&&$(".section-add-icon .btn-submit").trigger("click")})),$page.body.on("click",".editor-config-column .config-section .options-row .variation-options .option",(function(){var e=$(this),t=!e.hasClass("selected"),a=e.attr("data-variation-identifier");t&&($(this).closest(".variation-options").find(".option[data-variation-identifier!="+a+"]").removeClass("selected"),e.addClass("selected"),$(".section-add-icon .btn-submit").trigger("click"))})),$page.body.on("click",".editor-config-column .config-section .options-row .variation-options .preview-all",(function(){var t=$(this).closest(".sub-section").attr("data-sub-section-identifier");$("#modalLayoutVariations").attr("data-sub-section",t);var a=$(this).closest(".variation-options").find(".option"),o="";a.each((function(){o+='<div data-variation-identifier="'+$(this).attr("data-variation-identifier")+'" class="variation-container"><div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div>'})),0===$(this).closest(".sub-section").find(".options-headline").length?$("#modalLayoutVariations .modal-header").addClass("hidden"):$("#modalLayoutVariations .modal-header").removeClass("hidden"),$("#modalLayoutVariations .modal-header .sub-section").html($(this).closest(".sub-section").find(".options-headline").text()),$("#modalLayoutVariations .modal-header .option").html($(this).closest(".options-row").find(".on-off-label").text()),$("#modalLayoutVariations .modal-body").html(""),$("#modalLayoutVariations .modal-body").append(o),$("#modalLayoutVariations").modal("show"),$(".btn-close-modal").removeClass("hidden"),a.each((function(){var t=$(this),a=$(".current-icon-slot .thumbnail-icon [data-paper-data*=isIcon]"),o={iconSvgString:"",iconType:"",iconData:{},selectedEffects:{container:"",transformation:"",pattern:""}};if(a.length){var i=$.parseJSON(a.attr("data-paper-data")),n=a.clone();n.removeAttr("data-paper-data").removeAttr("fill").removeAttr("style"),o.iconSvgString="<svg>"+n.html()+"</svg>",o.iconData=i,o.iconType=i.iconType,o.selectedEffects=i.selectedEffects,i.blockLetter&&(o.iconData.blockLetter=i.blockLetter)}o.editMode=!0;var s=e.getAjaxParamsForLogoGeneration(o);t.closest(".sub-section-text-layout").length?s.textLayoutVariationIdentifier=t.attr("data-variation-identifier"):t.closest(".sub-section-smart-secondary").length?s.secondaryTextPositionVariationIdentifier=t.attr("data-variation-identifier"):t.closest(".sub-section-secondary-layout").length?s.secondaryLayoutVariationIdentifier=t.attr("data-variation-identifier"):t.closest(".sub-section-container-layout").length?s.containerLayoutVariationIdentifier=t.attr("data-variation-identifier"):t.closest(".sub-section-style").length?s.iconVariationIdentifier=t.attr("data-variation-identifier"):t.closest(".sub-section-font-style").length?s.fontStyleVariationIdentifier=t.attr("data-variation-identifier"):t.closest(".sub-section-text-style").length?s.textStyleVariationIdentifier=t.attr("data-variation-identifier"):t.closest(".sub-section-secondary-text-style").length&&(s.secondaryTextStyleVariationIdentifier=t.attr("data-variation-identifier")),s.returnSvgStringOnly=!0,$.ajax({url:"/logos/edit/",type:"POST",data:s,timeout:6e4,success:function(a){var o;t.closest(".sub-section-text-layout").length?o=a.textLayoutVariationIdentifier:t.closest(".sub-section-smart-secondary").length?o=a.secondaryTextPositionVariationIdentifier:t.closest(".sub-section-secondary-layout").length?o=a.secondaryLayoutVariationIdentifier:t.closest(".sub-section-container-layout").length?o=a.containerLayoutVariationIdentifier:t.closest(".sub-section-style").length?o=a.iconVariationIdentifier:t.closest(".sub-section-font-style").length?o=a.fontStyleVariationIdentifier:t.closest(".sub-section-text-style").length?o=a.textStyleVariationIdentifier:t.closest(".sub-section-secondary-text-style").length&&(o=a.secondaryTextStyleVariationIdentifier);var i=$("#modalLayoutVariations .variation-container[data-variation-identifier="+o+"]");i.append('<div class="inner-wrap"></div>');var n=i.find(".inner-wrap");e.appendSpecificColorMutation(n,a),i.find(".spinner").remove()},error:function(){console.log("process error")}})}))})),$("#modalEffectLibrary .effect.block-letter .header").append('<div class="select-monogram-letter"><ul class="monogram-letter-list"></ul></div>');for(var t=SmashingLogo.Utils.charList("A","Z"),a=SmashingLogo.Utils.charList("0","9"),o=t.concat(a),i=0;i<o.length;i++)$("#modalEffectLibrary .select-monogram-letter .monogram-letter-list").append('<li data-letter="'+o[i]+'"><button class="btn btn-default btn-monogram-container-az">'+o[i]+"</button></li>");$("#modalEffectLibrary .select-monogram-letter").on("click",".btn-monogram-container-az",(function(){var t=$(this).closest("li").attr("data-letter");SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/get-monogram-containers/",type:"POST",data:{letter:t},timeout:6e4,success:function(t){e.refreshMonogramContainers(t),$(".current-icon-slot .thumbnail-icon [data-paper-data*=isIcon]").length&&e.activeStateOfSelectedEffects($.parseJSON($("#modalEffectLibrary").attr("data-selected-effects"))),SmashingLogo.Utils.hideLoadingAnimation()},error:function(){SmashingLogo.Utils.hideLoadingAnimation(),console.log("process error")}})})),$page.body.on("click",".btn-customization-modal",(function(e){e.preventDefault(),$("#modalCustomizationForm").modal()})),$(".page-editor #form-customize-request").on("click",'input[type="submit"]',(function(e){e.preventDefault(),$.active>0||SmashingLogo.Utils.customizeRequestSubmit($(this))})),$page.body.on("click",".cta-buttons .btn-share",(function(e){e.preventDefault(),$("#modalShare").modal()})),$page.body.on("contextmenu","img",(function(){return!1})),$page.body.on("change",'.variation-selection-wrap input[name="variation-selection"]',(function(){$("#variationTypeHiddenField").val($('input[name="variation-selection"]:checked').val())})),$page.body.on("click",".btn-save-custom-color-change",(function(){$(".section-change-text .btn-change-text.btn-submit").trigger("click")})),$page.body.on("click",".color-palette-swatch, #hex-code-button",(function(){if(!($.active>0)){var e=$(this).hasClass("color-palette-swatch")?$(this).data("hex-color"):$("#my-hex-code").val();e=-1===e.indexOf("#")?"#"+e:e;var t=/^#[0-9A-F]{6}$/i.test(e);if("hex-code-button"!==$(this).attr("id")||t){$("#my-hex-code").removeClass("alert-danger");var a=$(".target-color .nav-tabs li.active"),o=a.index(),i=[];if($(".target-color .nav-tabs li .glyphicon[data-hex-color]").each((function(){i.push($(this).attr("data-hex-color").toLowerCase())})),a.find(".glyphicon[data-hex-color]").attr("data-hex-color").toLowerCase()!==e.toLowerCase()){if(i.indexOf(e.toLowerCase())>=0)return $("#modalSameColorsNotPossible").modal(),void $page.body.removeClass("loading-layer-active");o>1&&$page.body.attr("data-additional-color-change",a.find(".glyphicon").attr("data-hex-color").replace("#","").toLowerCase()+";"+e.replace("#","").toLowerCase()),$page.body.removeAttr("data-gradient-mode"),$page.body.attr("data-hex-"+(o+1),e),$(".section-add-icon .btn-submit").trigger("click")}}else $("#my-hex-code").addClass("alert-danger")}})),$page.body.on("click","#modalColorPalette .gradients-container .gradient",(function(){if(!($.active>0)){var e=$(this).attr("data-gradient-colors");$("body").attr("data-hex-1","#"+e.split("-")[0]),$("body").attr("data-hex-2","#"+e.split("-")[1]),$("body").attr("data-gradient-mode",!0),$(".section-add-icon .btn-submit").trigger("click")}})),$(".page-editor, .page-shared").on("click",".section.colors .mutations-nav-column .nav-item",(function(t){var a=$(this).index();$(this).addClass("active").siblings().removeClass("active"),$(".section.colors .items .item").removeClass("animate"),$(".section.colors .items .item").eq(a).addClass("active").siblings().removeClass("active"),"Contrast"===$(this).attr("data-template-identifier")?e.switchToColorCustomizeTab():e.switchToBrandColorsTab(),$page.body.hasClass("page-editor")&&void 0===t.isTrigger&&t.originalEvent&&$(".section-change-text .btn-change-text.btn-submit").trigger("click")}))},this.setMutationsNavLayout=function(){$(".config-section.section-change-colors.active").length&&($page.sidebar.offset().top<$(".mutations-nav-column").offset().top+$(".mutations-nav-column").height()&&!e.isWidescreenResolution()&&$('.section-change-colors .switch-modes .mode[data-sub-section="color-brand"]').hasClass("active")?$page.editorContentWrapper.addClass("color-mutations-aside"):$page.editorContentWrapper.removeClass("color-mutations-aside"))},this.switchToColorCustomizeTab=function(){$page.body.addClass("color-customize-mode"),$(".section-change-colors").addClass("custom-color-edit-mode"),$('.mode[data-sub-section="color-customize"]').addClass("active").siblings().removeClass("active"),$('[data-sub-section-identifier="color-customize"]').addClass("active"),$('[data-sub-section-identifier="color-brand"]').removeClass("active"),$(".sub-section-color-variations").removeClass("active"),e.dynamicConfigTabHeight()},this.switchToBrandColorsTab=function(){$page.body.removeClass("color-customize-mode"),$(".section-change-colors").removeClass("custom-color-edit-mode"),$('.mode[data-sub-section="color-brand"]').addClass("active").siblings().removeClass("active"),$('[data-sub-section-identifier="color-customize"]').removeClass("active"),$('[data-sub-section-identifier="color-brand"]').addClass("active"),$(".sub-section-color-variations").removeClass("active"),e.dynamicConfigTabHeight()},this.handleDisplayOfSecondaryFont=function(){var e=$(".config-section .font-row.secondary .sub-section-secondary-text-style");$page.body.attr("data-company-tagline")&&$page.body.attr("data-company-tagline").length?e.removeClass("hidden"):e.addClass("hidden")},this.customColorSetup=function(t,a){var o=$(".section.colors .mutations-column .items .item.template-contrast"),i=o.find("svg");"undefined"!=typeof Storage&&0===o.find(".undo-controls").length&&o.append('<div class="undo-controls"><div class="undo-controls-inner"><div class="step-back disabled"><span class="glyphicon glyphicon-repeat"></span></div></div></div>'),o.append('<div class="preview-wrap-customize-colors"><span class="switch-label glyphicon glyphicon-pencil"></span><span class="on-off-switch"><span class="on-off-slider round"></span></span><span class="switch-label glyphicon glyphicon-eye-open"></span></div>'),o.append('<div class="btn-wrap-customize-colors"><button class="btn btn-primary btn-save-custom-color-change"><span class="inner-wrap"><span class="glyphicon glyphicon-ok"></span>'+window.i18nSaveChangesOneWord+"</span></button></div>"),t.renderInstructions.templateContrastColor&&o.find(".preview-wrap-customize-colors .on-off-slider").css("background-color",SmashingLogo.ColorUtils.getSuitableBlendColor(t.renderInstructions.templateContrastColor)),o.addClass("active"),$(".section.colors .mutations-column .items .item").removeClass("custom-color-rect-ready");var n=o.find("svg"),s=n.get(0).getBoundingClientRect(),r=s.width/550;if(o.find("path").each((function(){var e=$(this),t=e.get(0).getBoundingClientRect(),a="path-id-"+Math.round(1e5*Math.random());e.attr("id",a),n.append('<rect data-path-id="'+a+'" stroke="#ff0000" stroke-width="2" class="invisible-bbox" x="'+Math.round((t.left-s.left)/r)+'" y="'+Math.round((t.top-s.top)/r)+'" fill="transparent" width="'+Math.round(t.width/r)+'" height="'+Math.round(t.height/r)+'"></rect>')})),e.zIndexLogicForSvgRectangles(i),o.find(".svg-container").html(o.find(".svg-container").html()),$(".section.colors .mutations-column .items .item").addClass("custom-color-rect-ready"),"Contrast"!==t.renderInstructions.randomTemplate&&o.removeClass("active"),o.removeClass("segment-color-mode"),o.find(".invisible-bbox").removeAttr("stroke"),o.find(".invisible-bbox").removeAttr("stroke-width"),o.find("path").each((function(){var e=$(this),t=SmashingLogo.LogoMaker.buildUniquePathIdentifier(e);e.attr("fill")&&(e.attr("data-original-fill",e.attr("fill")),e.attr("fill-opacity")&&e.attr("data-original-fill-opacity",e.attr("fill-opacity")));for(var a=0;a<window.customColorMapping.paths.length;a++)window.customColorMapping.paths[a].uniquePathIdentifier===t&&(e.attr("fill",window.customColorMapping.paths[a].fill),e.attr("fill-opacity")&&e.attr("fill-opacity","1"))})),a){if(e.appendSuggestedColorSwatches(),"undefined"!=typeof Storage){var d=[{isActiveMapping:!0,mapping:window.customColorMapping,backgroundHex:"#"+t.renderInstructions.templateContrastColor}];window.localStorage.setItem("undoHistory",JSON.stringify(d))}var l=$("#modalBackgroundColorPicker .colorwheel-input");l.wheelColorPicker({autoResize:!1,layout:"block"}),l.on("focus",(function(){l.addClass("active"),l.wheelColorPicker("setValue",$page.buttons.contrastBackground.attr("data-hex-code"))})),l.on("sliderdown",(function(){window.ongoingColorWheelMovement=!0})),l.on("sliderup",(function(){window.ongoingColorWheelMovement=!1})),l.on("colorchange",(function(){window.setTimeout((function(){if(!window.ongoingColorWheelMovement){var t="#"+l.val().replace("#",""),a=$('.mutations-nav-column .carousel .nav-item[data-template-identifier="Contrast"]');o.css("background-color",t),o.attr("data-back-hex",t.replace("#","")),a.css({"background-color":t}),e.checkBackgroundColorButtonForBrightness(t),o.find(".preview-wrap-customize-colors .on-off-slider").css("background-color",SmashingLogo.ColorUtils.getSuitableBlendColor(t)),$page.buttons.contrastBackground.attr("data-hex-code").toLowerCase()!==t.toLowerCase()&&($page.buttons.contrastBackground.attr("data-hex-code",t),e.pushToUndoHistory(),$page.buttons.contrastBackground.css({color:"#ffffff","background-color":t,"border-color":t})),e.refreshPreviewColorStripe(t,$("#modalBackgroundColorPicker .preview-stripe"))}}),150)}));var c=$("#modalColorPicker .colorwheel-input");c.wheelColorPicker({autoResize:!1,layout:"block"}),c.on("focus",(function(){var t=$(".edit-custom-color-container .select-color .swatches .swatch.active");t.length&&t.attr("data-hex-code")&&c.wheelColorPicker("setValue",t.attr("data-hex-code")),e.switchPipetteToColorWheelValue()})),c.on("colorchange",(function(){e.switchPipetteToColorWheelValue()}));"ontouchstart"in window||navigator.msMaxTouchPoints;0;var g=t.renderInstructions.templateContrastColor?"#"+t.renderInstructions.templateContrastColor:"#ffffff";e.checkBackgroundColorButtonForBrightness(g),$page.buttons.contrastBackground.css({color:"#ffffff","background-color":g,"border-color":g}),$page.buttons.contrastBackground.attr("data-hex-code",g),o.find(".undo-controls .step-back").on("click",(function(){if($(this).hasClass("disabled"))return!1;for(var t=JSON.parse(window.localStorage.getItem("undoHistory")),a=t.length-1,i=0;i<t.length;i++)t[i].isActiveMapping&&(a=i);var n=a-1,s=t[n];0===n&&$(this).addClass("disabled");for(var r=0;r<t.length;r++)t[r].isActiveMapping=r===n;t.splice(t.length-1,1),window.localStorage.setItem("undoHistory",JSON.stringify(t)),window.customColorMapping=s.mapping,$page.buttons.contrastBackground.css({color:"#ffffff","background-color":s.backgroundHex,"border-color":s.backgroundHex}),$page.buttons.contrastBackground.attr("data-hex-code",s.backgroundHex),e.checkBackgroundColorButtonForBrightness(s.backgroundHex),o.find(".preview-wrap-customize-colors .on-off-slider").css("background-color",SmashingLogo.ColorUtils.getSuitableBlendColor(s.backgroundHex)),e.refreshPreviewColorStripe(s.backgroundHex,$("#modalBackgroundColorPicker .preview-stripe")),$("#modalBackgroundColorPicker .colorwheel-input").val(s.backgroundHex.replace("#","")),o.css("background-color",s.backgroundHex),o.attr("data-back-hex",s.backgroundHex.replace("#","")),$('.mutations-nav-column .carousel .nav-item[data-template-identifier="Contrast"]').css({"background-color":s.backgroundHex}),e.customColorHalfCircles(),o.find("path").each((function(){var e=$(this);e.attr("data-original-fill")?(e.attr("fill",e.attr("data-original-fill")),e.attr("data-original-fill-opacity")&&e.attr("fill-opacity",e.attr("data-original-fill-opacity"))):e.removeAttr("fill")})),o.find("path").each((function(){for(var e=$(this),t=SmashingLogo.LogoMaker.buildUniquePathIdentifier(e),a=0;a<window.customColorMapping.paths.length;a++)window.customColorMapping.paths[a].uniquePathIdentifier===t&&(e.attr("fill",window.customColorMapping.paths[a].fill),e.attr("fill-opacity")&&e.attr("fill-opacity","1"))}))}))}e.svgSegmentsMouseEventsNew(),o.find(".on-off-slider").on("click",(function(){$(this).toggleClass("on"),o.hasClass("segment-color-mode")?e.disableSegmentColorMode():e.enableSegmentColorMode()})),o.find(".preview-wrap-customize-colors .glyphicon-eye-open").on("click",(function(){$(this).addClass("on"),e.disableSegmentColorMode()})),o.find(".preview-wrap-customize-colors .glyphicon-pencil").on("click",(function(){$(this).removeClass("on"),e.enableSegmentColorMode()}))},this.addPreviewMarkup=function(t){$page.body.attr("data-pattern-id",t.patternId),$page.body.attr("data-primary-font-id",parseInt(t.primaryFontId)),$page.body.attr("data-company-name",t.companyName),$page.body.attr("data-company-tagline",t.companyTagline),$page.body.attr("data-secondary-font-id",parseInt(t.secondaryFontId)),$page.body.attr("data-logo-path",t.logoFileName),$page.body.attr("data-noun-page",0),t.renderInstructions.gradientMode&&$page.body.attr("data-gradient-mode",!0),e.addColorMutations(t),window.customColorMapping=t.customColorMapping,t.customColorMapping?(e.customColorSetup(t,!0),e.customColorHalfCircles()):$("html").addClass("deprecated-custom-color-ui");var a=t.logoFileName.substr(t.logoFileName.indexOf("_hex_")+5,6),o=t.logoFileName.substr(t.logoFileName.indexOf("_hex2_")+6,6),i='<button data-hex="'+a+'" style="color: #fff;" class="btn-hex-1 btn-change-colors btn btn-default btn-lg"><span class="glyphicon glyphicon-pencil"></span><span class="inner-wrap">'+window.i18nChangeColors+"</span></button>",n='<button data-hex="'+o+'" style="color: #fff;" class="btn-hex-2 btn-change-colors btn btn-default btn-lg"><span class="glyphicon glyphicon-pencil"></span><span class="inner-wrap">'+window.i18nChangeColors+"</span></button>";if($(".editor-config-column .config-section.section-change-colors .change-buttons").append(i),"xxxxxx"!==o?$(".editor-config-column .config-section.section-change-colors .change-buttons").append(n):($(".editor-config-column .config-section.section-change-colors .btn-change-colors").addClass("single-color-logo"),$(".fullscreen-section.cta .cta-container .btn-change-colors").addClass("single-color-logo")),$('.btn-purchase, .local-nav .section-nav a[data-hash="#buy"]').attr("href","/"+$("html").attr("lang")+"/checkout?s="+t.referenceNumber.substr(1)+"-"+t.logoId),e.appendColorPalette($(".section.colors"),"#"+a,"#"+o,t),t.previousNounTerms)for(var s=0;s<t.previousNounTerms.length;s++)$("#modalIconSelection .previous-terms").prepend('<span class="term" data-term="'+t.previousNounTerms[s]+'">'+t.previousNounTerms[s]+"</span>");$(".placeholder-loading").remove()},this.zIndexLogicForSvgRectangles=function(e){var t=e.find("rect").sort((function(e,t){var a=parseInt($(e).attr("width"))*parseInt($(e).attr("height")),o=parseInt($(t).attr("width"))*parseInt($(t).attr("height"));return a<o?1:a>o?-1:0}));e.find("rect").remove(),e.append(t)},this.getForegroundColors=function(){var e=["#ffffff","#000000"],t=$page.body.attr("data-hex-1"),a=$page.body.attr("data-hex-2");return-1===e.indexOf(t)&&e.push(t),-1===e.indexOf(a)&&"#xxxxxx"!==a&&e.push(a),e},this.applyEffect=function(){$("#modalEffectLibrary").addClass("effect-processing");var e={container:"",transformation:"",pattern:""},t=$("#modalEffectLibrary .col-preview .preview [data-paper-data*=isIcon]"),a=$("#modalEffectLibrary .col-preview .original [data-paper-data*=isIcon]"),o=$.parseJSON(t.attr("data-paper-data")),i=$.parseJSON(a.attr("data-paper-data")),n=t.clone(),s=a.clone();n.removeAttr("data-paper-data").removeAttr("fill").removeAttr("style"),s.removeAttr("data-paper-data").removeAttr("fill").removeAttr("style"),$("#modalEffectLibrary .effect.dropdown .variation.selected").each((function(){e[$(this).attr("data-effect-category")]=$(this).attr("data-effect-name")})),-1!==e.container.indexOf("block-letter")&&(o.blockLetter=$("#modalEffectLibrary .container-section .variation.selected").attr("data-block-letter"),o.blockLetterId=$("#modalEffectLibrary .container-section .variation.selected").attr("data-block-letter-id")),o.fillRule=i.fillRule,$.ajax({url:"/apply-effect/",type:"POST",data:{originalIconSvgString:"<svg>"+s.html()+"</svg>",iconSvgString:"<svg>"+n.html()+"</svg>",iconData:o,iconType:o.iconType,selectedEffects:e},timeout:6e4,success:function(e){$("#modalEffectLibrary .col-preview .preview").html(e.svgString),t=$("#modalEffectLibrary .col-preview .preview svg [data-paper-data*=isIcon]"),o=$.parseJSON(t.attr("data-paper-data")),t.attr("data-paper-data",JSON.stringify(o)),t.css({fill:"#000000"}),$("#modalEffectLibrary").removeClass("effect-processing")}})},this.filterFonts=function(e,t){t.removeClass("pagebrowser-inactive").addClass("pagebrowser-active"),"all"!==e?"recommended"!==e?t.each((function(){"fancy"===e?parseInt($(this).attr("data-font-fanciness"))<4?$(this).addClass("hidden"):$(this).removeClass("hidden"):"simple"===e?parseInt($(this).attr("data-font-fanciness"))>3?$(this).addClass("hidden"):$(this).removeClass("hidden"):"bold"===e?"thin"===$(this).attr("data-font-weight").toLowerCase()||"regular"===$(this).attr("data-font-weight").toLowerCase()?$(this).addClass("hidden"):$(this).removeClass("hidden"):"light"===e&&("bold"===$(this).attr("data-font-weight").toLowerCase()||"extrabold"===$(this).attr("data-font-weight").toLowerCase()?$(this).addClass("hidden"):$(this).removeClass("hidden"))})):t.each((function(){"true"===$(this).attr("data-recommended-font")?$(this).removeClass("hidden").addClass("visible"):$(this).removeClass("visible").addClass("hidden")})):t.removeClass("hidden")},this.activeStateOfSelectedEffects=function(e){$("#modalEffectLibrary .effect-category .effect").removeClass("selected"),$("#modalEffectLibrary .effect-category .effect .variation").removeClass("selected"),$("#modalEffectLibrary .effect-category .effect .variation").each((function(){var t=$(this).closest(".effect-category"),a=t.hasClass("pattern-section")?e.pattern:t.hasClass("transformation-section")?e.transformation:e.container,o=$(this);if(o.removeClass("selected"),o.attr("data-effect-name")===a&&(o.addClass("selected"),o.closest(".variations").find(".settings").length)){var i=o.closest(".variations").find(".settings .switch[data-setting=rounded] .on-off-slider").hasClass("on"),n=o.closest(".variations").find(".settings .switch[data-setting=rotated] .on-off-slider").hasClass("on"),s="sharp-upright";i&&n?s="rounded-rotated":i&&!n?s="rounded-upright":!i&&n&&(s="sharp-rotated"),$(this).closest(".effect.dropdown").find(".variation-group").removeClass("active"),$(this).closest(".effect.dropdown").find(".variation-group[data-container-type="+s+"]").addClass("active"),-1!==o.attr("data-effect-name").indexOf("rounded")&&o.closest(".variations").find(".switch[data-setting=rounded] .on-off-slider").addClass("on"),-1!==o.attr("data-effect-name").indexOf("rotated")&&o.closest(".variations").find(".switch[data-setting=rotated] .on-off-slider").addClass("on")}})),$("#modalEffectLibrary .effect-category .effect .variation.selected").each((function(){$(this).closest(".effect").addClass("selected")}))},this.refreshMonogramContainers=function(e){for(var t=$("#modalEffectLibrary .effect.block-letter"),a="",o="",i=0;i<e.length;i++){o=e[i].substr(e[i].lastIndexOf("/")+1,1);var n=-1!==e[i].indexOf("extended")?"extended":"partial";if("extended"===n&&-1!==e[i].indexOf("extended2")?n="extended2":"extended"===n&&-1!==e[i].indexOf("extended1")&&(n="extended1"),-1!==e[i].indexOf("custom-")){var s="upper";e[i].indexOf("lower/")>=0?s="lower":e[i].indexOf("numbers/")>=0&&(s="numbers"),n="custom-"+s}var r=-1!==e[i].indexOf("filled")?"filled":"outline";if("outline"===r)r="outline-"+(-1!==e[i].indexOf("thin")?"thin":"thick");var d=parseInt(e[i].substr(e[i].indexOf(n)+n.length+1,3));a+='<li class="variation" data-effect-category="container" data-block-letter="'+o+'" data-block-letter-id="'+d+'" data-effect-name="block-letter-'+n+"-"+r+"-"+o+"-"+d+'"><img class="lazy" alt="" src="/static/img/icons/placeholder-lazy.svg" data-src="'+e[i]+'"><button class="btn btn-primary btn-remove-effect"><span class="glyphicon glyphicon-remove"></span> <span class="inner-wrap">Remove</span></button></li>'}t.find(".content").html(""),""===a?t.find(".content").append('<p class="notice-no-letter">No containers found for this letter.</p>'):t.find(".content").append(a),lazyload()},this.customColorHalfCircles=function(){var e=$(".section.colors .mutations-column .items .item.template-contrast"),t=[];e.find("path").each((function(){var e=$(this),a=e.attr("fill"),o=/^#[0-9A-F]{6}$/i.test(a);a&&o&&-1===t.indexOf(a)&&t.push(e.attr("fill"))}));var a=$('.mutations-nav-column .nav-item[data-template-identifier="Contrast"] .half-circle.left'),o=$('.mutations-nav-column .nav-item[data-template-identifier="Contrast"] .half-circle.right'),i=$page.body.attr("data-hex-1"),n="#xxxxxx"!==$page.body.attr("data-hex-2")?$page.body.attr("data-hex-2"):$page.body.attr("data-hex-1");t.length&&(i=t[0],n=t[0]),a.attr("data-hex",i.replace("#","")),a.css("background-color",i),o.attr("data-hex",n.replace("#","")),o.css("background-color",n)},this.enableSegmentColorMode=function(){var e=$(".section.colors .mutations-column .items .item.template-contrast");e.length&&e.find(".invisible-bbox").length&&(e.addClass("segment-color-mode"),e.find(".invisible-bbox").attr("stroke","#ff0000"),e.find(".invisible-bbox").attr("stroke-width","2"),e.find(".preview-wrap-customize-colors .on-off-slider").removeClass("on"))},this.disableSegmentColorMode=function(){var e=$(".section.colors .mutations-column .items .item.template-contrast");e.length&&e.find(".invisible-bbox").length&&(e.removeClass("segment-color-mode"),e.find(".invisible-bbox").removeAttr("stroke"),e.find(".invisible-bbox").removeAttr("stroke-width"),e.find(".preview-wrap-customize-colors .on-off-slider").addClass("on"))},this.svgSegmentsMouseEventsNew=function(){var t=$(".section.colors .mutations-column .items .item.template-contrast");t.find(".invisible-bbox").on("click",(function(a){if(t.hasClass("segment-color-mode")){var o=t.find("path[id="+$(a.target).attr("data-path-id")+"]"),i=!0,n=window.customColorPipetteHex||"#ffffff",s=SmashingLogo.LogoMaker.buildUniquePathIdentifier(o);"ontouchstart"in window||navigator.msMaxTouchPoints||o.removeAttr("data-mouseover");for(var r=0;r<window.customColorMapping.paths.length;r++)window.customColorMapping.paths[r].uniquePathIdentifier===s&&(i=!1,window.customColorEraseMode?window.customColorMapping.paths.splice(r,1):window.customColorMapping.paths[r]={uniquePathIdentifier:s,fill:n});i&&!window.customColorEraseMode&&window.customColorMapping.paths.push({uniquePathIdentifier:s,fill:n}),window.customColorEraseMode?o.attr("data-original-fill")?(o.attr("fill")&&o.attr("fill").toLowerCase()!==o.attr("data-original-fill").toLowerCase()&&e.pushToUndoHistory(),o.attr("fill",o.attr("data-original-fill")),o.attr("data-original-fill-opacity")&&o.attr("fill-opacity",o.attr("data-original-fill-opacity"))):(o.attr("fill")&&e.pushToUndoHistory(),o.removeAttr("fill")):((o.attr("fill")&&o.attr("fill").toLowerCase()!==n.toLowerCase()||!o.attr("fill"))&&e.pushToUndoHistory(),o.attr("fill",n),o.attr("fill-opacity")&&o.attr("fill-opacity","1")),window.customColorEraseMode||e.refreshUsedColorSwatches(),e.customColorHalfCircles()}})),t.find(".invisible-bbox").on("mouseover",(function(e){if(t.hasClass("segment-color-mode")){var a=t.find("path[id="+$(e.target).attr("data-path-id")+"]");"ontouchstart"in window||navigator.msMaxTouchPoints||a.attr("data-mouseover","true"),$(e.target).attr("stroke","#ff0000"),$(e.target).attr("stroke-width","5")}})),t.find(".invisible-bbox").on("mouseout",(function(e){if(t.hasClass("segment-color-mode")){var a=t.find("path[id="+$(e.target).attr("data-path-id")+"]");"ontouchstart"in window||navigator.msMaxTouchPoints||a.removeAttr("data-mouseover"),$(e.target).attr("stroke-width","2")}}))},this.refreshUsedColorSwatches=function(){var e=[];if($(".edit-custom-color-container .select-color .swatches.suggested .swatch").each((function(){e.push($(this).attr("data-hex-code"))})),-1===e.indexOf(window.customColorPipetteHex)){$(".edit-custom-color-container .select-color .swatches.suggested > .active").removeClass("active");var t=$('<div class="swatch active" data-hex-code="'+window.customColorPipetteHex+'" style="background-color: '+window.customColorPipetteHex+'"></div>');$(".edit-custom-color-container .select-color .swatches.suggested").prepend(t),$(".edit-custom-color-container .select-color .swatches.suggested").animate({scrollLeft:0},500,(function(){}))}},this.pushToUndoHistory=function(){if("undefined"!=typeof Storage){for(var e=JSON.parse(window.localStorage.getItem("undoHistory")),t=0;t<e.length;t++)e[t].isActiveMapping=!1;e.push({isActiveMapping:!0,mapping:window.customColorMapping,backgroundHex:$(".btn-change-contrast-background[data-hex-code]").attr("data-hex-code")}),e.length>20&&e.splice(1,1),window.localStorage.setItem("undoHistory",JSON.stringify(e)),$(".mutations-column .item.template-contrast .undo-controls .step-back").removeClass("disabled")}},this.updatePreviouslyUsedIcons=function(e){for(var t=0;t<e.length;t++){var a=$(".section-add-icon .locked-icons .icon-slot.empty:first"),o=$(e[t]);a.append('<div class="icon"><svg class="thumbnail-icon" width="100%" viewBox="0 0 200 200">'+SmashingLogo.Utils.getOuterHtml(o)+"</svg></div>"),a.removeClass("empty"),a.find("[data-paper-data*=isIcon]").css({fill:"#000000"})}},this.refreshPreviewColorStripe=function(e,t){SmashingLogo.ColorUtils.brightnessByColor(e)>230?t.css({"background-color":e,"outline-color":"#dddddd"}):t.css({"background-color":e,"outline-color":e})},this.checkBackgroundColorButtonForBrightness=function(e){SmashingLogo.ColorUtils.brightnessByColor(e)>230?$page.buttons.contrastBackground.addClass("light-mode"):$page.buttons.contrastBackground.removeClass("light-mode")},this.switchPipetteToColorWheelValue=function(){var t=$("#modalColorPicker .colorwheel-input"),a="#"+t.val().replace("#","");window.customColorPipetteHex=a,e.refreshPreviewColorStripe(a,$("#modalColorPicker .preview-stripe")),window.customColorEraseMode=!1,$(".section.colors .mutations-column .items .item.template-contrast").removeClass("erase-mode"),t.addClass("active")},this.appendSuggestedColorSwatches=function(){$(".edit-custom-color-container .select-color .swatches.suggested .swatch").remove();var e=$(".section.colors .mutations-column .items .item.template-contrast"),t=[];e.find("path, g").each((function(){var e=$(this),a=e.attr("fill"),o=/^#[0-9A-F]{6}$/i.test(a);a&&o&&-1===t.indexOf(a)&&t.push(e.attr("fill"))}));for(var a=0;a<t.length;a++){var o=$('<div class="swatch" data-hex-code="'+t[a]+'" style="background-color: '+t[a]+'"></div>');0===a&&(o.addClass("active"),window.customColorPipetteHex=t[a]),$(".edit-custom-color-container .select-color .swatches.suggested").prepend(o)}for(var i=["#000000","#ffffff"],n=0===t.length,s=0;s<i.length;s++)if(!(t.indexOf(i[s])>=0)){var r=$('<div class="swatch" data-hex-code="'+i[s]+'" style="background-color: '+i[s]+'"></div>');"#ffffff"===i[s]&&n&&(r.addClass("active"),window.customColorPipetteHex="#ffffff"),$(".edit-custom-color-container .select-color .swatches.suggested").prepend(r)}},this.generateVariationCallbackSuccess=function(t){if(0!==t.length){if("variations-limit-reached"===t)return e.reEnableVariationButtons(),void $("#modalVariationsLimitReached").modal("show");if("draw-error"===t)return e.reEnableVariationButtons(),void $("#modalGenerateError").modal("show");if("no-favorite-match"===t)return e.reEnableVariationButtons(),void $("#modalNoFavoriteMatch").modal("show");if("temporarily-disabled"===t)return e.reEnableVariationButtons(),void $("#modalTemporarilyDisabled").modal("show");$.extend({el:function(e,t){var a=$(document.createElement(e));return a.attr(t),a}});var a=$('[data-sub-section-identifier="'+$page.inputs.variationHiddenField.val()+'-variations"]').find(".horizontal-logo-wrapper");e.appendRenderedVariationSvgLogos(t,a,!0)}else e.reEnableVariationButtons()},this.buildHistoryItems=function(){$page.body.find(".section-history .progress-bar").css("width","0%"),$(".config-section.section-history").removeClass("ajax-finished"),$(".section-history .horizontal-logo-wrapper").html("");var t={s:SmashingLogo.Utils.getParameterByName("s",window.location)};$page.body.hasClass("page-editor-post-purchase")&&(t.isPostPurchaseEdit=!0),$.ajax({url:"/editor/fetch-history/",type:"GET",data:t,timeout:6e4,success:function(t){for(var a=[],o=0;o<t.historyFileNames.length;o++)a.push(t.historyFileNames[o].substr(t.historyFileNames[o].lastIndexOf("/")+1));if(a.length){var i={renderInstructions:t.historyFilesRenderInstructions.reverse(),logoPath:t.historyFileNames[0].substr(0,t.historyFileNames[0].lastIndexOf("/")),logoFileNames:a.reverse()};e.appendRenderedHistorySvgLogos(i,$(".section-history .horizontal-logo-wrapper"))}},error:function(){console.log("process error")}})},this.buildLogoVariations=function(t){var a=$('[data-sub-section-identifier="'+$page.inputs.variationHiddenField.val()+'-variations"]'),o=a.find(".horizontal-logo-wrapper");a.find(".progress-bar").css("width","0%"),a.removeClass("ajax-finished"),o.html("");var i={s:t,variationType:$page.inputs.variationHiddenField.val()};$.ajax({url:"/editor/fetch-variations/",type:"GET",data:i,timeout:6e4,success:function(t){for(var i=[],n=0;n<t.variationFileNames.length;n++)i.push(t.variationFileNames[n].substr(t.variationFileNames[n].lastIndexOf("/")+1));if(i.length){var s={renderInstructions:t.variationFilesRenderInstructions,logoPath:t.variationFileNames[0].substr(0,t.variationFileNames[0].lastIndexOf("/")),logoFileNames:i};e.appendRenderedVariationSvgLogos(s,o)}else a.addClass("ajax-finished"),a.find(".variation-buttons .btn-generate-variations").trigger("click")},error:function(){console.log("process error")}})},this.buildFontsSection=function(){e.resetFontsSection(),$.ajax({url:"/editor/fetch-fonts/",type:"GET",data:e.getAjaxDataForFontFetching(),timeout:6e4,success:function(t){"auth-error"!==t&&(e.appendFontDropdown(t.recommendedPrimaryEqualToAvailablePrimary,t.letterCasePrimaryText,t.currentPrimaryFont,t.relatedPrimaryFonts,t.availablePrimaryFonts,t.recommendedPrimaryFontIds,t.previousPrimaryFonts,parseInt($page.body.attr("data-primary-font-id")),$(".section-font-settings .font-row.primary .dropdown")),e.appendFontDropdown(t.recommendedSecondaryEqualToAvailableSecondary,t.letterCaseSecondaryText,t.currentSecondaryFont,t.relatedSecondaryFonts,t.availableSecondaryFonts,t.recommendedSecondaryFontIds,t.previousSecondaryFonts,parseInt($page.body.attr("data-secondary-font-id")),$(".section-font-settings .font-row.secondary .dropdown")),e.applyFontFilterTags(),e.primaryLetterSpacingSetup(t),e.dynamicFontDropdownHeight())},error:function(){console.log("process error")}})},this.buildFontsSectionBasic=function(){e.resetFontsSection(),$.ajax({url:"/editor/fetch-fonts/",type:"GET",data:e.getAjaxDataForFontFetching(),timeout:6e4,success:function(t){"auth-error"!==t&&e.primaryLetterSpacingSetup(t)},error:function(){console.log("process error")}})},this.updateFontsSection=function(t){$(".section-font-settings .font-row.primary .dropdown-toggle-in-place").html(""),$(".section-font-settings .font-row.secondary .dropdown-toggle-in-place").html(""),e.updateFontDropdown(t.letterCasePrimaryText,t.currentPrimaryFont,t.relatedPrimaryFonts,t.previousPrimaryFonts,parseInt($page.body.attr("data-primary-font-id")),$(".section-font-settings .font-row.primary .font-dropdown-in-place")),e.updateFontDropdown(t.letterCaseSecondaryText,t.currentSecondaryFont,t.relatedSecondaryFonts,t.previousSecondaryFonts,parseInt($page.body.attr("data-secondary-font-id")),$(".section-font-settings .font-row.secondary .font-dropdown-in-place"))},this.getAjaxDataForFontFetching=function(){var e={s:SmashingLogo.Utils.getParameterByName("s",window.location)};return $page.body.hasClass("page-editor-post-purchase")&&(e.isPostPurchaseEdit=!0),e},this.resetFontsSection=function(){$(".section-font-settings .font-row.primary .dropdown").find(".dropdown-toggle-in-place").html('<div class="font placeholder"><img src="/static/img/font-preview-placeholder.svg" width="550" height="65" alt="" /></div>'),$(".section-font-settings .font-row.primary .dropdown").find(".dropdown-menu").html(""),$(".section-font-settings .font-row.secondary .dropdown").find(".dropdown-toggle-in-place").html('<div class="font placeholder"><img src="/static/img/font-preview-placeholder.svg" width="550" height="65" alt="" /></div>'),$(".section-font-settings .font-row.secondary .dropdown").find(".dropdown-menu").html("")},this.appendRenderedHistorySvgLogos=function(e,t){var a=SmashingLogo.LogoMaker.bootstrapProgressObject(e.logoFileNames.length),o=$page.body.find(".section-history .progress-bar"),i=[],n=t.parent(),s=t.detach();SmashingLogo.LogoMaker.bootstrapSvgData(i,e);for(var r=0;r<e.logoFileNames.length;r++)$.get(e.logoPath+"/"+e.logoFileNames[r],(function(t){var r=this.url.substr(this.url.lastIndexOf("/")+1),d=i.map((function(e){return e.timestamp})).indexOf("0"===r.substr(0,1)?r.substr(0,14):r.substr(0,13));i[d].svgString=SmashingLogo.Utils.uniqueSVG(SmashingLogo.Utils.fluidSVG(t)),a.ajaxCounter+1===a.fileCount?(SmashingLogo.LogoMaker.appendLogos(s,i,e,"simple"),SmashingLogo.LogoMaker.selectActiveColorMutation(s.find(".item")),n.append(s),$(".config-section.section-history").addClass("ajax-finished")):SmashingLogo.LogoMaker.updateProgressBar(o,a)}),"text")},this.appendRenderedVariationSvgLogos=function(t,a,o){var i=$('[data-sub-section-identifier="'+$page.inputs.variationHiddenField.val()+'-variations"]'),n=SmashingLogo.LogoMaker.bootstrapProgressObject(t.logoFileNames.length),s=i.find(".progress-bar"),r=[];SmashingLogo.LogoMaker.bootstrapSvgData(r,t);for(var d=0;d<t.logoFileNames.length;d++)$.get(t.logoPath+"/"+t.logoFileNames[d],(function(d){var l=this.url.substr(this.url.lastIndexOf("/")+1),c=r.map((function(e){return e.timestamp})).indexOf("0"===l.substr(0,1)?l.substr(0,14):l.substr(0,13));if(r[c].svgString=SmashingLogo.Utils.uniqueSVG(SmashingLogo.Utils.fluidSVG(d)),n.ajaxCounter+1===n.fileCount)if(SmashingLogo.LogoMaker.appendLogos(a,r,t,"simple",o),SmashingLogo.LogoMaker.selectActiveColorMutation(a.find(".item")),i.addClass("ajax-finished"),o){var g=a.find(".item.new:first").position().left;a.animate({scrollLeft:"+="+(g-30)},800,(function(){SmashingLogo.LogoMaker.handleDisplayOfPrevNextButtons(a)})),a.find(".item.new").removeClass("new"),e.reEnableVariationButtons()}else SmashingLogo.LogoMaker.handleDisplayOfPrevNextButtons(a),SmashingLogo.LogoMaker.scrollToEndOfPreviewCarousel(a),e.dynamicConfigTabHeight();else SmashingLogo.LogoMaker.updateProgressBar(s,n)}),"text")},this.setupAdditionallyRenderedColors=function(e,t,a){if(e){$(".editor-config-column .config-section.section-change-colors .change-buttons .btn-hex-additional").remove(),$("#modalColorPalette .color-palette .target-color .nav-tabs .additionally-rendered-color").remove(),window.additionallyRenderedColors=[];for(var o=$page.body.attr("data-hex-2").indexOf("xxxxxx")>=0?1:2;o<e.length;o++)e[o]!==t&&e[o]!==a&&-1===window.additionallyRenderedColors.indexOf(e[o])&&window.additionallyRenderedColors.push(e[o]);for(var i=0;i<window.additionallyRenderedColors.length;i++)$("#modalColorPalette .color-palette .target-color .nav-tabs").append('<li class="additionally-rendered-color"><a href="#"><span class="glyphicon glyphicon-tint additional" data-hex-color="'+window.additionallyRenderedColors[i]+'" style="color: '+window.additionallyRenderedColors[i]+'"></span></a></li>'),$(".editor-config-column .config-section.section-change-colors .change-buttons").append('<button style="color: #fff; background-color: '+window.additionallyRenderedColors[i]+'" data-hex="'+window.additionallyRenderedColors[i].replace("#","")+'" style="color: #fff;" class="btn-hex-additional btn-hex-additional-'+(i+1)+' btn-change-colors btn btn-default btn-lg"><span class="glyphicon glyphicon-pencil"></span><span class="inner-wrap">'+window.i18nChangeColors+"</span></button>");if($page.body.attr("data-additional-color-change")){var n=$page.body.attr("data-additional-color-change").split(";")[1];$("#modalColorPalette .color-palette .target-color .nav-tabs li .glyphicon[data-hex-color=#"+n+"]").closest("li").addClass("active")}window.additionallyRenderedColors.length&&$("#modalColorPalette .gradients").addClass("hidden")}},this.extendedFontStyleModal=function(){var t=$("#modalExtendedSettings .split-index .svg-container-clone");t.css("opacity",0),t.html(SmashingLogo.Utils.uniqueSVG($("#editor-sections .mutations-column .items .item.default .svg-container").html()));var a=t.find("svg"),o=a.get(0).getBoundingClientRect(),i=o.width/550;t.find("svg").wrapAll('<div class="inner-wrapper"></div>'),t.find("g").each((function(){var e=$(this),t=e.attr("data-paper-data")?$.parseJSON(e.attr("data-paper-data")):{};t.isSecondaryText||t.isIcon?e.find("path").css("opacity","0.2"):t.isPrimaryText&&e.find("path").each((function(){if($(this).attr("data-paper-data")){var e=$(this),t=$.parseJSON(e.attr("data-paper-data")),n=t.fontStyleEffect?"#228c22":"#aaa";if(!t.isIcon&&!t.isPathIcon){var s=e.get(0).getBoundingClientRect();a.append('<rect data-glyph-index="'+t.glyphIndex+'" stroke="'+n+'" stroke-width="2" class="invisible-bbox" x="'+Math.round((s.left-o.left)/i)+'" y="'+Math.round((s.top-o.top)/i)+'" fill="transparent" width="'+Math.round(s.width/i)+'" height="'+Math.round(s.height/i)+'"></rect>')}}}))})),e.zIndexLogicForSvgRectangles(t.find("svg")),t.html($("#modalExtendedSettings .split-index .svg-container-clone").html()),window.setTimeout((function(){t.css("opacity",1)}),100),t.find(".invisible-bbox").on("click",(function(){var e=$(this).attr("data-glyph-index"),t=$("#fontStyleGlyphIndices").val().split(","),a=t.indexOf(e);a>=0?t.splice(a,1):t.push(e),$("#modalExtendedSettings #fontStyleGlyphIndices").val(t.toString().replace(/^,|,$/g,"")),$(".section-font-settings .btn-submit").trigger("click")}))},this.addHex2Mutations=function(e,t,a,o){var i,n,s=SmashingLogo.ColorUtils.getMixedColor("#ffffff",a,.15);(i=$('<div class="item template-single-color'+o+" color-world-hex"+o+'"></div>')).attr("data-back-hex",s.replace("#","")),i.attr("data-front-hex",a),i.attr("data-random-template","false"),i.attr("data-template-identifier","SingleColorHex"+o),i.css("background-color",s),i.html('<img class="wm" src="/static/img/wm.svg" alt=""><div class="svg-container">'+SmashingLogo.Utils.uniqueSVG(e.svgString).replace(new RegExp("(?!(#ffffff))(#(?:[0-9a-f]{2}){2,4})","gi"),"#"+a)+'</div><div class="btn-wrap-customize-colors"></div>'),$(".section.colors .mutations-column .items").append(i),(n=$('<div class="nav-item"></div>')).attr("data-back-hex",s.replace("#","")),n.attr("data-template-identifier","SingleColorHex"+o),n.css("background-color",s),n.html('<div class="nav-item-inner"><div class="half-circles"><div data-hex="'+a+'" class="half-circle left" style="background-color: #'+a+'"></div><div data-hex="'+a+'" class="half-circle right" style="background-color: #'+a+'"></div></div></div>'),$(".section.colors .mutations-nav-column .carousel-inner").append(n),n.find("[data-hex]").each((function(){"ffffff"!==$(this).attr("data-hex")&&$(this).attr("data-hex").toLowerCase()===t.toLowerCase()&&($(this).attr("data-hex",a),$(this).css("background-color","#"+a))})),(i=$('<div class="item inversed hex'+o+" color-world-hex"+o+'"></div>')).attr("data-back-hex",a),i.attr("data-front-hex","ffffff"),i.attr("data-random-template","false"),i.attr("data-template-identifier","InvertedHex"+o),i.css("background-color","#"+a),i.html('<img class="wm" src="/static/img/wm.svg" alt=""><div class="svg-container">'+SmashingLogo.Utils.uniqueSVG(e.svgStringWhite)+'</div><div class="btn-wrap-customize-colors"></div>'),$(".section.colors .mutations-column .items").append(i),(n=$('<div class="nav-item"></div>')).attr("data-back-hex",a),n.attr("data-template-identifier","InvertedHex"+o),n.css("background-color","#"+a),n.html('<div class="nav-item-inner"><div class="half-circles"><div data-hex="ffffff" class="half-circle left" style="background-color: #ffffff"></div><div data-hex="ffffff" class="half-circle right" style="background-color: #ffffff"></div></div></div>'),$(".section.colors .mutations-nav-column .carousel-inner").append(n),n.find("[data-hex]").each((function(){"ffffff"!==$(this).attr("data-hex")&&$(this).attr("data-hex").toLowerCase()===t.toLowerCase()&&($(this).attr("data-hex",a),$(this).css("background-color","#"+a))}))},this.removeHex2Mutations=function(){var e=$(".section.colors .mutations-column .item[data-template-identifier=SingleColorHex2]");e.length&&(e.remove(),$(".section.colors .mutations-nav-column .carousel-inner .nav-item[data-template-identifier=SingleColorHex2]").remove());var t=$(".section.colors .mutations-column .item[data-template-identifier=InvertedHex2]");t.length&&(t.remove(),$(".section.colors .mutations-nav-column .carousel-inner .nav-item[data-template-identifier=InvertedHex2]").remove());var a=$(".section.colors .mutations-column .item[data-template-identifier=BlackAndHighlightColorHex2]");a.length&&(a.remove(),$(".section.colors .mutations-nav-column .carousel-inner .nav-item[data-template-identifier=BlackAndHighlightColorHex2]").remove())},this.addBlackMagicMutation=function(e,t,a,o){var i=SmashingLogo.ColorUtils.getMixedColor("#000000","#"+a,.3),n="";n=1===parseInt(o)&&e.renderInstructions.gradientMode&&-1===gradientColorsWhichShouldFadeToWhite.indexOf(a.toUpperCase())?e.svgString:(n=(n=e.svgString.replace(new RegExp("#ffffff","gi"),"xxxxxx_placeholder")).replace(new RegExp("(?!(#"+a+"))(#(?:[0-9a-f]{2}){2,4})","gi"),"#ffffff")).replace(new RegExp("xxxxxx_placeholder","gi"),"#000000");var s=$(".section.colors .mutations-column").find('.item[data-template-identifier="InvertedHex'+o+'"]'),r=$('<div class="item template-black-and-highlight-hex'+o+" color-world-hex"+o+'"></div>');r.attr("data-back-hex",i.replace("#","")),r.attr("data-front-hex","ffffff;"+a),r.attr("data-random-template","false"),r.attr("data-template-identifier","BlackAndHighlightColorHex"+o),r.css("background-color",i),r.html('<img class="wm" src="/static/img/wm.svg" alt=""><div class="svg-container">'+SmashingLogo.Utils.uniqueSVG(n)+'</div><div class="btn-wrap-customize-colors"></div>'),r.insertAfter(s);var d=$(".section.colors .mutations-nav-column").find('.nav-item[data-template-identifier="InvertedHex'+o+'"]'),l=$('<div class="nav-item"></div>');l.attr("data-back-hex",i.replace("#","")),l.attr("data-template-identifier","BlackAndHighlightColorHex"+o),l.css("background-color",i),l.html('<div class="nav-item-inner"><div class="half-circles"><div data-hex="ffffff" class="half-circle left" style="background-color: #ffffff"></div><div data-hex="'+a+'" class="half-circle right" style="background-color: #'+a+'"></div></div></div>'),l.insertAfter(d),l.find("[data-hex]").each((function(){"ffffff"!==$(this).attr("data-hex")&&$(this).attr("data-hex").toLowerCase()===t.toLowerCase()&&($(this).attr("data-hex",a),$(this).css("background-color","#"+a))}))},this.setLayoutOptions=function(e,t,a){e.each((function(){-1===t.indexOf($(this).attr("data-option-value"))?$(this).addClass("hidden"):$(this).removeClass("hidden"),$(this).attr("data-option-value")===a?($(this).addClass("selected"),$(this).closest(".options-row").addClass("selected"),$(this).find(".option-radio, .on-off-label").addClass("selected")):($(this).removeClass("selected"),$(this).closest(".options-row").removeClass("selected"),$(this).find(".option-radio, .on-off-label").removeClass("selected"))}))},this.addContainerVariations=function(t){if(t.containerLayoutVariationCount){var a=$('.sub-section-container-layout .options-row[data-option-value="'+t.containerLayoutStyle+'"]');a.find(".variation-options").remove(),a.siblings().find(".variation-options").remove(),a.append('<div class="variation-options"></div>'),1===t.containerLayoutVariationIdentifiers.length?$(".sub-section-container-layout").addClass("hidden"):$(".sub-section-container-layout").removeClass("hidden");for(var o=0;o<t.containerLayoutVariationIdentifiers.length;o++){var i="no-container.svg";switch(t.containerLayoutVariationIdentifiers[o]){case"plain":i="no-container.svg";break;case"enclosed-circle":i="enclosed-circle.svg";break;case"circle-outline":i="circle-outline.svg";break;case"jbenson":i="jbenson.svg";break;case"jbenson-portrait":i="jbenson-portrait.svg";break;case"bar-badge":i="bar-badge.svg";break;case"shield":i="shield.svg";break;case"circle":i="circle.svg";break;case"square":i="square.svg";break;case"circle-filled":i="circle-filled.svg";break;case"rectangle-clip":i="rectangle-clip.svg";break;case"square-outline":i="square-outline.svg";break;case"square-filled":i="square-filled.svg";break;case"convex-outline":i="convex-outline.svg";break;case"convex-filled":i="convex-filled.svg"}var n=$('<div class="option" data-variation-identifier="'+t.containerLayoutVariationIdentifiers[o]+'"></div>');t.activeContainerLayoutVariationIndex===o&&(n.addClass("selected"),e.setActiveContainerAttribute(t.containerLayoutVariationIdentifiers[o])),n.append('<img class="lazy" data-src="/static/img/layout-variation-icons/container/'+i+'" alt=""></img>'),a.find(".variation-options").append(n)}a.find(".variation-options").append(window.previewAllButtonMarkup),a.find(".variation-options").append(window.extendedSettingsButtonMarkup)}},this.setActiveContainerAttribute=function(e){$page.body.attr("data-active-container",e)},this.applyFontFilterTags=function(){var t=[];if(window.primaryFontTags.length&&$(".font-dropdown-primary").hasClass("open")?t=window.primaryFontTags.slice():window.secondaryFontTags.length&&$(".font-dropdown-secondary").hasClass("open")?t=window.secondaryFontTags.slice():$(".font-dropdown-in-place.open .filter-fonts-container .font-tags .box span").each((function(){$(this).closest(".box").hasClass("selected")&&t.push($(this).attr("data-tag-name"))})),$(".font-dropdown-in-place.open .filter-fonts-container .font-tags .box span").each((function(){t.indexOf($(this).attr("data-tag-name"))>=0&&$(this).closest(".box").addClass("active")})),t.length){$(".font-dropdown-in-place.open .other-fonts-list .font").removeClass("pagebrowser-inactive").addClass("pagebrowser-active"),$(".font-dropdown-in-place.open .other-fonts-list .font").addClass("hidden-by-tag"),$(".font-dropdown-in-place.open .filter-match-info").removeClass("hidden"),$(".font-dropdown-in-place.open .other-fonts-list .font").each((function(){var e=$(this).attr("data-font-tags"),a=!0;if(e.length){for(var o=e.split(","),i=0;i<o.length;i++)o[i]=o[i].trim();for(var n=0;n<t.length;n++)-1===o.indexOf(t[n])&&(a=!1),a?$(this).removeClass("hidden-by-tag"):$(this).addClass("hidden-by-tag")}}));var a=$(".font-dropdown-in-place.open .other-fonts-list .font:visible").length;$(".font-dropdown-in-place.open .filter-match-info p").html("<strong>"+a+"</strong> matches for &quot;"+t.toString()+"&quot;")}else e.resetFontFilter()},this.resetFontFilter=function(){$(".font-dropdown-in-place.open .filter-match-info").addClass("hidden"),$(".font-dropdown-in-place.open .other-fonts-list .font").removeClass("hidden-by-tag"),$(".font-dropdown-in-place.open .filter-fonts-container .box").removeClass("selected"),window.primaryFontTags=[],window.secondaryFontTags=[]},this.appendFontDropdown=function(e,t,a,o,i,n,s,r,d){var l="",c=a.id,g=a.weight,p=a.tags;p.push(g);var f=p.toString().replace(/,/g,", "),h=f.length?"":"no-tags",u=a.url.replace(a.defaultLetterCase,t),v=a.fanciness,m='<span class="glyphicon glyphicon-chevron-down"></span><div data-font-fanciness="'+v+'" data-font-weight="'+g+'" data-font-id="'+c+'" data-font-serif="'+a.serif+'" data-font-rounded="'+a.rounded+'" data-font-lowercase="'+a.lowerCaseSupported+'" class="current-font font"><h3 class="current-font-header corner-ribbon top-right green">'+window.i18nLabelFontModalSelected+'</h3><div class="'+h+' font-data"><span class="font-id">'+SmashingLogo.Utils.pad(c,4)+'</span><span class="separator dash"> - </span><span class="tags">'+f+'</span></div><img src="'+u+'" alt="" width="550" height="65"></img></div>';d.find(".dropdown-toggle").html(m),d.find(".dropdown-toggle .current-font-header").remove(),l+='<ul class="switch-modes nowrap"><li class="mode active" data-sub-section="fonts-related">Related</li><li class="mode recommended" data-sub-section="fonts-other">'+window.i18nLabelRecommended+'</li><li class="mode all" data-sub-section="fonts-other">'+window.i18nLabelAvailable+'</li><li class="mode" data-sub-section="fonts-previous">'+window.i18nPreviouslyUsed+"</li></ul>";var b=[];l+='<div class="related-fonts sub-section active" data-sub-section-identifier="fonts-related"><h2 class="header">'+window.i18nLabelFontModalVariations+"</h2>";for(var y=0;y<o.length;y++)c=o[y].id,g=o[y].weight,(p=o[y].tags).push(g),h=(f=p.toString().replace(/,/g,", ")).length?"":"no-tags",u=o[y].url.replace(a.defaultLetterCase,t),v=o[y].fanciness,b.push(c),l+='<div data-font-fanciness="'+v+'" data-font-weight="'+g+'" data-font-id="'+c+'" data-font-serif="'+o[y].serif+'" data-font-rounded="'+o[y].rounded+'" data-font-lowercase="'+o[y].lowerCaseSupported+'" class="font related-font"><div class="'+h+' font-data"><span class="font-id">'+SmashingLogo.Utils.pad(c,4)+'</span><span class="separator dash"> - </span><span class="tags">'+f+'</span></div><img src="'+u+'" alt=""></img></div>';if(0===o.length&&(l+='<div class="empty"><p>This font has no other styles.</p></div>'),l+="</div>",s.length){var w=[];l+='<div class="previous-fonts sub-section" data-sub-section-identifier="fonts-previous"><h2 class="header">'+window.i18nPreviouslyUsed+"</h2>";for(var C=0;C<s.length;C++){c=s[C].id,g=s[C].weight,(p=s[C].tags).push(g),h=(f=p.toString().replace(/,/g,", ")).length?"":"no-tags",u=s[C].url,v=s[C].fanciness;var x=w.length>19?"hidden":"";c!==r&&(l+='<div data-font-fanciness="'+v+'" data-font-weight="'+g+'" data-font-id="'+c+'" data-font-serif="'+s[C].serif+'" data-font-rounded="'+s[C].rounded+'" data-font-lowercase="'+s[C].lowerCaseSupported+'" class="font previous-font '+x+'"><div class="'+h+' font-data"><span class="font-id">'+SmashingLogo.Utils.pad(c,4)+'</span><span class="separator dash"> - </span><span class="tags">'+f+'</span></div><img src="'+u+'" alt=""></img></div>',w.push(c))}w.length>20?l+='<div class="show-more-container"><a class="show-more-previous-fonts" href="#">Show more from history</a></div></div>':l+="</div>"}for(var S=[],k=0;k<i.length;k++){c=i[k].id,g=i[k].weight,(p=i[k].tags).push(g),f=p.toString().replace(/,/g,", "),h=p.length?"":"no-tags",u=i[k].url,v=i[k].fanciness,a.id===c&&(u=u.replace(a.defaultLetterCase,t));var L=n.indexOf(c)>=0;l+='<div data-font-tags="'+f+'" class="font '+(L?"visible":"hidden")+'" data-recommended-font="'+L+'" data-font-fanciness="'+v+'" data-font-weight="'+g+'" data-font-id="'+c+'" data-font-serif="'+i[k].serif+'" data-font-rounded="'+i[k].rounded+'" data-font-lowercase="'+i[k].lowerCaseSupported+'"><div class="'+h+' font-data"><span class="font-id">'+SmashingLogo.Utils.pad(c,4)+'</span><span class="separator dash"> - </span><span class="tags">'+f+'</span></div><div class="inner-wrap"><div class="svg-background-image" style="background-image: url('+u+')"></div></div></div>';for(var F=0;F<p.length;F++)-1===S.indexOf(p[F])&&S.push(p[F])}d.find(".dropdown-menu").append(l),d.find(".dropdown-menu").find("> .font").wrapAll('<div class="other-fonts-list sub-section" data-sub-section-identifier="fonts-other"></div>');var H=0;$(".font-dropdown-in-place.open").length?d.find(".other-fonts-list .font").addClass("pagebrowser-active"):d.find(".other-fonts-list .font").each((function(){$(this).hasClass("visible")&&H<20?($(this).addClass("pagebrowser-active"),H++):$(this).addClass("pagebrowser-inactive")})),d.find(".dropdown-menu").find("> .other-fonts-list").prepend('<h2 class="header">'+window.i18nLabelFontModalList+"</h2>"),d.find(".other-fonts-list .font[data-font-id="+a.id+"]").addClass("current").siblings().removeClass("current");var E=$('<select class="filter-fonts"></select>');e?E.append($("<option></option>").val("all").attr("selected","selected").text(window.i18nLabelAvailable)):E.append($("<option></option>").val("recommended").attr("selected","selected").text(window.i18nLabelRecommended)).append($("<option></option>").val("all").text(window.i18nLabelAvailable)),E.insertAfter(d.find(".other-fonts-list .header")),E.wrap('<div class="filter-fonts-container"></div>'),d.find(".filter-fonts option").each((function(){var e=$(this),t=e.text();"all"===e.val()?e.text(t+" ( "+i.length+" ) "):"recommended"===e.val()&&e.text(t+" ( "+n.length+" ) ")}));for(var P=$('<div class="font-tags box-row flex tiny-view elastic"></div>'),I=0;I<S.length;I++)P.append('<div class="box"><span data-tag-name="'+S[I]+'">'+S[I]+"</span></div>");P.appendTo(d.find(".filter-fonts-container")),d.find(".filter-fonts-container").append('<div class="filter-match-info hidden"><p></p><a class="remove-filter" href="#">Remove filter</a></div>')},this.updateFontDropdown=function(e,t,a,o,i,n){var s=t.id,r=t.weight,d=t.tags;d.push(r);var l=d.toString().replace(/,/g,", "),c=l.length?"":"no-tags",g=t.url.replace(t.defaultLetterCase,e),p=t.fanciness,f='<span class="glyphicon glyphicon-chevron-down"></span><div data-font-fanciness="'+p+'" data-font-weight="'+r+'" data-font-id="'+s+'" data-font-serif="'+t.serif+'" data-font-rounded="'+t.rounded+'" data-font-lowercase="'+t.lowerCaseSupported+'" class="current-font font"><h3 class="current-font-header corner-ribbon top-right green">'+window.i18nLabelFontModalSelected+'</h3><div class="'+c+' font-data"><span class="font-id">'+SmashingLogo.Utils.pad(s,4)+'</span><span class="separator dash"> - </span><span class="tags">'+l+'</span></div><img src="'+g+'" alt=""></img></div>';n.find(".dropdown-toggle-in-place").append(f),n.find(".dropdown-toggle-in-place .current-font-header").remove();for(var h=[],u='<h2 class="header">'+window.i18nLabelFontModalVariations+"</h2>",v=0;v<a.length;v++)s=a[v].id,r=a[v].weight,(d=a[v].tags).push(r),c=(l=d.toString().replace(/,/g,", ")).length?"":"no-tags",g=a[v].url.replace(t.defaultLetterCase,e),p=a[v].fanciness,h.push(s),u+='<div data-font-fanciness="'+p+'" data-font-weight="'+r+'" data-font-id="'+s+'" data-font-serif="'+a[v].serif+'" data-font-rounded="'+a[v].rounded+'" data-font-lowercase="'+a[v].lowerCaseSupported+'" class="font related-font"><div class="'+c+' font-data"><span class="font-id">'+SmashingLogo.Utils.pad(s,4)+'</span><span class="separator dash"> - </span><span class="tags">'+l+'</span></div><img src="'+g+'" alt=""></img></div>';if(0===a.length&&(u+='<div class="empty"><p>This font has no other styles.</p></div>'),n.find(".related-fonts").html(u),o.length){for(var m=[],b='<h2 class="header">'+window.i18nPreviouslyUsed+"</h2>",y=0;y<o.length;y++){s=o[y].id,r=o[y].weight,(d=o[y].tags).push(r),c=(l=d.toString().replace(/,/g,", ")).length?"":"no-tags",g=o[y].url,p=o[y].fanciness;var $=m.length>19?"hidden":"";s!==i&&(b+='<div data-font-fanciness="'+p+'" data-font-weight="'+r+'" data-font-id="'+s+'" data-font-serif="'+o[y].serif+'" data-font-rounded="'+o[y].rounded+'" data-font-lowercase="'+o[y].lowerCaseSupported+'" class="font previous-font '+$+'"><div class="'+c+' font-data"><span class="font-id">'+SmashingLogo.Utils.pad(s,4)+'</span><span class="separator dash"> - </span><span class="tags">'+l+'</span></div><img src="'+g+'" alt=""></img></div>',m.push(s))}m.length>20&&(b+='<div class="show-more-container"><a class="show-more-previous-fonts" href="#">Show more from history</a></div>'),n.find(".previous-fonts").html(b)}},this.initPrimaryLetterSpacingSlider=function(e,t){var a=$("#primary-letter-spacing-slider"),o=$("#primaryLetterSpacingHiddenField");a.noUiSlider({start:[e],step:1,range:{min:[t[0]],max:[t.length]}}),a.on({change:function(){parseInt(o.val())!==parseInt(a.val())&&(o.val(parseInt(a.val(),10)),$(".section-layout-options .btn-submit").trigger("click"))}})},this.insertPrimaryLetterSpacingSwitch=function(t,a){var o=$(".config-column .sub-section-primary-letter-spacing");0!==o.length&&(o.append('<div id="primary-letter-spacing-slider"></div>'),o.append('<input id="primaryLetterSpacingHiddenField" type="hidden" value="'+t+'" name="primary-letter-spacing"></input>'),e.initPrimaryLetterSpacingSlider(t,a))},this.primaryLetterSpacingSetup=function(t){$("#primary-letter-spacing-slider").length&&$("#primary-letter-spacing-slider").remove(),t.primaryLetterSpacing&&t.primaryLetterSpacingRange&&e.insertPrimaryLetterSpacingSwitch(t.primaryLetterSpacing,t.primaryLetterSpacingRange)},this.initSlider=function(e,t,a,o){a.noUiSlider({start:[e],step:1,range:{min:[t[0]],max:[t.length]}}),a.on({change:function(){parseInt(o.val())!==parseInt(a.val())&&(o.val(parseInt(a.val(),10)),$(".section-layout-options .btn-submit").trigger("click"))}})},this.insertIconSizeSwitch=function(t,a){$(".variation-options .option.selected[data-variation-identifier*=standalone]").length&&($(".config-column .sub-section-style .variation-options").append('<div id="icon-size-slider"></div>'),$(".config-column .sub-section-style .variation-options").append('<input id="iconSizeHiddenField" type="hidden" value="'+t+'" name="icon-size"></input>'),e.initSlider(t,a,$("#icon-size-slider"),$("#iconSizeHiddenField")))},this.insertIconGapSwitch=function(t,a){var o=$(".variation-options .option.selected[data-variation-identifier*=standalone]").length,i=$(".variation-options .option.selected[data-variation-identifier*=standalone-beside]").length;if(o){var n=i?"glyphicon-resize-horizontal":"glyphicon-resize-vertical";$(".config-column .sub-section-style").append('<div id="icon-gap-section"><span class="slider-legend glyphicon '+n+'"></span><div id="icon-gap-slider"></div></div>'),$(".config-column .sub-section-style").append('<input id="iconGapHiddenField" type="hidden" value="'+t+'" name="icon-gap"></input>'),e.initSlider(t,a,$("#icon-gap-slider"),$("#iconGapHiddenField"))}},this.insertSecondaryGapSwitch=function(t,a){var o=!1,i="simple"!==$(".sub-section-smart-secondary .variation-options .option.selected").attr("data-variation-identifier"),n=$('.mutations-column .item[data-template-identifier="Default"] g[data-paper-data*=isSecondaryText]'),s=n.length;if(n.length){var r=$.parseJSON(n.attr("data-paper-data"));r&&r.isBesideStackedLine&&(o=!0)}!s||o||i||($(".config-column .sub-section-smart-secondary").append('<div id="secondary-gap-section"><span class="slider-legend glyphicon glyphicon-resize-vertical"></span><div id="secondary-gap-slider"></div></div>'),$(".config-column .sub-section-smart-secondary").append('<input id="secondaryGapHiddenField" type="hidden" value="'+t+'" name="secondary-gap"></input>'),e.initSlider(t,a,$("#secondary-gap-slider"),$("#secondaryGapHiddenField")))},this.initContainerPaddingSlider=function(e,t){var a=$("#container-padding-slider");0!==a.length&&(a.noUiSlider({start:[e],step:1,range:{min:[t[0]],max:[t.length]}}),a.on({change:function(){parseInt($("#containerPaddingHiddenField").val())!==parseInt($("#container-padding-slider").val())&&($("#containerPaddingHiddenField").val(parseInt($("#container-padding-slider").val(),10)),$(".section-layout-options .btn-submit").trigger("click"))}}))},this.initRectangleClipSliders=function(e){var t=$("#rectangle-clip-top-padding-slider"),a=$("#rectangle-clip-bottom-padding-slider"),o=$("#rectangle-clip-left-padding-slider"),i=$("#rectangle-clip-right-padding-slider"),n=$("#rectangle-clip-skew-slider");0!==t.length&&0!==a.length&&0!==o.length&&0!==i.length&&0!==n.length&&(t.noUiSlider({start:[e.currentTopPadding],step:1,range:{min:[e.topPaddingRange[0]],max:[e.topPaddingRange.length]}}),a.noUiSlider({start:[e.currentBottomPadding],step:1,range:{min:[e.bottomPaddingRange[0]],max:[e.bottomPaddingRange.length]}}),o.noUiSlider({start:[e.currentLeftPadding],step:1,range:{min:[e.leftPaddingRange[0]],max:[e.leftPaddingRange.length]}}),i.noUiSlider({start:[e.currentRightPadding],step:1,range:{min:[e.rightPaddingRange[0]],max:[e.rightPaddingRange.length]}}),n.noUiSlider({start:[e.currentSkewValue],step:1,range:{min:[e.skewRange[0]],max:[e.skewRange.length]}}),t.on({change:function(){parseInt($("#rectangleClipTopPaddingHiddenField").val())!==parseInt(t.val())&&($("#rectangleClipTopPaddingHiddenField").val(parseInt(t.val(),10)),$(".section-layout-options .btn-submit").trigger("click"))}}),a.on({change:function(){parseInt($("#rectangleClipBottomPaddingHiddenField").val())!==parseInt(a.val())&&($("#rectangleClipBottomPaddingHiddenField").val(parseInt(a.val(),10)),$(".section-layout-options .btn-submit").trigger("click"))}}),o.on({change:function(){parseInt($("#rectangleClipLeftPaddingHiddenField").val())!==parseInt(o.val())&&($("#rectangleClipLeftPaddingHiddenField").val(parseInt(o.val(),10)),$(".section-layout-options .btn-submit").trigger("click"))}}),i.on({change:function(){parseInt($("#rectangleClipRightPaddingHiddenField").val())!==parseInt(i.val())&&($("#rectangleClipRightPaddingHiddenField").val(parseInt(i.val(),10)),$(".section-layout-options .btn-submit").trigger("click"))}}),n.on({change:function(){parseInt($("#rectangleClipSkewHiddenField").val())!==parseInt(n.val())&&($("#rectangleClipSkewHiddenField").val(parseInt(n.val(),10)),$(".section-layout-options .btn-submit").trigger("click"))}}))},this.activeStateJbensonDropdowns=function(e){$("#modalExtendedSettings .jbenson-settings").length&&($("#modalExtendedSettings .jbenson-settings .type-wrapper li.variation-container[data-jbenson-type="+e.activeType+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .jbenson-settings .style-wrapper li.variation-container[data-jbenson-style="+e.activeStyle+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .jbenson-settings .outer-style-wrapper li.variation-container[data-jbenson-outer-style="+e.activeOuterStyle+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .jbenson-settings .connector-wrapper li.variation-container[data-jbenson-connector="+e.activeConnector+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .jbenson-settings .type-wrapper .text-link a[data-jbenson-type="+e.activeType+"]").closest("li").addClass("active"),$("#modalExtendedSettings .jbenson-settings .style-wrapper .text-link a[data-jbenson-style="+e.activeStyle+"]").closest("li").addClass("active"),$("#modalExtendedSettings .jbenson-settings .outer-style-wrapper .text-link a[data-jbenson-outer-style="+e.activeOuterStyle+"]").closest("li").addClass("active"),$("#modalExtendedSettings .jbenson-settings .connector-wrapper .text-link a[data-jbenson-connector="+e.activeConnector+"]").closest("li").addClass("active"))},this.activeStateJbensonPortraitDropdowns=function(e){$("#modalExtendedSettings .jbenson-portrait-settings").length&&($("#modalExtendedSettings .jbenson-portrait-settings .type-wrapper li.variation-container[data-jbenson-portrait-type="+e.activeType+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .jbenson-portrait-settings .style-wrapper li.variation-container[data-jbenson-portrait-style="+e.activeStyle+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .jbenson-portrait-settings .connector-wrapper li.variation-container[data-jbenson-portrait-connector="+e.activeConnector+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .jbenson-portrait-settings .type-wrapper .text-link a[data-jbenson-portrait-type="+e.activeType+"]").closest("li").addClass("active"),$("#modalExtendedSettings .jbenson-portrait-settings .style-wrapper .text-link a[data-jbenson-portrait-style="+e.activeStyle+"]").closest("li").addClass("active"),$("#modalExtendedSettings .jbenson-portrait-settings .connector-wrapper .text-link a[data-jbenson-portrait-connector="+e.activeConnector+"]").closest("li").addClass("active"))},this.activeStateBarBadgeDropdowns=function(e){$("#modalExtendedSettings .bar-badge-settings").length&&($("#modalExtendedSettings .bar-badge-settings .layout-wrapper li.variation-container[data-bar-badge-layout="+e.activeLayout+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .bar-badge-settings .style-wrapper li.variation-container[data-bar-badge-style="+e.activeStyle+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .bar-badge-settings .bar-style-wrapper li.variation-container[data-bar-badge-bar-style="+e.activeBarStyle+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .bar-badge-settings .bar-shape-wrapper li.variation-container[data-bar-badge-bar-shape="+e.activeBarShape+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .bar-badge-settings .bar-ribbon-style-wrapper li.variation-container[data-bar-badge-bar-ribbon-style="+e.activeBarRibbonStyle+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .bar-badge-settings .layout-wrapper .text-link a[data-bar-badge-layout="+e.activeLayout+"]").closest("li").addClass("active"),$("#modalExtendedSettings .bar-badge-settings .style-wrapper .text-link a[data-bar-badge-style="+e.activeStyle+"]").closest("li").addClass("active"),$("#modalExtendedSettings .bar-badge-settings .bar-style-wrapper .text-link a[data-bar-badge-bar-style="+e.activeBarStyle+"]").closest("li").addClass("active"),$("#modalExtendedSettings .bar-badge-settings .bar-shape-wrapper .text-link a[data-bar-badge-bar-shape="+e.activeBarShape+"]").closest("li").addClass("active"),$("#modalExtendedSettings .bar-badge-settings .bar-ribbon-style-wrapper .text-link a[data-bar-badge-bar-ribbon-style="+e.activeBarRibbonStyle+"]").closest("li").addClass("active"))},this.activeStateShieldDropdowns=function(e){$("#modalExtendedSettings .shield-settings").length&&($("#modalExtendedSettings .shield-settings .layout-wrapper li.variation-container[data-shield-layout="+e.activeLayout+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .shield-settings .header-effects-wrapper li.variation-container[data-shield-header-effect="+e.activeHeaderEffect+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .shield-settings .footer-effects-wrapper li.variation-container[data-shield-footer-effect="+e.activeFooterEffect+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .shield-settings .shape-wrapper li.variation-container[data-shield-shape="+e.activeShape+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .shield-settings .style-wrapper li.variation-container[data-shield-style="+e.activeStyle+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .shield-settings .layout-wrapper .text-link a[data-shield-layout="+e.activeLayout+"]").closest("li").addClass("active"),$("#modalExtendedSettings .shield-settings .header-effects-wrapper .text-link a[data-shield-header-effect="+e.activeHeaderEffect+"]").closest("li").addClass("active"),$("#modalExtendedSettings .shield-settings .footer-effects-wrapper .text-link a[data-shield-footer-effect="+e.activeFooterEffect+"]").closest("li").addClass("active"),$("#modalExtendedSettings .shield-settings .shape-wrapper .text-link a[data-shield-shape="+e.activeShape+"]").closest("li").addClass("active"),$("#modalExtendedSettings .shield-settings .style-wrapper .text-link a[data-shield-style="+e.activeStyle+"]").closest("li").addClass("active"))},this.activeStateCircleDropdowns=function(e){$("#modalExtendedSettings .circle-settings").length&&($("#modalExtendedSettings .circle-settings .style-wrapper li.variation-container[data-circle-style="+e.activeStyle+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .circle-settings .padding-wrapper li.variation-container[data-circle-padding="+e.activePadding+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .circle-settings .style-wrapper .text-link a[data-circle-style="+e.activeStyle+"]").closest("li").addClass("active"),$("#modalExtendedSettings .circle-settings .padding-wrapper .text-link a[data-circle-padding="+e.activePadding+"]").closest("li").addClass("active"))},this.activeStateSquareDropdowns=function(e){$("#modalExtendedSettings .square-settings").length&&($("#modalExtendedSettings .square-settings .style-wrapper li.variation-container[data-square-style="+e.activeStyle+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .square-settings .padding-wrapper li.variation-container[data-square-padding="+e.activePadding+"]").addClass("active").siblings().removeClass("active"),$("#modalExtendedSettings .square-settings .style-wrapper .text-link a[data-square-style="+e.activeStyle+"]").closest("li").addClass("active"),$("#modalExtendedSettings .square-settings .padding-wrapper .text-link a[data-square-padding="+e.activePadding+"]").closest("li").addClass("active"))},this.setThemeVariations=function(e,t){$(".sub-section-icon-theme .options-row .variation-options").html("");for(var a=0;a<e.length;a++)$(".sub-section-icon-theme .options-row .variation-options").append('<div class="option" data-variation-identifier="'+e[a]+'"><span class="variation-option-label">'+(a+1)+"</span></div>"),e[a]===t&&$(".sub-section-icon-theme .options-row .variation-options .option:last").addClass("selected")},this.toggleIconThemeOptions=function(){var e=$(".section-add-icon .sub-section-icon-theme");$page.body.attr("data-gradient-mode")?e.addClass("hidden"):e.removeClass("hidden")},this.extendedContainerLayout=function(e){$("#containerPaddingHiddenField").val(e.currentPadding),e.rectangleClip&&($("#rectangleClipTopPaddingHiddenField").val(e.rectangleClip.currentTopPadding),$("#rectangleClipBottomPaddingHiddenField").val(e.rectangleClip.currentBottomPadding),$("#rectangleClipLeftPaddingHiddenField").val(e.rectangleClip.currentLeftPadding),$("#rectangleClipRightPaddingHiddenField").val(e.rectangleClip.currentRightPadding),$("#rectangleClipSkewHiddenField").val(e.rectangleClip.currentSkewValue)),e.jbenson&&($("#jbensonTypeHiddenField").val(e.jbenson.activeType),$("#jbensonStyleHiddenField").val(e.jbenson.activeStyle),$("#jbensonOuterStyleHiddenField").val(e.jbenson.activeOuterStyle),$("#jbensonConnectorHiddenField").val(e.jbenson.activeConnector)),e.jbensonPortrait&&($("#jbensonPortraitTypeHiddenField").val(e.jbensonPortrait.activeType),$("#jbensonPortraitStyleHiddenField").val(e.jbensonPortrait.activeStyle),$("#jbensonPortraitConnectorHiddenField").val(e.jbensonPortrait.activeConnector)),e.barBadge&&($("#barBadgeLayoutHiddenField").val(e.barBadge.activeLayout),$("#barBadgeStyleHiddenField").val(e.barBadge.activeStyle),$("#barBadgeBarStyleHiddenField").val(e.barBadge.activeBarStyle),$("#barBadgeBarShapeHiddenField").val(e.barBadge.activeBarShape),$("#barBadgeBarRibbonStyleHiddenField").val(e.barBadge.activeBarRibbonStyle)),e.shield&&($("#shieldLayoutHiddenField").val(e.shield.activeLayout),$("#shieldHeaderEffectHiddenField").val(e.shield.activeHeaderEffect),$("#shieldFooterEffectHiddenField").val(e.shield.activeFooterEffect),$("#shieldShapeHiddenField").val(e.shield.activeShape),$("#shieldStyleHiddenField").val(e.shield.activeStyle)),e.circle&&($("#circleStyleHiddenField").val(e.circle.activeStyle),$("#circlePaddingHiddenField").val(e.circle.activePadding)),e.square&&($("#squareStyleHiddenField").val(e.square.activeStyle),$("#squarePaddingHiddenField").val(e.square.activePadding));var t=$("#modalExtendedSettings .container-layout .svg-container-clone");t.html(SmashingLogo.Utils.uniqueSVG($("#editor-sections .mutations-column .items .item.default .svg-container").html())),t.find("svg").wrapAll('<div class="inner-wrapper"></div>')},this.setFontStylesVariations=function(e,t){$(".sub-section-font-style .options-row .variation-options").html("");for(var a=0;a<e.length;a++)$(".sub-section-font-style .options-row .variation-options").append('<div class="option" data-variation-identifier="'+e[a]+'"><span class="variation-option-label">'+(a+1)+"</span></div>"),e[a]===t&&$(".sub-section-font-style .options-row .variation-options .option:last").addClass("selected");$(".sub-section-font-style .options-row").find(".variation-options").append(window.previewAllButtonMarkup),$(".sub-section-font-style .options-row").find(".variation-options").append(window.extendedSettingsButtonMarkup)},this.setTextStylesVariations=function(e,t){$(".sub-section-text-style .options-row .variation-options").html("");for(var a=0;a<e.length;a++){var o="upper"===e[a]?"AA":"lower"===e[a]?"aa":"Aa";$(".sub-section-text-style .options-row .variation-options").append('<div class="option" data-variation-identifier="'+e[a]+'"><span class="variation-option-label">'+o+"</span></div>"),e[a]===t&&$(".sub-section-text-style .options-row .variation-options .option:last").addClass("selected")}$(".sub-section-text-style .options-row").find(".variation-options").append(window.previewAllButtonMarkup)},this.setSecondaryTextStylesVariations=function(e,t){$(".sub-section-secondary-text-style .options-row .variation-options").html("");for(var a=0;a<e.length;a++){var o="upper"===e[a]?"AA":"lower"===e[a]?"aa":"Aa";$(".sub-section-secondary-text-style .options-row .variation-options").append('<div class="option" data-variation-identifier="'+e[a]+'"><span class="variation-option-label">'+o+"</span></div>"),e[a]===t&&$(".sub-section-secondary-text-style .options-row .variation-options .option:last").addClass("selected")}$(".sub-section-secondary-text-style .options-row").find(".variation-options").append(window.previewAllButtonMarkup)},this.refreshComponents=function(t){var a=0===$("#editor-sections .mutations-column .items .item").length;a&&(e.addPreviewMarkup(t),$page.inputs.name.val(decodeEntities($page.body.attr("data-company-name"))),$page.inputs.tagline.val(decodeEntities($page.body.attr("data-company-tagline"))),this.buildFontsSectionBasic(t),SmashingLogo.ManageFavorites.setFavoriteCount(t.favoriteCount));var o=$page.body.attr("data-logo-path"),i=t.fileName||t.logoFileName,n=o.substr(o.indexOf("_hex_")+5,6),s=o.substr(o.indexOf("_hex2_")+6,6);SmashingLogo.SeamlessHeader.addDataUrls(),SmashingLogo.Utils.setPreviousLogoId(t.logoId);var r=SmashingLogo.ManageFavorites.getFavoriteCount();a||r===t.favoriteCount||SmashingLogo.SeamlessHeader.refreshFavoriteButton(t.favoriteCount),parseInt($(window).width())<1200&&$(".modal.in").each((function(){"modalExtendedSettings"!==$(this).attr("id")&&$(this).modal("hide")})),$(".section-add-icon .locked-icons .icon-slot").addClass("empty"),$(".section-add-icon .locked-icons .icon-slot").html(""),e.updatePreviouslyUsedIcons(t.previousIcons),$page.body.attr("data-company-name",$("#companyName").val()),$page.body.attr("data-company-tagline",$("#companyTagline").val()),$page.body.attr("data-logo-path",i);var d=t.hex1?t.hex1.replace("#",""):n,l=t.hex2?t.hex2.replace("#",""):s,c=n!==d||s!==l;e.colorBranding(d,l),c&&($page.body.attr("data-hex-1","#"+d),$page.body.attr("data-hex-2","#"+l)),$("#modalColorPalette").hasClass("in")?$("#modalColorPalette .nav-tabs li.active").index()>1&&e.setupAdditionallyRenderedColors(t.renderedColors,t.hex1,t.hex2):e.setupAdditionallyRenderedColors(t.renderedColors,t.hex1,t.hex2);var g=$(".section.colors .mutations-column"),p=$(".mutations-nav-column");(g.find(".items .item").each((function(){var e=$(this),a=e.attr("data-template-identifier"),o=p.find('.nav-item[data-template-identifier="'+a+'"]');if("Default"===a||"Contrast"===a)e.find(".svg-container").html(""),e.find(".svg-container").append(SmashingLogo.Utils.uniqueSVG(t.svgString)),o.find("[data-hex]").each((function(){$(this).attr("data-hex").toLowerCase()===n.toLowerCase()&&($(this).attr("data-hex",d),$(this).css("background-color","#"+d)),$(this).attr("data-hex").toLowerCase()===s.toLowerCase()&&($(this).attr("data-hex",l),$(this).css("background-color","#"+l))}));else if("SingleColorHex1"===a)if(!1===t.renderInstructions.renderTemplateSingleColorHex1)e.hasClass("active")&&(g.find('.item[data-template-identifier="Default"]').addClass("active"),p.find('.nav-item[data-template-identifier="Default"]').addClass("active")),e.remove(),o.remove();else{var i=SmashingLogo.ColorUtils.getMixedColor("#ffffff",d,.15);e.attr("data-front-hex",d),e.attr("data-back-hex",i.replace("#","")),e.css("background-color",i),e.find(".svg-container").html(SmashingLogo.Utils.uniqueSVG(t.svgString).replace(new RegExp("(?!(#ffffff))(#(?:[0-9a-f]{2}){2,4})","gi"),"#"+d)),o.attr("data-back-hex",i.replace("#","")),o.css("background-color",SmashingLogo.ColorUtils.getMixedColor("#ffffff",d,.15)),o.find("[data-hex]").each((function(){$(this).attr("data-hex").toLowerCase()===n.toLowerCase()&&($(this).attr("data-hex",d),$(this).css("background-color","#"+d))}))}else if("SingleColorHex2"===a)if(!1===t.renderInstructions.renderTemplateSingleColorHex2)e.hasClass("active")&&(g.find('.item[data-template-identifier="Default"]').addClass("active"),p.find('.nav-item[data-template-identifier="Default"]').addClass("active")),e.remove(),o.remove();else{var r=SmashingLogo.ColorUtils.getMixedColor("#ffffff",l,.15);e.attr("data-front-hex",l),e.attr("data-back-hex",r.replace("#","")),e.css("background-color",r),e.find(".svg-container").html(SmashingLogo.Utils.uniqueSVG(t.svgString).replace(new RegExp("(?!(#ffffff))(#(?:[0-9a-f]{2}){2,4})","gi"),"#"+l)),o.attr("data-back-hex",r.replace("#","")),o.css("background-color",SmashingLogo.ColorUtils.getMixedColor("#ffffff",l,.15)),o.find("[data-hex]").each((function(){$(this).attr("data-hex").toLowerCase()===s.toLowerCase()&&($(this).attr("data-hex",l),$(this).css("background-color","#"+l))}))}else if("InvertedHex1"===a)!1===t.renderInstructions.renderTemplateInvertedHex1?(e.hasClass("active")&&(g.find('.item[data-template-identifier="Default"]').addClass("active"),p.find('.nav-item[data-template-identifier="Default"]').addClass("active")),e.remove(),o.remove()):(e.attr("data-back-hex",d),e.css("background-color","#"+d),e.find(".svg-container").html(SmashingLogo.Utils.uniqueSVG(t.svgStringWhite)),o.attr("data-back-hex",d),o.css("background-color","#"+d));else if("InvertedHex2"===a)!1===t.renderInstructions.renderTemplateInvertedHex2?(e.hasClass("active")&&(g.find('.item[data-template-identifier="Default"]').addClass("active"),p.find('.nav-item[data-template-identifier="Default"]').addClass("active")),e.remove(),o.remove()):(e.attr("data-back-hex",l),e.css("background-color","#"+l),e.find(".svg-container").html(SmashingLogo.Utils.uniqueSVG(t.svgStringWhite)),o.attr("data-back-hex",l),o.css("background-color","#"+l));else if("BlackAndHighlightColorHex1"===a)if(!1===t.renderInstructions.renderTemplateBlackAndHighlightColorHex1)e.hasClass("active")&&(g.find('.item[data-template-identifier="Default"]').addClass("active"),p.find('.nav-item[data-template-identifier="Default"]').addClass("active")),e.remove(),o.remove();else{var c=SmashingLogo.ColorUtils.getMixedColor("#000000",d,.3),f="";f=t.renderInstructions.gradientMode&&-1===gradientColorsWhichShouldFadeToWhite.indexOf(d.toUpperCase())?t.svgString:(f=(f=t.svgString.replace(new RegExp("#ffffff","gi"),"xxxxxx_placeholder")).replace(new RegExp("(?!(#"+d+"))(#(?:[0-9a-f]{2}){2,4})","gi"),"#ffffff")).replace(new RegExp("xxxxxx_placeholder","gi"),"#000000"),e.attr("data-front-hex","ffffff;"+d),e.attr("data-back-hex",c.replace("#","")),e.css("background-color",c),e.find(".svg-container").html(SmashingLogo.Utils.uniqueSVG(f)),o.attr("data-back-hex",c.replace("#","")),o.css("background-color",c),o.find("[data-hex]").each((function(){"ffffff"!==$(this).attr("data-hex")&&($(this).attr("data-hex").toLowerCase()===n.toLowerCase()&&($(this).attr("data-hex",d),$(this).css("background-color","#"+d)),$(this).attr("data-hex").toLowerCase()===s.toLowerCase()&&($(this).attr("data-hex",l),$(this).css("background-color","#"+l)))}))}else if("BlackAndHighlightColorHex2"===a)if(!1===t.renderInstructions.renderTemplateBlackAndHighlightColorHex2)e.hasClass("active")&&(g.find('.item[data-template-identifier="Default"]').addClass("active"),p.find('.nav-item[data-template-identifier="Default"]').addClass("active")),e.remove(),o.remove();else{var h=SmashingLogo.ColorUtils.getMixedColor("#000000",l,.3),u=t.svgString.replace(new RegExp("#ffffff","gi"),"xxxxxx_placeholder");u=(u=u.replace(new RegExp("(?!(#"+l+"))(#(?:[0-9a-f]{2}){2,4})","gi"),"#ffffff")).replace(new RegExp("xxxxxx_placeholder","gi"),"#000000"),e.attr("data-front-hex","ffffff;"+l),e.attr("data-back-hex",h.replace("#","")),e.css("background-color",h),e.find(".svg-container").html(SmashingLogo.Utils.uniqueSVG(u)),o.attr("data-back-hex",h.replace("#","")),o.css("background-color",h),o.find("[data-hex]").each((function(){"ffffff"!==$(this).attr("data-hex")&&($(this).attr("data-hex").toLowerCase()===n.toLowerCase()&&($(this).attr("data-hex",d),$(this).css("background-color","#"+d)),$(this).attr("data-hex").toLowerCase()===s.toLowerCase()&&($(this).attr("data-hex",l),$(this).css("background-color","#"+l)))}))}})),c)&&(t.renderInstructions.renderTemplateSingleColorHex2&&0===g.find('.item[data-template-identifier="SingleColorHex2"]').length&&e.addHex2Mutations(t,s,l,"2"),t.renderInstructions.gradientMode&&e.removeHex2Mutations(),t.renderInstructions.renderTemplateBlackAndHighlightColorHex1&&0===g.find('.item[data-template-identifier="BlackAndHighlightColorHex1"]').length&&e.addBlackMagicMutation(t,n,d,"1"),t.renderInstructions.renderTemplateBlackAndHighlightColorHex2&&0===g.find('.item[data-template-identifier="BlackAndHighlightColorHex2"]').length&&e.addBlackMagicMutation(t,s,l,"2"),$page.body.attr("data-gradient-mode")&&($(".mutations-nav-column .nav-item[data-template-identifier=Contrast]").hasClass("active")||$(".mutations-nav-column .nav-item[data-template-identifier=BlackAndHighlightColorHex1]").trigger("click")));if(t.customColorMapping){window.customColorMapping=t.customColorMapping;var f=$(".section.colors .mutations-column .items .item.template-contrast"),h=f.find(".preview-wrap-customize-colors .on-off-slider").hasClass("on"),u=$(".editor-content-wrapper .section-nav .nav-tabs-colors").hasClass("active");f.find(".btn-wrap-customize-colors").remove(),f.find(".preview-wrap-customize-colors").remove(),e.customColorSetup(t),e.customColorHalfCircles(),u?h?e.disableSegmentColorMode():e.enableSegmentColorMode():e.disableSegmentColorMode()}if(t.textLayoutVariationCount.length||$(".sub-section-text-layout .options-row .variation-options").remove(),t.availableTextLayoutStyles?e.setLayoutOptions($(".sub-section-text-layout .options-row"),t.availableTextLayoutStyles,t.textLayoutStyle):$(".section-layout-options .sub-section-text-layout").addClass("hidden"),t.textLayoutVariationCount){var v=$('.sub-section-text-layout .options-row[data-option-value="'+t.textLayoutStyle+'"]');v.find(".variation-options").remove(),v.siblings().find(".variation-options").remove(),v.append('<div class="variation-options"></div>'),t.textLayoutVariationIdentifiers.length;for(var m=0;m<t.textLayoutVariationIdentifiers.length;m++){var b=$('<div class="option" data-variation-identifier="'+t.textLayoutVariationIdentifiers[m]+'"></div>');t.activeTextLayoutVariationIndex===m&&b.addClass("selected"),b.append('<span class="variation-option-label"><span class="text text1">AAA</span><span class="text text2">BB</span></span>'),v.find(".variation-options").append(b)}v.find(".variation-options").append(window.previewAllButtonMarkup)}if(t.secondaryTextPositionVariationCount.length||$(".sub-section-smart-secondary .options-row .variation-options").remove(),t.availableTextLayoutStyles?e.setLayoutOptions($(".sub-section-smart-secondary .options-row"),t.availableTextLayoutStyles,t.secondaryTextPositionStyle):$(".section-layout-options .sub-section-smart-secondary").addClass("hidden"),t.secondaryTextPositionVariationCount){var y=$('.sub-section-smart-secondary .options-row[data-option-value="'+t.secondaryTextPositionStyle+'"]');y.find(".variation-options").remove(),y.siblings().find(".variation-options").remove(),y.append('<div class="variation-options"></div>'),t.secondaryTextPositionVariationIdentifiers.length;for(var w=0;w<t.secondaryTextPositionVariationIdentifiers.length;w++){var C=$('<div class="option" data-variation-identifier="'+t.secondaryTextPositionVariationIdentifiers[w]+'"></div>');t.activeSecondaryTextPositionVariationIndex===w&&C.addClass("selected"),C.append('<span class="variation-option-label">'+(w+1)+"</span>"),y.find(".variation-options").append(C)}y.find(".variation-options").append(window.previewAllButtonMarkup)}if(t.secondaryLayoutVariationCount.length||$(".sub-section-secondary-layout .options-row .variation-options").remove(),t.availableSecondaryLayoutStyles?e.setLayoutOptions($(".sub-section-secondary-layout .options-row"),t.availableSecondaryLayoutStyles,t.secondaryLayoutStyle):$(".section-layout-options .sub-section-secondary-layout").addClass("hidden"),t.secondaryLayoutVariationCount){var x=$('.sub-section-secondary-layout .options-row[data-option-value="'+t.secondaryLayoutStyle+'"]');x.find(".variation-options").remove(),x.siblings().find(".variation-options").remove(),x.append('<div class="variation-options"></div>'),1===t.secondaryLayoutVariationIdentifiers.length||""===t.secondaryText?$(".sub-section-secondary-layout").addClass("hidden"):$(".sub-section-secondary-layout").removeClass("hidden");for(var S=0;S<t.secondaryLayoutVariationIdentifiers.length;S++){var k="no-container.svg";switch(t.secondaryLayoutVariationIdentifiers[S]){case"plain":k="no-container.svg";break;case"top-line":k="top-line.svg";break;case"top-bottom-lines":k="top-bottom-lines.svg";break;case"outline-box":k="outline-box.svg";break;case"filled-box":k="filled-box.svg"}var L=$('<div class="option" data-variation-identifier="'+t.secondaryLayoutVariationIdentifiers[S]+'"></div>');t.activeSecondaryLayoutVariationIndex===S&&L.addClass("selected"),L.append('<img class="lazy" data-src="/static/img/layout-variation-icons/slogan/'+k+'" alt=""></img>'),x.find(".variation-options").append(L)}x.find(".variation-options").append(window.previewAllButtonMarkup)}t.containerLayoutVariationCount.length||$(".sub-section-container-layout .options-row .variation-options").remove(),t.availableContainerLayoutStyles?e.setLayoutOptions($(".sub-section-container-layout .options-row"),t.availableContainerLayoutStyles,t.containerLayoutStyle):$(".section-layout-options .sub-section-container-layout").addClass("hidden"),e.addContainerVariations(t);var F=t.iconInnerHtml;if(F||($('.filter-sections-header-wrapper .switch-modes .mode[data-filter-section="icon-size"]').addClass("hidden"),$('.filter-sections-header-wrapper .switch-modes .mode[data-filter-section="icon-gap"]').addClass("hidden")),F){$(".section-add-icon .sub-section-style").removeClass("hidden"),$(".section-add-icon .sub-section-icon-theme").removeClass("hidden");var H=$.parseJSON(t.iconPaperData);if("string"==typeof H.initialText&&$("#modalMonogramSelection #initial-text-field").val(H.initialText),t.iconVariationIdentifiers.length||$(".section-add-icon .sub-section-style .options-row .variation-options").remove(),$(".section-add-icon .sub-section-style #icon-gap-section").remove(),t.iconVariationCount){var E=$('.options-row[data-option-value="'+t.iconStyle+'"]');E.find(".variation-options").remove(),E.siblings().find(".variation-options").remove(),E.append('<div class="variation-options nested"></div>'),t.iconVariationIdentifiers.length;for(var P=0;P<t.iconVariationIdentifiers.length;P++){var I=$('<div class="option" data-variation-identifier="'+t.iconVariationIdentifiers[P]+'"></div>');t.activeIconVariationIndex===P&&I.addClass("selected"),I.append('<span class="variation-option-label">'+(P+1)+"</span>"),E.find(".variation-options").append(I)}E.find(".variation-options").append(window.previewAllButtonMarkup),t.enableRelativeSizeSwitch&&e.insertIconSizeSwitch(t.iconSize,t.relativeSizeRange),t.iconGap&&t.relativeGapRange&&e.insertIconGapSwitch(t.iconGap,t.relativeGapRange)}if(e.refreshMonogramContainers(t.monogramContainerFilePaths,$.parseJSON(t.iconPaperData)),$("#modalEffectLibrary").attr("data-selected-effects",JSON.stringify(H.selectedEffects)),e.activeStateOfSelectedEffects(H.selectedEffects),$(".section-add-icon .current-icon-slot").removeAttr("data-is-initial-creation"),$(".section-add-icon .current-icon-slot").removeAttr("data-restore-from-history"),$(".section-add-icon .current-icon-slot .icon").remove(),$(".section-add-icon .current-icon-slot").prepend('<div class="icon"><svg class="thumbnail-icon" width="100%" viewBox="0 0 200 200"></svg></div>'),$(".section-add-icon .current-icon-slot svg.thumbnail-icon").html('<g data-paper-data="'+SmashingLogo.Utils.escapeHtml(t.iconPaperData)+'">'+t.iconInnerHtml+"</g>"),$(".section-add-icon .current-icon-slot").removeClass("empty"),$(".section-add-icon .current-icon-slot [data-paper-data*=isIcon]").css({fill:"#000000"}),Object.keys(t.iconOriginalPaperData).length>0)$("#modalEffectLibrary .col-preview .original").html('<svg class="thumbnail-icon" width="100%" viewBox="0 0 200 200"></svg>'),$("#modalEffectLibrary .col-preview .original svg.thumbnail-icon").html('<g data-paper-data="'+SmashingLogo.Utils.escapeHtml(t.iconOriginalPaperData)+'">'+t.iconOriginalInnerHtml+"</g>"),$("#modalEffectLibrary .col-preview .original [data-paper-data*=isIcon]").css({fill:"#000000"});$(".section-add-icon .current-icon-slot [data-paper-data*=disableIconEffects]").length?$(".section-add-icon").addClass("no-effects"):$(".section-add-icon").removeClass("no-effects")}if(t.availableIconLayoutStyles&&t.availableIconLayoutStyles.length?e.setLayoutOptions($(".sub-section-style .options-row"),t.availableIconLayoutStyles,t.iconLayoutStyle):$(".section-add-icon .sub-section-style").addClass("hidden"),t.availableIconThemes?(e.setThemeVariations(t.availableIconThemes,t.iconTheme),e.toggleIconThemeOptions()):$(".section-add-icon .sub-section-icon-theme").addClass("hidden"),t.availableFontStyles?(e.setFontStylesVariations(t.availableFontStyles,t.fontStyle),$(".section-font-settings .sub-section-font-style").removeClass("hidden")):$(".section-font-settings .sub-section-font-style").addClass("hidden"),t.availableTextStyles?(e.setTextStylesVariations(t.availableTextStyles,t.textStyle),$(".section-font-settings .sub-section-text-style").removeClass("hidden")):$(".section-font-settings .sub-section-text-style").addClass("hidden"),t.availableSecondaryTextStyles?(e.setSecondaryTextStylesVariations(t.availableSecondaryTextStyles,t.secondaryTextStyle),$(".section-font-settings .sub-section-secondary-text-style").removeClass("hidden")):$(".section-font-settings .sub-section-secondary-text-style").addClass("hidden"),$("#secondary-gap-section").remove(),t.secondaryGap&&t.relativeSecondaryGapRange&&e.insertSecondaryGapSwitch(t.secondaryGap,t.relativeSecondaryGapRange),$(".section-font-settings").hasClass("active")&&this.updateFontsSection(t),t.logoContainer&&(0===$("#container-padding-slider .noUi-base").length&&e.initContainerPaddingSlider(t.logoContainer.currentPadding,t.logoContainer.paddingRange),0===$(".rectangle-clip-settings .noUi-base").length&&t.logoContainer.rectangleClip&&e.initRectangleClipSliders(t.logoContainer.rectangleClip),t.logoContainer.jbenson&&e.activeStateJbensonDropdowns(t.logoContainer.jbenson),t.logoContainer.jbensonPortrait&&e.activeStateJbensonPortraitDropdowns(t.logoContainer.jbensonPortrait),t.logoContainer.barBadge&&e.activeStateBarBadgeDropdowns(t.logoContainer.barBadge),t.logoContainer.shield&&e.activeStateShieldDropdowns(t.logoContainer.shield),t.logoContainer.circle&&e.activeStateCircleDropdowns(t.logoContainer.circle),t.logoContainer.square&&e.activeStateSquareDropdowns(t.logoContainer.square),e.extendedContainerLayout(t.logoContainer)),t.fontStyleGlyphIndices){var T=$("#modalExtendedSettings").hasClass("in");T||$("#modalExtendedSettings").css("display","block"),$("#modalExtendedSettings .split-index").removeClass("hidden"),$("#modalExtendedSettings #fontStyleGlyphIndices").val(t.fontStyleGlyphIndices.toString()),e.extendedFontStyleModal(),T||$("#modalExtendedSettings").css("display","none"),"font-style"!==$("#modalExtendedSettings").attr("data-sub-section")&&$("#modalExtendedSettings .split-index").addClass("hidden")}$(".fullscreen-section.preview .envision-brand").length&&!a&&$(".fullscreen-section.preview .envision-brand .slider-wrapper svg:not(.deco)").remove(),lazyload(),SmashingLogo.Utils.hideLoadingAnimation()}}var decodeEntities=function(){var e=document.createElement("div");return function(t){return t&&"string"==typeof t&&(t=(t=t.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"")).replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),e.innerHTML=t,t=e.textContent,e.textContent=""),t}}();SmashingLogo.Editor=new Editor;
"use strict";function BrandAttributes(){var e=this;this.bindEvents=function(){$page.body.on("click",".btn-keywords",(function(t){t.preventDefault(),e.keywordsActiveState(),$("#modalKeywords").modal("show"),$(".fixed-modal-header").removeClass("hidden")})),$page.body.on("click",".section-brand-attributes .keyword-filter-tag",(function(e){e.preventDefault(),SmashingLogo.Utils.showLoadingAnimation();var t=$(this),a=$(".section-brand-attributes .keywords-selection"),o=t.hasClass("active"),n=t.attr("data-keyword"),i=t.find(".text").text();if(o)t.removeClass("active"),a.find('[data-keyword="'+n+'"]').remove(),$page.inputs.brandAttributes.tagsinput("remove",n);else{a.find(".tag").length<5?(t.addClass("active"),a.append('<span class="tag label label-info" data-keyword="'+n+'">'+i+'<span class="remove"></span></span>'),$page.inputs.brandAttributes.tagsinput("add",{key:n,translation:i})):SmashingLogo.Utils.hideLoadingAnimation()}})),$page.body.on("click","#modalKeywords .keyword-filter-tag",(function(e){e.preventDefault(),SmashingLogo.Utils.showLoadingAnimation();var t=$(this),a=$("#modalKeywords .keywords-selection"),o=t.hasClass("active"),n=t.attr("data-keyword"),i=t.find(".text").text();o?(t.removeClass("active"),a.find('[data-keyword="'+n+'"]').remove(),$page.inputs.brandAttributes.tagsinput("remove",n)):a.find(".tag").length<5?(t.addClass("active"),a.append('<span class="tag label label-info" data-keyword="'+n+'">'+i+'<span class="remove"></span></span>'),$page.inputs.brandAttributes.tagsinput("add",{key:n,translation:i})):(a.addClass("slots-full"),t.addClass("slots-full"),SmashingLogo.Utils.hideLoadingAnimation(),window.setTimeout((function(){a.removeClass("slots-full"),t.removeClass("slots-full")}),1e3))})),$page.body.find("#searchFieldAdjective").on("input",(function(e){e.preventDefault();var t=$("#searchFieldAdjective").val()||"";$("#modalKeywords .keywords .keyword").each((function(){var e=$(this);0!==e.find(".text").text().toLowerCase().indexOf(t.toLowerCase())?e.addClass("hidden"):e.removeClass("hidden")}))})),$page.body.on("click",".btn-reset-keywords",(function(e){e.preventDefault(),$page.body.find("#searchFieldAdjective").val(""),$("#modalKeywords .keywords .keyword").removeClass("hidden")})),$page.body.on("click","#modalKeywords .keywords-selection .tag .remove",(function(e){e.preventDefault(),SmashingLogo.Utils.showLoadingAnimation();var t=$(this).closest(".tag"),a=t.attr("data-keyword");t.remove(),$('.keyword-filter-tag[data-keyword="'+a+'"]').removeClass("active"),$page.inputs.brandAttributes.tagsinput("remove",a)}))},this.getDataFromServer=function(e){return $.ajax({url:"/bkw?lang="+$("html").attr("lang"),type:"GET",timeout:6e4,success:function(t){window.kw=t;var a=new Bloodhound({local:t,datumTokenizer:Bloodhound.tokenizers.obj.whitespace("translation"),queryTokenizer:Bloodhound.tokenizers.whitespace});if(a.initialize(),$page.inputs.brandAttributes.tagsinput({maxTags:5,itemValue:"key",itemText:"translation",typeaheadjs:{name:"keywords",displayKey:"translation",source:a.ttAdapter()}}),e.companyKeywords&&e.companyKeywords.length){for(var o=e.companyKeywords.split(","),n=0;n<t.length;n++)o.indexOf(t[n].key)>=0&&$page.inputs.brandAttributes.tagsinput("add",{key:t[n].key,translation:t[n].translation},{preventPost:!0});$page.body.hasClass("take-tour")&&SmashingLogo.LogoMaker.nextTourButtonState()}""===$page.inputs.brandAttributes.val()&&($(".recommended-colors .provide-brand-attributes").removeClass("hidden"),$(".recommended-fonts .provide-brand-attributes").removeClass("hidden"))}})},this.setupBrandAttributes=function(t){$page.inputs.brandAttributes.on("itemRemoved itemAdded",(function(a){if(a.options&&a.options.preventPost)return!1;SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/update-bkw/",type:"POST",data:{bkw:$page.inputs.brandAttributes.val()},success:function(a){if(e.keywordsActiveState(),SmashingLogo.LogoMaker.nextTourButtonState(),t&&t.updateColorSpectrums&&SmashingLogo.LogoMaker.updateColorSpectrums(a.recommendedColors,a.selectedColors),t&&t.updateFontCategories&&SmashingLogo.LogoMaker.updateFontCategories(a.recommendedFonts,a.selectedFonts),t&&t.applyInputScores&&SmashingLogo.LogoMaker.applyInputScores(SmashingLogo.LogoMaker.mockDataForInputScores()),t&&t.industryPageContext){var o=$page.matchModule.find(".brand-attributes-notification");""!==$page.inputs.brandAttributes.val()?o.addClass("hidden"):o.removeClass("hidden"),$.ajax({url:"/perfect-match/remove-unseen-logos/",type:"POST",success:function(){$page.matchModule.find(".logos-container .item").not(":first").remove(),SmashingLogo.Utils.hideLoadingAnimation()}})}else SmashingLogo.Utils.hideLoadingAnimation()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})}))},this.applyActiveAttributes=function(){var t=$(".section-brand-attributes .keywords-selection");if(t.html(""),$(".keyword-filter-tag").removeClass("active"),$page.inputs.brandAttributes.val().length){var a=$page.inputs.brandAttributes.val().split(",");5===a.length&&e.limitReachedView();for(var o=0;o<a.length;o++){for(var n=a[o],i=0;i<window.kw.length;i++)window.kw[i].key===a[o]&&(n=window.kw[i].translation);t.append('<span class="tag label label-info" data-keyword="'+a[o]+'">'+n+'<span class="remove"></span></span>'),$('.keyword-filter-tag[data-keyword="'+a[o]+'"]').addClass("active")}}},this.limitReachedView=function(){$(".section-brand-attributes").addClass("attribute-limit-reached")},this.limitNotReachedView=function(){$(".section-brand-attributes").removeClass("attribute-limit-reached")},this.keywordsActiveState=function(){var t=$(".keywords-selection");if(t.html(""),$(".keyword-filter-tag").removeClass("active"),$page.inputs.brandAttributes.val().length){var a=$page.inputs.brandAttributes.val().split(",");5===a.length?e.limitReachedView():e.limitNotReachedView();for(var o=0;o<a.length;o++){for(var n=a[o],i=0;i<window.kw.length;i++)window.kw[i].key===a[o]&&(n=window.kw[i].translation);t.append('<span class="tag label label-info" data-keyword="'+a[o]+'">'+n+'<span class="remove"></span></span>'),$('.keyword-filter-tag[data-keyword="'+a[o]+'"]').addClass("active")}}}}SmashingLogo.BrandAttributes=new BrandAttributes;
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LogoMaker(){var e=this;window.components={industries:{loaded:!1},brandAttributes:{loaded:!1},logos:{loaded:!1}},$page.inputs={name:$("#companyName"),tagline:$("#companyTagline"),industries:$("#companyIndustries"),brandAttributes:$("#companyKeywords"),variationHiddenField:$("#variationTypeHiddenField"),variationHiddenFieldQuickEdit:$("#variationTypeHiddenFieldQuickEdit")},$page.buttons.sliderNext=$(".preview-outer-container .slider-next"),$page.buttons.sliderPrev=$(".preview-outer-container .slider-prev"),$page.buttons.generateMore=$(".btn-generate-more"),$page.buttons.deleteFavorites=$('.btn[data-target="#modalDeleteAllExceptFavorites"]'),$page.buttons.generateMoreCaptcha=$(".btn-generate-with-captcha"),$page.sliderContainer=$("#page .preview-container"),$page.virtualDesignerBar=$(".virtual-designer-bar"),$page.logoMakerNavBar=$(".logo-maker-nav-bar"),$page.headerContainer=$(".header-container"),$page.overallInputScoreTooltip=$(".overall-input-score .step-info-icon"),$page.randomIconsCheckbox=$("#allow-random-icons-checkbox"),$page.modalFavoriteLimit=$("#modalFavoriteLimitReached"),$page.onboardingBackground=$(".industry-background-layer"),$page.onboardingProgress=$(".onboarding-progress-animation .percent-progress"),$page.onboardingPercentageNumber=$page.onboardingProgress.find(".percentage-number"),this.init=function(){e.attachEventHandler(),$.ajax({url:"/session/info/",type:"GET",timeout:6e4,success:function(t){e.buildContent(t),e.applyInputScores(t,!0)},error:function(){console.log("process error")}})},this.ajaxIndustries=function(t){return $.ajax({url:"/inds?lang="+$("html").attr("lang"),type:"GET",timeout:6e4,success:function(a){var o=new Bloodhound({local:a,datumTokenizer:Bloodhound.tokenizers.obj.whitespace("translation"),queryTokenizer:Bloodhound.tokenizers.whitespace});o.initialize(),$page.inputs.industries.tagsinput({maxTags:3,freeInput:!1,itemValue:"key",itemText:"translation",typeaheadjs:{name:"industries",displayKey:"translation",source:o.ttAdapter(),limit:4}});var n=$(".input-container.industry .twitter-typeahead .tt-input"),i=$(".input-container.industry .twitter-typeahead .tt-menu");if(n.bind("typeahead:render",(function(e,t){0===$(".tt-dataset-industries .add-freeinput").length&&$(".tt-dataset-industries").append('<div class="add-freeinput"></div>');var a=$(".tt-dataset-industries .add-freeinput");a.html('<span class="glyphicon glyphicon-plus"></span> "<span class="term">'+n.val()+'</span>"'),void 0===t&&i.css("display","block"),n.val().length<=2&&(a.remove(),void 0===t&&i.css("display",""))})),$(".tt-dataset-industries").on("click",".add-freeinput",(function(){var t=$(".tt-dataset-industries .add-freeinput .term").text(),a="freeinput_"+t.toLowerCase().replace(new RegExp(" ","g"),"_");$page.inputs.industries.tagsinput("add",{key:a,translation:t},{preventPost:!0}),$page.inputs.industries.trigger("itemAdded"),e.addCustomIndustryToLocalStorage(a,t)})),t.companyIndustries&&t.companyIndustries.length){for(var s=t.companyIndustries.split(","),r=0;r<s.length;r++)for(var l=0;l<a.length;l++)a[l].key===s[r]&&$page.inputs.industries.tagsinput("add",{key:a[l].key,translation:a[l].translation},{preventPost:!0});if("undefined"!=typeof Storage)for(var d=window.localStorage.getItem("customIndustries"),c=d?JSON.parse(d):[],g=0;g<c.length;g++){var p=c[g].key,u=c[g].translation;s.indexOf(p)>=0&&$page.inputs.industries.tagsinput("add",{key:p,translation:u},{preventPost:!0})}$page.body.hasClass("take-tour")&&e.nextTourButtonState()}}})},this.loadingAnimationCheck=function(t){e.areAllComponentsReady(t)&&SmashingLogo.Utils.hideLoadingAnimation()},this.areAllComponentsReady=function(e){for(var t in e)if(!e[t].loaded)return!1;return!0},this.buildContent=function(t){if($.when(e.ajaxIndustries(t)).done((function(){window.components.industries.loaded=!0,e.loadingAnimationCheck(window.components)})),$.when(SmashingLogo.BrandAttributes.getDataFromServer(t)).done((function(){window.components.brandAttributes.loaded=!0,SmashingLogo.BrandAttributes.applyActiveAttributes(),e.loadingAnimationCheck(window.components)})),$page.body.on("logosReady",(function(){window.components.logos.loaded=!0,e.loadingAnimationCheck(window.components),e.mouseoverLogosEffect()})),e.tabSettings(t),e.captchaHandling(t),e.restorePreviousIconTerms(t),e.updateColorSpectrums(t.recommendedColorSpectrums,t.colorSpectrums),e.updateFontCategories(t.recommendedFontCategories,t.fontCategories),SmashingLogo.Utils.appendReusableCloseButton(),e.setupIndustrieKeywords(),SmashingLogo.BrandAttributes.setupBrandAttributes({updateColorSpectrums:!0,updateFontCategories:!0,applyInputScores:!0}),e.setupRandomIconCheckbox(t),e.setupColorSelectionRadioButtons(t),e.setupFontSelectionRadioButtons(t),e.fixedAffixHeader(),e.switchEnvisionFadeImages(t.envisionFadeImages,t.onboardingMedia,t.companyIndustries,{includeEnvisionBackgroundContext:!0}),SmashingLogo.ManageFavorites.setFavoriteCount(t.favoriteCount),t.activeSession){if(window.location.hash){var a=window.location.hash.replace("#","");if(e.getTourSteps().indexOf(a)>=0&&"tour-completed"!==a)return e.activateTourSection(a),SmashingLogo.Utils.hideLoadingAnimation(),void(t.logoFileNames.length>0&&e.appendRenderedSvgLogos(t,$(".preview-container")))}$page.body.removeClass("not-started-yet"),$page.body.addClass("active-session"),e.logLoadingTimeToSentry(),0===t.logoFileNames.length?e.setupForSessionWithNoLogos():e.appendRenderedSvgLogos(t,$(".preview-container"))}else e.setupForNewUser()},this.fillNameAndTagline=function(e){$page.inputs.name.val(e.companyName),$page.inputs.tagline.val(e.companyTagline)},this.setCharacterCountForName=function(){var t=$(".input-container.logo-name .character-count .count"),a=$page.inputs.name.val().length;t.html(a);var o=e.getNameScore($page.inputs.name.val());t.removeClass("good").removeClass("bad").removeClass("ugly"),o>70?t.addClass("good"):o>40?t.addClass("bad"):t.addClass("ugly")},this.setCharacterCountForTagline=function(){var t=$(".input-container.slogan .character-count .count"),a=$page.inputs.tagline.val().length;t.html(a);var o=e.getTaglineScore($page.inputs.tagline.val());t.removeClass("good").removeClass("bad").removeClass("ugly"),o>70?t.addClass("good"):o>40?t.addClass("bad"):t.addClass("ugly")},this.getAnimationSpeedForCarousel=function(){return $page.window.width()>1200?800:$page.window.width()>700?600:300},this.sliderNext=function(t,a){if(t.hasClass("is-animated"))return!1;if($.active>0)return!1;t.addClass("is-animated");var o=t.width(),n=t.find("> .item:visible"),i=t.scrollLeft(),s=0,r=[];n.each((function(){r.push($(this).position().left+i)}));for(var l=0;l<r.length;l++)if(r[l]>i+o-t.find("> .item:first").width()+30){s=r[l];break}if(0===s)return a&&a.trigger("click"),t.removeClass("is-animated"),!1;var d=e.getAnimationSpeedForCarousel();t.animate({scrollLeft:s-30},d,(function(){t.removeClass("is-animated"),e.handleDisplayOfPrevNextButtons(t)}))},this.sliderPrev=function(t){if(t.hasClass("is-animated"))return!1;if($.active>0)return!1;t.addClass("is-animated");var a=t.width(),o=t.find("> .item:visible"),n=t.scrollLeft(),i=0,s=[];o.each((function(){s.push($(this).position().left+n)}));for(var r=s.length-1;r>=0;r--)if(s[r]<n-a+t.find("> .item:first").width()){i=s[r];break}0===n&&0===i&&(i=s[s.length-1]);var l=e.getAnimationSpeedForCarousel();t.animate({scrollLeft:i-30},l,(function(){t.removeClass("is-animated"),e.handleDisplayOfPrevNextButtons(t)}))},this.attachEventHandler=function(){SmashingLogo.Editor.attachVariationEvents(),$(window).on("hashchange",(function(){if(window.location.hash){var t=window.location.hash.replace("#","");e.getTourSteps().indexOf(t)>=0&&e.activateTourSection(t)}})),window.addEventListener("error",(function(e){if("undefined"!=typeof Sentry&&e.srcElement&&"IMG"===$(e.srcElement).prop("tagName")){var t=$(e.srcElement).attr("src");t&&t.indexOf("unsplash")>=0&&Sentry.captureMessage("Image not loaded: "+t)}}),!0),$page.modalFavoriteLimit.find(".btn-open-favorite-modal").on("click",(function(){$page.modalFavoriteLimit.modal("hide"),$page.body.find(".btn-manage-favorites").trigger("click")})),$page.inputs.name.on("input",(function(){e.setCharacterCountForName()})),$page.inputs.tagline.on("input",(function(){e.setCharacterCountForTagline()})),$("#modalIconSelection").on("hidden.bs.modal",(function(){$page.body.removeClass("soft-backdrop")})),$page.body.on("click",".logo-type-container li .logo-type, .logo-type-container li .checkmark",(function(){$(this).closest("li").toggleClass("active"),SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/update-logo-types/",type:"POST",data:{logoTypes:e.getActiveLogoTypes()},success:function(){SmashingLogo.Utils.hideLoadingAnimation(),e.applyInputScores(e.mockDataForInputScores())},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})})),SmashingLogo.BrandAttributes.bindEvents(),$page.body.on("click",".section-virtual-designers .virtual-designers .designer",(function(){var e=$(this).attr("data-designer-name"),t=$("#modalVirtualDesignerPortfolio");t.find('.mode[data-section="'+e+'"]').trigger("click"),t.modal("show")})),$page.body.on("click","#presentation-carousel .carousel-indicators li",(function(){$("#presentation-carousel").carousel("pause")})),$(".page-purchases").on("click","#additional-color-carousel .carousel-indicators li",(function(){$("#additional-color-carousel").carousel("pause")})),$page.body.on("click","#presentation-carousel .carousel-control",(function(){$("#presentation-carousel").carousel("pause")})),$(".page-purchases").on("click","#additional-color-carousel .carousel-control",(function(){$("#additional-color-carousel").carousel("pause")})),$page.body.on("click",".btn-generate-more",(function(t){t.preventDefault();var a="true"!==$page.body.attr("data-solved-captcha")&&"true"!==$page.body.attr("data-skip-captcha");window.isCaptchaEnabled&&a?$("#modalCaptcha").modal("show"):""===$page.inputs.name.val()||$page.inputs.name.val().length<2?$("#modalMissingLogoName").modal():(e.applyInputScores(e.mockDataForInputScores()),e.generate())})),$page.body.on("click",".btn-generate-with-captcha",(function(t){t.preventDefault(),e.generate(grecaptcha.getResponse())})),$page.body.on("click",".btn-close-favorite-mode",(function(){$(".fullpage-bg-layer").remove(),$page.body.removeClass("favorites-view"),$(".preview-container .item").removeClass("favorite-highlight-mode").removeClass("nth-child-1").removeClass("nth-child-2").removeClass("nth-child-3"),$(".btn-close-favorite-mode").remove(),$(".temp-headline-favorites").remove()})),$page.body.on("click",".preview-container .item .carousel-control",(function(e){e.preventDefault();var t=$(this).closest(".item"),a=t.find(".mutation-nav-item.active").index(),o=$(this).hasClass("right")?a+1:a-1;o=(o=o>=t.find(".mutation-nav-item").length?0:o)<0?t.find(".mutation-nav-item").length-1:o,t.find(".mutation-nav-item:eq("+o+")").trigger("click")})),$page.body.on("click",".envision-background-progress .progress-item",(function(){var e=$(this);e.addClass("active").siblings().removeClass("active");var t=$(".envision-background .images .image").eq(e.index());t.addClass("active").siblings().removeClass("active"),t.attr("data-image-src")&&t.css("background-image","url("+t.attr("data-image-src")+")")})),$page.body.on("click",".preview-container .item .logo-preview .svg-container",(function(){window.drag||(SmashingLogo.Utils.showLoadingAnimation(),window.location.href=$(this).closest(".item").find(".logo-option-button.envision").attr("href"))})),$page.body.on("click",".logo-option-button.envision, .logo-option-button.buy, .logo-option-button.edit",(function(){SmashingLogo.Utils.showLoadingAnimation()})),$page.randomIconsCheckbox.change((function(){var e=this.checked;$.ajax({url:"/update-random-icon-policy/",type:"POST",data:{randomIconPolicy:e?"allow":"disallow"}})})),$('input[type="radio"][name="radio-colors-selection"]').change((function(){var t=this.value;"recommended"==t?($(".generate-config-column .section-colors .recommended-colors").removeClass("hidden"),$(".generate-config-column .section-colors .custom-colors").addClass("hidden")):"custom"==t&&($(".generate-config-column .section-colors .recommended-colors").addClass("hidden"),$(".generate-config-column .section-colors .custom-colors").removeClass("hidden")),$.ajax({url:"/update-color-selection-policy/",type:"POST",data:{colorSelectionPolicy:"custom"===t?"custom":"recommended"},success:function(){e.nextTourButtonState()}})})),$('input[type="radio"][name="radio-fonts-selection"]').change((function(){var e=this.value;"recommended"==e?($(".generate-config-column .section-fonts .recommended-fonts").removeClass("hidden"),$(".generate-config-column .section-fonts .custom-fonts").addClass("hidden")):"custom"==e&&($(".generate-config-column .section-fonts .recommended-fonts").addClass("hidden"),$(".generate-config-column .section-fonts .custom-fonts").removeClass("hidden")),$.ajax({url:"/update-font-selection-policy/",type:"POST",data:{fontSelectionPolicy:"custom"===e?"custom":"recommended"}})})),$page.body.on("click",".logo-maker-nav-bar .btn-pick-own-icons",(function(){$("#modalIconSelection").modal("show"),$(".fixed-modal-header").removeClass("hidden"),$page.body.hasClass("take-tour")&&e.showIconSlotsBar(),SmashingLogo.Utils.iconTabsSetup()})),$page.body.on("click",".logo-maker-nav-bar .section-icon .icon-slot.empty",(function(){$("#modalIconSelection").modal("show"),$(".fixed-modal-header").removeClass("hidden"),SmashingLogo.Utils.iconTabsSetup()})),$page.body.on("click","#modalIconSelection .switch-modes.first-level .mode",(function(){SmashingLogo.Utils.switchIconTabs($(this))})),$page.body.on("click","#modalIconSelection .switch-modes.icon-combine .mode",(function(){SmashingLogo.Utils.switchIconCombineTabs($(this))})),$page.body.on("click",".logo-maker-nav-bar .section-nav > li",(function(t){t.preventDefault();var a=$(this).find("a").attr("data-hash"),o=$(this);if(!$page.body.hasClass("take-tour")||void 0!==t.isTrigger)if(o.hasClass("active"))e.closeConfigColumn();else{if("#voting"===a)return e.shareLinksSetup(),$("#modalVoting").modal("show"),void e.closeConfigColumn();if(!$page.body.hasClass("take-tour")){var n=$(".header-container").outerHeight()+$(".fixed-app-header").outerHeight();$("html,body").animate({scrollTop:n},400)}if("#icon"===a&&($page.body.hasClass("take-tour")&&$(".config-section.section-icon .slots-and-search .icon-slot.selected").length&&e.showIconSlotsBar(),SmashingLogo.Utils.fetchSuggestedIcons()),$page.body.hasClass("take-tour")&&"#colors"===a)"#brand-attributes"===$(".logo-maker-nav-bar .section-nav > li.active a").attr("data-hash")&&$(".tour-buttons .btn-next").hasClass("skip-state")&&$("#radio-custom-colors").trigger("click");$page.body.addClass("show-config-column"),o.addClass("active").siblings().removeClass("active"),$('.generate-config-column .config-section[data-section="'+a.replace("#","")+'"]').addClass("active").siblings().removeClass("active")}})),$page.body.on("click",".logo-maker-nav-bar .btn-generate-final-tour",(function(){if(""===$page.inputs.name.val()||$page.inputs.name.val().length<2)return e.setTourHash("tour-name"),void $("#modalMissingLogoName").modal();if($(".preview-container .item").length>0)return e.switchUIFromTourToLogoMaker(),void $(".action-buttons .btn-generate-more").trigger("click");var t=$page.virtualDesignerBar.find(".speech-bubble");t.find(".messages").html('<div class="message active"><p>'+window.i18nCockyLine+"</p></div>"),t.find(".message-browser").html(""),e.expandedDesignerView(),$page.body.addClass("designer-work-in-progress"),SmashingLogo.percentAnimationDone=$.Deferred(),e.resetPercentageProgress(),window.setTimeout((function(){$page.onboardingProgress.addClass("visible"),SmashingLogo.onboardingPercentInterval=window.setInterval((function(){e.updatePercentageProgress()}),80)}),1500),e.disableGenerateButtons(),$.ajax({url:"/logos/generate/",type:"POST",data:e.getAjaxParams(),success:function(t){e.generateCallbackSuccess(t)}}),$.when(SmashingLogo.percentAnimationDone).done((function(){$page.body.hasClass("designer-work-in-progress")&&e.switchUIFromTourToLogoMaker()}))})),$page.body.on("click",".logo-maker-nav-bar .section-change-text .btn-update-name-tagline",(function(){e.updateNameAndTaglineOnServer()})),$page.body.on("click",".logo-maker-nav-bar .config-section .btn-close-config",(function(){e.closeConfigColumn()})),$page.body.on("click",".logo-maker-nav-bar .config-section .btn-choose-brand-attributes",(function(){$page.body.hasClass("take-tour")&&e.setTourHash("tour-attributes"),e.followRecommendation("brand-attributes")})),$page.body.on("click",".virtual-designer-bar .notification-link",(function(t){t.preventDefault(),e.expandedDesignerView()})),$page.body.on("click",".virtual-designer-bar.collapsed-view img",(function(t){t.preventDefault(),e.expandedDesignerView()})),$page.body.on("click",".virtual-designer-bar:not(.collapsed-view) img",(function(e){e.preventDefault(),$("#modalVirtualDesignerPortfolio").modal("show")})),$page.body.on("click",".virtual-designer-bar .collapse-designer-link",(function(t){t.preventDefault(),e.collapsedDesignerView(),$page.body.hasClass("not-started-yet")&&!$page.body.hasClass("show-config-column")&&window.setTimeout((function(){e.openTextConfigTab()}),1500)})),$page.body.on("click",".virtual-designer-bar .follow-recommendation-link",(function(t){t.preventDefault();var a=$(this).attr("data-recommendation");if(e.switchUIFromTourToLogoMaker(),"get-started"===a);else if("brandAttributes"===a)e.followRecommendation("brand-attributes");else if("industry"===a)e.followRecommendation("industry");else if("icon"===a)e.followRecommendation("icon");else if("text"===a)e.followRecommendation("text");else if("generate-now"===a)$(".action-buttons .btn-generate-more").trigger("click");else if("trySomethingNew"===a){var o=e.getPersistentNonErrorMessages();o.trySomethingNew&&(delete o.trySomethingNew,e.updatePersistentNonErrorMessages(o),e.applyInputScores(e.mockDataForInputScores()))}})),$page.body.on("click",".virtual-designer-bar .skip-walkthrough",(function(t){t.preventDefault(),e.collapsedDesignerView()})),$page.body.on("click",".tour-buttons .btn-prev, .tour-buttons .btn-next",(function(){var t=$(this),a=e.getTourSteps(),o=window.location.hash?window.location.hash.replace("#",""):"tour-name",n=t.hasClass("btn-prev")?a[Math.max(0,a.indexOf(o)-1)]:a[a.indexOf(o)+1];if("tour-name"===o&&"tour-industries"===n){if(""===$page.inputs.name.val()||$page.inputs.name.val().length<2)return void $("#modalMissingLogoName").modal();e.updateNameAndTaglineOnServer()}else e.applyInputScores(e.mockDataForInputScores());e.setTourHash(n)})),$page.body.on("click",".virtual-designer-bar .message-browser .message-number",(function(){var e=$(this);$page.virtualDesignerBar.find(".message-browser .message-number").removeClass("active"),e.addClass("active"),$page.virtualDesignerBar.find(".speech-bubble .messages .message").removeClass("active"),$page.virtualDesignerBar.find(".speech-bubble .messages .message:eq("+e.index()+")").addClass("active").siblings().removeClass("active")})),$page.body.on("click","#modalVirtualDesignerPortfolio .switch-modes .mode",(function(){var e=$(this);if(!e.hasClass("active")){e.addClass("active").siblings().removeClass("active");var t=e.attr("data-section"),a=$('#modalVirtualDesignerPortfolio [data-designer-name="'+t+'"]');a.siblings(".designer").removeClass("active"),a.addClass("active"),$("#modalVirtualDesignerPortfolio").scrollTop(0)}})),$(".btn-delete-all-except-favorites").on("click",(function(){$.active>0||($(".btn-delete-all-except-favorites").attr("disabled","disabled"),$(".btn-cancel-delete-all-except-favorites").attr("disabled","disabled"),$.ajax({url:"/v2/logos/delete-except-favorites/",type:"POST",timeout:6e4,success:function(t){if("no-active-session"!==t){if($(".preview-container .item:not(.favorite):not(.item-more)").each((function(){$(this).remove();var e=$(this).find(".logo-preview").attr("data-svg-file-path").split("/static/tmp_private/")[1].split("/")[1],t=e.substr(e.indexOf("_"),9);void 0!==Cookies.get("itemLayouts")&&Cookies.set("itemLayouts",Cookies.get("itemLayouts").replace(t+"="+SmashingLogo.Utils.getParameterByName(t,Cookies.get("itemLayouts"))+";",""),{expires:28})})),$("#modalDeleteAllExceptFavorites").modal("hide"),$(".btn-delete-all-except-favorites").removeAttr("disabled"),$(".btn-cancel-delete-all-except-favorites").removeAttr("disabled"),e.handleDisplayOfPrevNextButtons($page.sliderContainer),1===t.actionCount&&t.favoriteCount<=2){var a=e.getPersistentNonErrorMessages();a.trySomethingNew=window.i18nTrySomethingDifferent,e.updatePersistentNonErrorMessages(a),e.applyInputScores(e.mockDataForInputScores())}}else window.location.reload(!0)},error:function(){console.log("process error")}}))})),$page.body.on("click",".btn-to-top",(function(e){if(e.preventDefault(),0!==$(".preview-container .item.favorite").length){if($page.body.append('<div class="fullpage-bg-layer"></div>'),$('<h2 class="temp-headline-favorites">'+window.i18nMyFavorites+"</h2>").insertBefore($(".preview-container")),$page.body.addClass("favorites-view"),$(".item.favorite").addClass("favorite-highlight-mode"),$(".preview-container .item").length>=3){var t=$(".preview-container .item:nth-child(1)").position().top===$(".preview-container .item:nth-child(3)").position().top;($(".preview-container .item:nth-child(1)").position().top===$(".preview-container .item:nth-child(2)").position().top||t)&&$(".item.favorite-highlight-mode").each((function(e){var a=t?e%3+1:e%2+1;$(this).addClass("nth-child-"+a)}))}$page.body.append('<button class="btn btn-lg btn-primary btn-close-favorite-mode"><span class="glyphicon glyphicon-remove"></span><span>&nbsp;'+window.i18nClose+"</span></button>"),window.scrollTo(0,0),window.setTimeout((function(){$(".item.favorite").addClass("animate"),window.setTimeout((function(){$(".item.favorite").removeClass("animate")}),660)}),200)}})),$page.body.on("click",".preview-container-tabs .nav-tabs .top-link a",(function(e){e.preventDefault(),window.setTimeout((function(){$(".generate-steps").addClass("highlight-settings")}),600),$("html,body").animate({scrollTop:$(".generate-steps").offset().top-20},400),window.setTimeout((function(){$(".generate-steps").removeClass("highlight-settings")}),1200)})),$page.body.on("click",".preview-container-tabs .nav-tabs .favorite-nav-item a",(function(e){e.preventDefault(),$(this).closest("li").addClass("active").siblings().removeClass("active"),$(".preview-container .item").removeClass("favorite-highlight-mode"),$(this).closest("li").hasClass("all")?($page.body.removeClass("favorites-view"),$(".item.favorite").removeClass("favorite-highlight-mode")):($page.body.addClass("favorites-view"),$(".item.favorite").addClass("favorite-highlight-mode"))})),$page.body.on("click",".preview-container-tabs .top-link",(function(){$("html,body").animate({scrollTop:0},800)})),$page.body.on("click","#modalVirtualDesignerPortfolio .btn-pick-designer",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=$(this).closest(".designer").attr("data-designer-name");$.ajax({url:"/update-virtual-designer/",type:"POST",data:{virtualDesigner:t},success:function(){if(SmashingLogo.Utils.hideLoadingAnimation(),e.switchVirtualDesigner(t),$("#modalVirtualDesignerPortfolio").modal("hide"),e.playNotificationSound("success"),$page.body.hasClass("take-tour")){var a=$('.section-virtual-designers .designer[data-designer-name="'+t+'"]');a.length&&$("html,body").animate({scrollTop:a.offset().top-30},600)}}})})),$page.buttons.sliderNext.on("click",(function(){e.sliderNext($(".preview-container"),$(".action-buttons .btn-generate-more"))})),$page.buttons.sliderPrev.on("click",(function(){e.sliderPrev($(".preview-container"))})),$page.body.on("click","#icon-suggestions-container .icon",(function(){var t=$(this),a=t.clone(),o=t.attr("data-icon-id");if(t.hasClass("selected")){var n=$('.slots-and-search .icon-slot .icon[data-icon-id="'+o+'"]').closest(".icon-slot");n.length&&n.find(".btn-remove-icon-from-slot").trigger("click")}else{var i=$(".locked-icons");if(0===i.find(".icon-slot.empty").length)return $(".locked-icons-container .locked-icons.icon-selection").addClass("slots-full"),SmashingLogo.Utils.showRedLayer(),void window.setTimeout((function(){$(".locked-icons-container .locked-icons.icon-selection").removeClass("slots-full"),SmashingLogo.Utils.hideRedLayer()}),800);if(!(SmashingLogo.Utils.getSelectedIconIds().indexOf(o)>=0))if(SmashingLogo.Utils.showLoadingAnimation(),$page.body.hasClass("take-tour")&&($(".config-section.section-icon").hasClass("show-slots-bar")||($("html,body").animate({scrollTop:t.offset().top-30},600),e.showIconSlotsBar())),t.attr("data-is-svg-icon")){var s=t.html();$.ajax({url:"/persistent-slot-combine-icon/",type:"POST",data:{rawIconId:o},timeout:6e4,success:function(){for(var a=0;a<i.length;a++){var n=i.eq(a).find(".icon-slot.empty:first");n.addClass("selected"),n.find(".icon").remove(),n.prepend('<div class="icon"></div>'),n.removeClass("empty"),n.find(".icon").attr("data-icon-id",o),n.find(".icon").attr("data-svg-path",t.find("path").attr("d")),n.find(".icon").html(s),n.append('<span class="btn-remove-icon-from-slot glyphicon glyphicon-remove"></span><div class="checkmark"><span class="glyphicon glyphicon-ok"></span></div>')}t.addClass("selected");var r={svgString:s};window.localStorage.setItem(o,JSON.stringify(r)),SmashingLogo.Utils.hideLoadingAnimation(),e.applyInputScores(e.mockDataForInputScores()),e.nextTourButtonState()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})}else $.ajax({url:"/get-icon-svg-string/",type:"POST",data:{iconPath:a.attr("data-icon-url"),iconId:a.attr("data-icon-id"),slotMode:!0},timeout:6e4,success:function(o){for(var n=0;n<i.length;n++){var s=i.eq(n).find(".icon-slot.empty:first");s.addClass("selected"),s.find(".icon").remove(),s.prepend('<div class="icon"></div>'),s.removeClass("empty"),s.find(".icon").attr("data-combine-terms",a.attr("data-combine-terms")),s.find(".icon").attr("data-icon-id",a.attr("data-icon-id")),s.find(".icon").attr("data-svg-path",$(o).find("path").attr("d")),s.find(".icon").html(o),s.append('<span class="btn-remove-icon-from-slot glyphicon glyphicon-remove"></span><div class="checkmark"><span class="glyphicon glyphicon-ok"></span></div>')}var r=$('#modalIconSelection .sub-section-mix-type[data-sub-section-mix-type-identifier="suggestions"]'),l=$('<div class="icon icon-to-combine" data-icon-id="'+a.attr("data-icon-id")+'" data-combine-terms="'+a.attr("data-combine-terms")+'" data-svg-path="'+$(o).find("path").attr("d")+'">'+o+"</div>");SmashingLogo.Utils.addIconSuggestions(r.find(".combine-icon-list"),l,"append");var d={svgString:o,combineTerms:a.attr("data-combine-terms")};window.localStorage.setItem(a.attr("data-icon-id"),JSON.stringify(d)),t.addClass("selected"),SmashingLogo.Utils.hideLoadingAnimation(),e.applyInputScores(e.mockDataForInputScores()),e.nextTourButtonState()},error:function(){console.log("process error")}})}})),$page.body.on("click","#icon-suggestions-container .btn-more-suggested-icons",(function(){var e=$(this);e.closest(".icon-suggestions-group").find(".icon-suggestions-content .icon.hidden").removeClass("hidden"),e.remove()})),$page.body.on("click","#modalIconSelection .icon-preview .icon",(function(){if(!($.active>0)){var t=$(this),a=t.clone(),o=t.attr("data-icon-id"),n=!0,i=$(".locked-icons");0===i.find(".icon-slot.empty").length&&(n=!1,$(".locked-icons-container .locked-icons.icon-selection").addClass("slots-full"),SmashingLogo.Utils.showRedLayer(),window.setTimeout((function(){$(".locked-icons-container .locked-icons.icon-selection").removeClass("slots-full"),SmashingLogo.Utils.hideRedLayer()}),800)),-1!==SmashingLogo.Utils.getSelectedIconIds().indexOf(o)&&(n=!1),n&&(SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/get-icon-svg-string/",type:"POST",data:{iconPath:a.attr("data-icon-url"),iconId:a.attr("data-icon-id"),slotMode:!0},timeout:6e4,success:function(o){for(var n=0;n<i.length;n++){var s=i.eq(n).find(".icon-slot.empty:first");s.addClass("selected"),s.find(".icon").remove(),s.prepend('<div class="icon"></div>'),s.removeClass("empty"),s.find(".icon").attr("data-combine-terms",a.attr("data-combine-terms")),s.find(".icon").attr("data-icon-id",a.attr("data-icon-id")),s.find(".icon").attr("data-svg-path",$(o).find("path").attr("d")),s.find(".icon").html(o),s.append('<span class="btn-remove-icon-from-slot glyphicon glyphicon-remove"></span><div class="checkmark"><span class="glyphicon glyphicon-ok"></span></div>')}var r=$('#modalIconSelection .sub-section-mix-type[data-sub-section-mix-type-identifier="suggestions"]'),l=$('<div class="icon icon-to-combine" data-icon-id="'+a.attr("data-icon-id")+'" data-combine-terms="'+a.attr("data-combine-terms")+'" data-svg-path="'+$(o).find("path").attr("d")+'">'+o+"</div>");SmashingLogo.Utils.addIconSuggestions(r.find(".combine-icon-list"),l,"append");var d={svgString:o,combineTerms:a.attr("data-combine-terms")};window.localStorage.setItem(a.attr("data-icon-id"),JSON.stringify(d)),t.addClass("selected"),SmashingLogo.Utils.hideLoadingAnimation(),e.applyInputScores(e.mockDataForInputScores()),e.nextTourButtonState()},error:function(){console.log("process error")}}))}})),$page.body.on("click",".locked-icons .icon-slot:not(.empty) .icon",(function(){var e=$(this);e.closest(".icon-slot").toggleClass("selected"),e.closest(".icon-selection").find(".icon-slot").each((function(){var e=$(this),t=e.hasClass("selected"),a=e.find(".icon").attr("data-icon-id"),o=$('.icon-slot .icon[data-icon-id="'+a+'"]');t?o.closest(".icon-slot").addClass("selected"):o.closest(".icon-slot").removeClass("selected")}))})),$page.body.on("click",".btn-remove-icon-from-slot",(function(){SmashingLogo.Utils.showLoadingAnimation();var t=$(this).closest(".icon-slot").find(".icon").attr("data-icon-id");$.ajax({url:"/remove-icon-from-slot/",type:"POST",data:{iconId:t},timeout:6e4,success:function(a){if("success"===a){window.localStorage.removeItem(t);for(var o=$(".locked-icons"),n=0;n<o.length;n++)o.eq(n).append('<div class="icon-slot empty"><span class="glyphicon glyphicon-search"></span></div>'),o.eq(n).find(".icon[data-icon-id="+t+"]").closest(".icon-slot").remove();$('#modalIconSelection .sub-section-mix-type[data-sub-section-mix-type-identifier="suggestions"] .combine-icon-list').each((function(){var e=$(this).find('.icon[data-icon-id="'+t+'"]');e.length&&e.remove()})),$("#modalIconSelection .icon-preview").find(".icon[data-icon-id="+t+"]").removeClass("selected"),$("#icon-suggestions-container").find(".icon[data-icon-id="+t+"]").removeClass("selected"),e.applyInputScores(e.mockDataForInputScores()),e.nextTourButtonState()}SmashingLogo.Utils.hideLoadingAnimation()},error:function(){console.log("process error")}})})),$(".page-generate").on("click",".combine-step .combine-results .icon",(function(){var t=$(".locked-icons");if(0===t.find(".icon-slot.empty").length)return $(".locked-icons-container .locked-icons.icon-selection").addClass("slots-full"),SmashingLogo.Utils.showRedLayer(),void window.setTimeout((function(){$(".locked-icons-container .locked-icons.icon-selection").removeClass("slots-full"),SmashingLogo.Utils.hideRedLayer()}),800);var a=$(this),o=a.attr("data-combine-terms"),n=a.attr("data-icon-id"),i=a.find("svg"),s=a.html();if(SmashingLogo.Utils.getSelectedIconIds().indexOf(n)>=0){var r=$('#modalIconSelection .locked-icons .icon-slot .icon[data-icon-id="'+n+'"]');return r.addClass("duplicate"),void window.setTimeout((function(){r.removeClass("duplicate")}),1e3)}SmashingLogo.Utils.showLoadingAnimation();var l=$('#modalIconSelection .sub-section-mix-type[data-sub-section-mix-type-identifier="suggestions"]');SmashingLogo.Utils.addIconSuggestions(l.find(".combine-icon-list"),a,"append"),SmashingLogo.IconSearch.deselectCombineIcons(),$.ajax({url:"/persistent-slot-combine-icon/",type:"POST",data:{rawIconId:n},timeout:6e4,success:function(a){SmashingLogo.Utils.hideLoadingAnimation();for(var r=0;r<t.length;r++){var l=t.eq(r).find(".icon-slot.empty:first");l.addClass("selected"),l.find(".icon").remove(),l.prepend('<div class="icon"></div>'),l.removeClass("empty"),l.find(".icon").attr("data-icon-id",n),l.find(".icon").attr("data-combine-terms",o),l.find(".icon").attr("data-svg-path",i.find("path").attr("d")),l.find(".icon").html(s),l.append('<span class="btn-remove-icon-from-slot glyphicon glyphicon-remove"></span><div class="checkmark"><span class="glyphicon glyphicon-ok"></span></div>')}e.nextTourButtonState();var d={svgString:s,combineTerms:o};window.localStorage.setItem(n,JSON.stringify(d))},error:function(){console.log("add to slot error"),SmashingLogo.Utils.hideLoadingAnimation()}})})),$(".preview-container").on("click",".logo-option-button.favorite",(function(e){if(e.preventDefault(),!($.active>0)){var t=$(this).closest(".item"),a=t.find(".logo-preview").attr("data-svg-file-path");$(".tooltip").hide(),SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/favorites/add/",type:"POST",data:{logoPath:a},timeout:1e4,success:function(e){SmashingLogo.Utils.hideLoadingAnimation(),"limit-reached"!==e?"reload"===e||"failed"===e?window.location.reload(!0):($page.buttons.manageFavorites.addClass("animated"),t.addClass("favorite"),window.setTimeout((function(){var e=SmashingLogo.ManageFavorites.getFavoriteCount()+1;SmashingLogo.ManageFavorites.setFavoriteCount(e),window.setTimeout((function(){$page.buttons.manageFavorites.removeClass("animated")}),1e3)}),1100)):$("#modalFavoriteLimitReached").modal("show")}})}})),$page.body.on("click",".btn-close-modal",(function(){$(".modal.in").modal("hide"),$(this).addClass("hidden")})),$page.body.on("click",".generate-config-column .custom-colors .color-spectrum-row .color-spectrum",(function(){$(this).toggleClass("selected"),e.updateColorSpectrumsOnServer()})),$page.body.on("click",".generate-config-column .custom-fonts .font-categories-row .font-category",(function(){$(this).toggleClass("selected"),e.updateFontCategoriesOnServer()})),e.attachDragger($("#page .preview-container")),$(".preview-container").scroll((function(){e.handleDisplayOfPrevNextButtons($page.sliderContainer)})),$(".btn-no-coupon-notice").on("click",(function(){$.active>0||$.ajax({url:"/no-coupon-notice/",type:"POST",timeout:6e4,success:function(){$("#modalCoupon").modal("hide")},error:function(){console.log("process error")}})}))},this.updatePercentageProgress=function(){var e=parseInt($page.onboardingPercentageNumber.text());$page.onboardingPercentageNumber.text(Math.min(100,e+1)),100===e&&(SmashingLogo.onboardingPercentInterval&&window.clearInterval(SmashingLogo.onboardingPercentInterval),$page.onboardingProgress.addClass("completed"),window.setTimeout((function(){$page.onboardingProgress.removeClass("visible"),window.setTimeout((function(){SmashingLogo.percentAnimationDone.resolve()}),2e3)}),1500))},this.resetPercentageProgress=function(){$page.onboardingProgress.removeClass("visible"),$page.onboardingProgress.removeClass("completed"),$page.onboardingPercentageNumber.text(0)},this.mouseoverLogosEffect=function(){$page.body.hasClass("no-touch-device")&&($page.sliderContainer.find(".item").on("mouseenter",(function(){$page.sliderContainer.addClass("hover-mode"),$(this).addClass("hovered-item")})),$page.sliderContainer.find(".item").on("mouseleave",(function(){$page.sliderContainer.removeClass("hover-mode"),$(this).removeClass("hovered-item")})))},this.openTextConfigTab=function(){$(".generate-config-column .section-change-text").hasClass("active")||($('.logo-maker-nav-bar .section-nav a[data-hash="#text"]').parent().trigger("click"),$(".logo-maker-nav-bar .nav-tabs").animate({scrollLeft:0},500))},this.openBrandAttributesConfigTab=function(){$(".generate-config-column .section-brand-attributes").hasClass("active")||$('.logo-maker-nav-bar .section-nav a[data-hash="#brand-attributes"]').parent().trigger("click")},this.openVirtualDesignersConfigTab=function(){$(".generate-config-column .section-virtual-designers").hasClass("active")||$('.logo-maker-nav-bar .section-nav a[data-hash="#virtual-designers"]').parent().trigger("click")},this.openIndustryConfigTab=function(){$(".generate-config-column .section-industry").hasClass("active")||$('.logo-maker-nav-bar .section-nav a[data-hash="#industry"]').parent().trigger("click")},this.openIconConfigTab=function(){$(".generate-config-column .section-icon").hasClass("active")||$('.logo-maker-nav-bar .section-nav a[data-hash="#icon"]').parent().trigger("click")},this.openColorConfigTab=function(){$(".generate-config-column .section-colors").hasClass("active")||$('.logo-maker-nav-bar .section-nav a[data-hash="#colors"]').parent().trigger("click")},this.openFinalTourStep=function(){$(".generate-config-column .section-final-tour-step").hasClass("active")||($('.generate-config-column .config-section[data-section="final-tour-step"]').addClass("active").siblings().removeClass("active"),$page.body.addClass("show-config-column"))},this.closeConfigColumn=function(){$page.body.removeClass("show-config-column").removeClass("show-mutations-nav"),$(".generate-config-column .config-column .config-section[data-section]").removeClass("active"),$(".local-nav .nav-tabs li").removeClass("active")},this.switchVirtualDesigner=function(e){var t=$page.virtualDesignerBar.find(".virtual-designer");t.attr("data-selected-designer",e),t.find("img").attr("src","/static/img/virtual-designers/"+e+".gif"),$('#modalVirtualDesignerPortfolio .switch-modes .mode[data-section="'+e+'"]').trigger("click"),$(".section-virtual-designers .designer").removeClass("active"),$('.section-virtual-designers .designer[data-designer-name="'+e+'"]').addClass("active")},this.tabSettings=function(t){if(e.fillNameAndTagline(t),e.setCharacterCountForName(),e.setCharacterCountForTagline(),"undefined"!=typeof Storage&&void 0!==t.persistentIconSlotIds)for(var a=0;a<t.persistentIconSlotIds.length;a++){var o=window.localStorage.getItem(t.persistentIconSlotIds[a]);if(null!==o){var n,i=void 0;if(0===o.indexOf("<svg"))i='<div class="icon" data-icon-id="'+t.persistentIconSlotIds[a]+'" data-svg-path="'+$(o).find("path").attr("d")+'">'+o+'</div><span class="btn-remove-icon-from-slot glyphicon glyphicon-remove"></span><div class="checkmark"><span class="glyphicon glyphicon-ok"></span></div>';else{if(0!==o.indexOf("{"))continue;var s=JSON.parse(o);i='<div class="icon" data-combine-terms="'+s.combineTerms+'" data-icon-id="'+t.persistentIconSlotIds[a]+'" data-svg-path="'+$(s.svgString).find("path").attr("d")+'">'+s.svgString+'</div><span class="btn-remove-icon-from-slot glyphicon glyphicon-remove"></span><div class="checkmark"><span class="glyphicon glyphicon-ok"></span></div>'}(n=$("#modalIconSelection .locked-icons .icon-slot.empty:first")).addClass("selected"),n.append(i),n.removeClass("empty"),(n=$(".generate-config-column .section-icon .locked-icons .icon-slot.empty:first")).addClass("selected"),n.append(i),n.removeClass("empty")}}if(t.logoTypes&&t.logoTypes.length)for(var r=0;r<t.logoTypes.length;r++)$(".section-logo-types .logo-type-container li").each((function(){var e=$(this),a=e.find(".logo-type").attr("data-logo-type");t.logoTypes.indexOf(a)>=0?e.addClass("active"):e.removeClass("active")}));t.virtualDesigner&&t.virtualDesigner.length&&e.switchVirtualDesigner(t.virtualDesigner)},this.restorePreviousIconTerms=function(e){if(e.previousNounTerms)for(var t=0;t<e.previousNounTerms.length;t++)$("#modalIconSelection .previous-terms").prepend('<span class="term" data-term="'+e.previousNounTerms[t]+'">'+e.previousNounTerms[t]+"</span>")},this.updateColorSpectrums=function(e,t){var a=$(".generate-config-column"),o=a.find(".recommended-colors .color-spectrum-row .color-spectrum");e&&e.length?(a.find(".recommended-colors .provide-brand-attributes").addClass("hidden"),o.each((function(){var t=$(this),a=t.attr("data-color-spectrum-identifier");e&&e.length&&(e.indexOf(a)>=0?t.addClass("recommended"):t.removeClass("recommended"))}))):o.removeClass("recommended");o=a.find(".custom-colors .color-spectrum-row .color-spectrum");t&&t.length&&o.each((function(){var a=$(this),o=a.attr("data-color-spectrum-identifier");t.indexOf(o)>=0?a.addClass("selected"):a.removeClass("selected"),e&&e.length&&(e.indexOf(o)>=0?a.addClass("recommended"):a.removeClass("recommended"))}))},this.updateFontCategories=function(e,t){var a=$(".generate-config-column"),o=$(".recommended-fonts .font-categories-row .font-category");e&&e.length?(a.find(".recommended-fonts .provide-brand-attributes").addClass("hidden"),o.each((function(){var t=$(this),a=t.attr("data-font-category-identifier");e&&e.length&&(e.indexOf(a)>=0?t.addClass("recommended"):t.removeClass("recommended"))}))):o.removeClass("recommended");o=$(".custom-fonts .font-categories-row .font-category");t&&t.length&&o.each((function(){var a=$(this),o=a.attr("data-font-category-identifier");t.indexOf(o)>=0?a.addClass("selected"):a.removeClass("selected"),e&&e.length&&(e.indexOf(o)>=0?a.addClass("recommended"):a.removeClass("recommended"))}))},this.getActiveLogoTypes=function(){var e=[];return $(".section-logo-types .logo-type-container ul li.active").each((function(){e.push($(this).find(".logo-type").attr("data-logo-type"))})),e},this.getActiveColorSpectrums=function(e){var t=[];return(e?e.find(".color-spectrum-row .color-spectrum.selected"):$(".color-spectrum-row .color-spectrum.selected")).each((function(){t.push($(this).attr("data-color-spectrum-identifier"))})),t},this.getActiveFontCategories=function(e){var t=[];return(e?e.find(".font-categories-row .font-category.selected"):$(".font-categories-row .font-category.selected")).each((function(){t.push($(this).attr("data-font-category-identifier"))})),t},this.translateColorSpectrum=function(e,t){var a=t.find('.color-spectrum[data-color-spectrum-identifier="'+e+'"] .spectrum-title');return a.length?a.text():e},this.updateNameAndTaglineOnServer=function(){SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/update-name-and-tagline/",type:"POST",data:{companyName:$page.inputs.name.val(),companyTagline:$page.inputs.tagline.val(),userLangKey:$("html").attr("lang")},success:function(t){$page.body.hasClass("take-tour")&&""===$page.inputs.industries.val()&&t.mockedIndustries?$page.inputs.industries.tagsinput("add",{key:t.mockedIndustries.key,translation:t.mockedIndustries.translation}):(SmashingLogo.Utils.hideLoadingAnimation(),e.applyInputScores(e.mockDataForInputScores()))}})},this.updateColorSpectrumsOnServer=function(){SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/update-color-spectrums/",type:"POST",data:{selectedColorSpectrums:e.getActiveColorSpectrums($(".generate-config-column .section-colors .custom-colors"))},success:function(){SmashingLogo.Utils.hideLoadingAnimation(),e.nextTourButtonState()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})},this.updateFontCategoriesOnServer=function(){SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/update-font-categories/",type:"POST",data:{selectedFontCategories:e.getActiveFontCategories($(".generate-config-column .section-fonts .custom-fonts"))},success:function(){SmashingLogo.Utils.hideLoadingAnimation()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})},this.responsiveImagePaths=function(e){if(window.screen.width>=768)return e;if("function"!=typeof URL)return e;for(var t=[],a=0;a<e.length;a++){var o=window.location.origin||"https://smashinglogo.com",n=0===e[a].indexOf("http")?new URL(e[a]):new URL(e[a],o);n.searchParams.set("w","720"),n.searchParams.set("h","480"),t.push(n.toString())}return t},this.switchEnvisionFadeImages=function(t,a,o,n){var i={includeEnvisionBackgroundContext:!1};for(var s in n=n||{},i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s]);var r=!(!t||!t.length),l=r?e.responsiveImagePaths(t):["/static/img/envision-brand/no-industry-selected/mountain-panorama.jpeg","/static/img/envision-brand/no-industry-selected/mountain-sunset.jpeg","/static/img/envision-brand/no-industry-selected/beach-sunset.jpeg","/static/img/envision-brand/no-industry-selected/shore.jpeg","/static/img/envision-brand/no-industry-selected/beach-footsteps.jpeg"];if(l.length){var d=$(".envision-brand .sujet-containers .items #slide-7"),c=[];if(d.find(".fade-item").each((function(){c.push($(this).find("img").attr("src"))})),$page.body.hasClass("page-generate")&&e.handleOnboardingBackground(r,o,t,a),SmashingLogo.Utils.areArraysEqual(c,l))return;d.find(".fade-item").remove(),$(".watermark-fade-nav").remove();for(var g=0;g<l.length;g++)l[g].indexOf(".mp4")>=0?d.append('<div class="fade-item"><video src="'+l[g]+'" autoplay loop muted></video><div class="darkening-layer"></div></div>'):d.append('<div class="fade-item"><img src="'+l[g]+'" alt=""></img><div class="darkening-layer"></div></div>');if(d.find(".fade-item:first").addClass("active"),n.includeEnvisionBackgroundContext){var p=$(".envision-background"),u=$(".envision-background-progress");p.find(".images").html(""),u.html("");for(var m=0;m<l.length;m++)l[m].indexOf(".mp4")>=0?p.find(".images").append('<div class="image"><video src="'+l[m]+'" autoplay loop muted></video></div>'):p.find(".images").append($('<div class="image" data-image-src="'+l[m]+'"></div>')),u.append($('<div class="progress-item"></div>'));var h=p.find(".images .image").eq(0);h.addClass("active"),h.attr("data-image-src")&&h.css("background-image","url("+l[0]+")"),u.find(".progress-item").eq(0).addClass("active")}}},this.resetOnboardingBackground=function(){$page.onboardingBackground.html(""),$page.onboardingBackground.css("background-image",""),$page.body.removeClass("show-industry-image")},this.handleOnboardingBackground=function(t,a,o,n){e.resetOnboardingBackground(),t&&e.switchOnboardingMedia(o,a,n)},this.switchOnboardingMedia=function(t,a,o){var n=t[0],i=!0;if(o&&o.industryKey&&a&&a.length){var s=a.split(","),r=s[s.length-1];o.industryKey!==r&&(i=!1)}if(i&&o&&o.urls&&(o.urls.image||o.urls.video)){var l=window.screen.width<768;o.urls.image&&(n=l?o.urls.image.mobile:o.urls.image.desktop),o.urls.video&&(n=l?o.urls.video.mobile:o.urls.video.desktop)}n.indexOf(".mp4")>=0?$page.onboardingBackground.html('<video src="'+n+'" autoplay loop muted></video>'):(n=e.responsiveImagePaths([n])[0],$page.onboardingBackground.css("background-image",'url("'+n+'")')),$page.body.addClass("show-industry-image")},this.appendRenderedSvgLogos=function(t,a,o){var n=e.bootstrapProgressObject(t.logoFileNames.length),i=$page.body.find(".generate-form-container .progress-bar"),s=[],r=a.parent(),l=o?a:a.detach(),d=r.closest("#modalManageFavorites").length;e.bootstrapSvgData(s,t);for(var c=0;c<t.logoFileNames.length;c++)$.get(t.logoPath+"/"+t.logoFileNames[c],(function(c){var g=this.url.substr(this.url.lastIndexOf("/")+1),p=s.map((function(e){return e.logoId})).indexOf("0"===g.substr(0,1)?g.substr(15,9):g.substr(14,9));if(s[p].svgString=SmashingLogo.Utils.uniqueSVG(SmashingLogo.Utils.fluidSVG(c)),n.ajaxCounter+1===n.fileCount){d&&(t.onlyFavorites=!0);var u=l.find(".item").length;if(e.appendLogos(l,s,t,"extended",o),e.selectActiveColorMutation(l.find(".item")),o){SmashingLogo.Utils.initTooltips();var m=a.find(".item.new:first").position().left;$page.body.hasClass("page-generate")&&(a.hasClass("grid-layout")?u>0&&$("html,body").animate({scrollTop:a.find(".item.new:first").offset().top-80},800):a.animate({scrollLeft:"+="+(m-30)},800,(function(){e.handleDisplayOfPrevNextButtons($page.sliderContainer)}))),e.appendLogoOptionButtons(a.find(".item.new")),e.addWatermarkupToSvgs(a.find(".item.new .svg-container svg")),a.find(".item.new").removeClass("new")}else r.append(l),e.addWatermarkupToSvgs(l.find(".item .svg-container svg")),d||(SmashingLogo.Utils.initTooltips(),t.showCoupon&&$("#modalCoupon").modal()),t.activeSession&&e.appendLogoOptionButtons(a.find("> .item"));if(d)return $("#modalManageFavorites .item .logo-preview").each((function(){$page.body.attr("data-logo-path")===$(this).attr("data-svg-file-path")&&$(this).closest(".item").addClass("is-currently-selected")})),void $page.body.trigger("favoritesViewReady");$page.body.addClass("ajax-finished").trigger("logosReady"),e.reEnableGenerateButtons(),!o&&t.activeSession&&(e.handleDisplayOfPrevNextButtons($page.sliderContainer),e.scrollToPreviousLogo()||e.scrollToEndOfPreviewCarousel($page.sliderContainer))}else e.updateProgressBar(i,n)}),"text")},this.addWatermarkupToSvgs=function(e){e.each((function(){var e=$(this);e.html(e.html()+'<g class="watermark-group" style="opacity:0.040000010281801224"><path class="watermark-path" d="M129.52,370.3a11.88,11.88,0,0,1,2.58,5.58,12,12,0,0,1,.11,3,11.81,11.81,0,0,1-.64,2.93,12.34,12.34,0,0,1-1.41,2.72,11.65,11.65,0,0,1-2.13,2.32,12,12,0,0,1-2.64,1.69,13,13,0,0,1-2.91.9,12.47,12.47,0,0,1-3,.12,12.17,12.17,0,0,1-2.93-.64,11.8,11.8,0,0,1-2.72-1.38,12.19,12.19,0,0,1-4-4.79,11.85,11.85,0,0,1-.89-2.92,12.14,12.14,0,0,1-.13-3,11.54,11.54,0,0,1,.64-2.92,11.67,11.67,0,0,1,3.5-5,11.44,11.44,0,0,1,2.67-1.69,11.64,11.64,0,0,1,2.92-.91,10.71,10.71,0,0,1,3-.12,11.68,11.68,0,0,1,5.66,2,11.7,11.7,0,0,1,2.34,2.12m-1.4,8.76a13,13,0,0,1-1.22,2.32,9.68,9.68,0,0,1-1.81,2,7.44,7.44,0,0,1-2.38,1.37,6.17,6.17,0,0,1-5.11-.46,8.73,8.73,0,0,1-3.85-4.58,6.69,6.69,0,0,1-.34-2.66,6.09,6.09,0,0,1,.77-2.47,7.15,7.15,0,0,1,1.75-2.11,9.58,9.58,0,0,1,1.09-.81,8.23,8.23,0,0,1,1.12-.63,8.14,8.14,0,0,1,1.19-.46,12.71,12.71,0,0,1,1.32-.37l2,2.38a12.83,12.83,0,0,0-1.56.17,7.86,7.86,0,0,0-1.23.32,4.5,4.5,0,0,0-1,.49,6.41,6.41,0,0,0-.93.67,4.49,4.49,0,0,0-1.15,1.39,3.87,3.87,0,0,0-.45,1.58,4.12,4.12,0,0,0,.26,1.63,6.11,6.11,0,0,0,2.36,2.82,4.43,4.43,0,0,0,1.57.53,3.91,3.91,0,0,0,1.62-.17,4.71,4.71,0,0,0,1.57-.89,10.5,10.5,0,0,0,.83-.79,5.71,5.71,0,0,0,.65-.93,10.13,10.13,0,0,0,.54-1.14,12.24,12.24,0,0,0,.44-1.49l2,2.33m-14.46,4.55a8.86,8.86,0,0,0,2.78,2.22,9,9,0,0,0,3.29.94,9.15,9.15,0,0,0,3.39-.37,8.68,8.68,0,0,0,3.11-1.69,8.8,8.8,0,0,0,2.22-2.78,9.15,9.15,0,0,0,1-3.29,8.95,8.95,0,0,0-4.83-8.76,9,9,0,0,0-6.73-.57,9,9,0,0,0-5.33,4.47,8.94,8.94,0,0,0-.57,6.71,8.76,8.76,0,0,0,1.7,3.12"/><path class="watermark-path" d="M147,349c-.48.12-1.09.31-1.82.57a24.37,24.37,0,0,0-2.4,1A28.35,28.35,0,0,0,140,352a20.72,20.72,0,0,0-2.71,1.94c-.7.59-1.28,1.11-1.74,1.57a15.07,15.07,0,0,0-1.1,1.22,4.09,4.09,0,0,0-.59.92,2.32,2.32,0,0,0-.22.64,1.16,1.16,0,0,0,0,.47,1.83,1.83,0,0,0,.18.29,1.15,1.15,0,0,0,1,.37,5.54,5.54,0,0,0,1.51-.38q.87-.35,1.95-.9l2.26-1.18q1.2-.65,2.49-1.29c.87-.44,1.73-.83,2.59-1.17a18.94,18.94,0,0,1,2.6-.81,9.27,9.27,0,0,1,2.46-.29,6.25,6.25,0,0,1,2.24.49,5.12,5.12,0,0,1,1.89,1.47,6.35,6.35,0,0,1,1.41,2.61,6,6,0,0,1,.09,2.6,8.3,8.3,0,0,1-.9,2.52,17.79,17.79,0,0,1-1.62,2.37,23.92,23.92,0,0,1-2,2.15c-.72.67-1.41,1.29-2.09,1.87a33.79,33.79,0,0,1-5.33,3.7,32.29,32.29,0,0,1-4.91,2.28l-3.61-4.3a21.38,21.38,0,0,0,5.39-1.87,27.2,27.2,0,0,0,5.4-3.56,21.59,21.59,0,0,0,2.38-2.27,8.67,8.67,0,0,0,1.18-1.7,2.32,2.32,0,0,0,.27-1.19,1.34,1.34,0,0,0-.28-.74,1.21,1.21,0,0,0-1-.42,4.32,4.32,0,0,0-1.55.34,15.77,15.77,0,0,0-2,.88c-.72.37-1.48.77-2.27,1.21l-2.45,1.3c-.85.45-1.7.85-2.56,1.21a22.37,22.37,0,0,1-2.54.86,10,10,0,0,1-2.43.32,5.76,5.76,0,0,1-2.2-.45,5,5,0,0,1-1.89-1.45,6.12,6.12,0,0,1-1.31-2.41,6,6,0,0,1-.1-2.41,8.28,8.28,0,0,1,.81-2.38,14.06,14.06,0,0,1,1.49-2.24,22.37,22.37,0,0,1,1.85-2.05q1-1,2-1.77c.7-.59,1.44-1.15,2.23-1.7s1.62-1.06,2.44-1.53,1.63-.91,2.43-1.3,1.58-.75,2.3-1L147,349"/><path class="watermark-path" d="M186.76,337.57l-10.6-12.63,3.92,18.24-4.66,3.91-17.27-7,10.6,12.63-4.86,4.07-15.09-18,6.59-5.54,18.69,7.52-4.15-19.71,6.57-5.52,15.09,18-4.83,4.05"/><path class="watermark-path" d="M208.84,313.24l-10,8.42,1.16,4.82L194.56,331l-5.68-25.89,5.42-4.55,24.51,10.09-5.42,4.55-4.55-2m-11.23,3.45,6.57-5.52-8.83-3.87,2.26,9.39"/><path class="watermark-path" d="M227.49,281.38c-.48.12-1.09.31-1.82.57a24.37,24.37,0,0,0-2.4,1,26.11,26.11,0,0,0-2.7,1.47,20.72,20.72,0,0,0-2.71,1.94c-.7.59-1.28,1.11-1.74,1.57a13.39,13.39,0,0,0-1.1,1.22,4.29,4.29,0,0,0-.59.91,2.48,2.48,0,0,0-.22.65,1.16,1.16,0,0,0,0,.47,1.83,1.83,0,0,0,.18.29,1.15,1.15,0,0,0,1,.37,5.54,5.54,0,0,0,1.51-.38q.87-.34,2-.9l2.26-1.18q1.2-.64,2.49-1.29c.87-.44,1.73-.83,2.59-1.17a18.94,18.94,0,0,1,2.6-.81,9.27,9.27,0,0,1,2.46-.29,6.08,6.08,0,0,1,2.24.49,5.09,5.09,0,0,1,1.89,1.46,6.47,6.47,0,0,1,1.41,2.61,6.07,6.07,0,0,1,.09,2.61,8.3,8.3,0,0,1-.9,2.52,16.32,16.32,0,0,1-1.63,2.36,21.41,21.41,0,0,1-2,2.16c-.72.67-1.41,1.29-2.1,1.86a33.36,33.36,0,0,1-5.32,3.71,31.92,31.92,0,0,1-4.92,2.28l-3.6-4.3a21.38,21.38,0,0,0,5.39-1.87,27.2,27.2,0,0,0,5.4-3.56,21.59,21.59,0,0,0,2.38-2.27,8.67,8.67,0,0,0,1.18-1.7A2.32,2.32,0,0,0,231,293a1.34,1.34,0,0,0-.28-.74,1.21,1.21,0,0,0-1-.42,4.32,4.32,0,0,0-1.55.34,16.54,16.54,0,0,0-2,.88c-.71.37-1.47.77-2.26,1.21l-2.46,1.3c-.84.44-1.7.85-2.55,1.21a24.53,24.53,0,0,1-2.54.86A10,10,0,0,1,214,298a5.76,5.76,0,0,1-2.2-.45,5,5,0,0,1-1.89-1.45,6.12,6.12,0,0,1-1.31-2.41,5.78,5.78,0,0,1-.1-2.41,8,8,0,0,1,.81-2.38,14.61,14.61,0,0,1,1.49-2.25,22.26,22.26,0,0,1,1.85-2q1-1,2-1.77c.7-.59,1.44-1.15,2.23-1.7s1.62-1.06,2.44-1.53,1.63-.91,2.43-1.31,1.58-.74,2.3-1l3.5,4.16"/><path class="watermark-path" d="M261.64,274.74l-6.29-7.5L243,277.61l6.3,7.5-4.86,4.07-15.09-18,4.85-4.08,5.49,6.55L252,263.3l-5.49-6.55,4.86-4.07,15.09,18-4.86,4.08"/><path class="watermark-path" d="M272.18,265.9l-15.09-18,4.86-4.08,15.09,18-4.86,4.08"/><path class="watermark-path" d="M299.65,242.85l-22.51-2.18L287.51,253l-4.85,4.08-15.1-18,5.28-4.43,22.56,2.22L285,224.5l4.83-4.06,15.09,18-5.26,4.42"/><path class="watermark-path" d="M306.68,205.52a31.88,31.88,0,0,1,5.29-3.66,34.48,34.48,0,0,1,5.14-2.35l3.69,4.39a20.77,20.77,0,0,0-2.37.61,20.47,20.47,0,0,0-2.61,1,25.12,25.12,0,0,0-2.76,1.49,23.9,23.9,0,0,0-2.8,2,20.42,20.42,0,0,0-2.8,2.77,12.77,12.77,0,0,0-1.64,2.52,7,7,0,0,0-.68,2.24,6,6,0,0,0,.66,3.64,8.16,8.16,0,0,0,.94,1.38,9.12,9.12,0,0,0,1.08,1.07,6.39,6.39,0,0,0,1.47.91,6.73,6.73,0,0,0,1.88.48,6.54,6.54,0,0,0,2.28-.18,11.67,11.67,0,0,0,2.74-1.07,19.38,19.38,0,0,0,3.18-2.22c.57-.48,1.06-.92,1.46-1.31a14.57,14.57,0,0,0,1-1.13,11.46,11.46,0,0,0,.81-1.05l.74-1.09-1.82-2.17-5.45,4.57-3.31-3.94,10.31-8.65,7.71,9.19a29,29,0,0,1-1.67,2.43q-1,1.26-2.1,2.52c-.74.84-1.5,1.65-2.3,2.44s-1.58,1.5-2.33,2.14a31,31,0,0,1-3.59,2.61,22.55,22.55,0,0,1-3.64,1.83,15.64,15.64,0,0,1-3.63.89,10.72,10.72,0,0,1-3.49-.15,10.45,10.45,0,0,1-3.28-1.33,12.54,12.54,0,0,1-3-2.67,12,12,0,0,1-2.08-3.44,10.45,10.45,0,0,1-.71-3.5,11.14,11.14,0,0,1,.51-3.51,15.72,15.72,0,0,1,1.56-3.43,21.62,21.62,0,0,1,2.42-3.28,30.3,30.3,0,0,1,3.15-3"/><path class="watermark-path" d="M336.91,211.59l-15.1-18,4.86-4.08,11.79,14,13.13-11,3.31,3.94-18,15.1"/><path class="watermark-path" d="M374.54,164.71a12.28,12.28,0,0,1,2.59,4.81,10.44,10.44,0,0,1,0,5,14.62,14.62,0,0,1-2.33,5,25.55,25.55,0,0,1-4.56,4.85,26.07,26.07,0,0,1-5.6,3.67,14.79,14.79,0,0,1-5.38,1.43,10.43,10.43,0,0,1-4.94-.89,13.24,13.24,0,0,1-6.87-8.18,10.48,10.48,0,0,1,0-5,14.51,14.51,0,0,1,2.36-5,25.23,25.23,0,0,1,4.57-4.89,25,25,0,0,1,5.59-3.64,14.45,14.45,0,0,1,5.35-1.43,10.31,10.31,0,0,1,4.93.92,12.22,12.22,0,0,1,4.28,3.38m-4.91,4.11a8.36,8.36,0,0,0-2-1.72,5.5,5.5,0,0,0-2.65-.85,7.72,7.72,0,0,0-3.32.57,14.49,14.49,0,0,0-4,2.52,16.72,16.72,0,0,0-2.38,2.4,10.15,10.15,0,0,0-1.39,2.24,6.71,6.71,0,0,0-.56,2.1,5.69,5.69,0,0,0,.1,1.9,6.21,6.21,0,0,0,.61,1.69,9.85,9.85,0,0,0,1,1.44,10.48,10.48,0,0,0,1.26,1.23,6.67,6.67,0,0,0,1.57.92,6.1,6.1,0,0,0,1.85.41,6.8,6.8,0,0,0,2.15-.2,11.06,11.06,0,0,0,2.45-1,17.67,17.67,0,0,0,2.77-1.94,14.39,14.39,0,0,0,3.18-3.52,7.74,7.74,0,0,0,1.14-3.17,5.54,5.54,0,0,0-.37-2.74,8.52,8.52,0,0,0-1.36-2.3"/><path class="watermark-path" d="M382.66,141.76A32.3,32.3,0,0,1,388,138.1a34.12,34.12,0,0,1,5.15-2.35l3.69,4.4a19.62,19.62,0,0,0-2.37.6,22.08,22.08,0,0,0-2.61,1,26,26,0,0,0-2.77,1.49,23.9,23.9,0,0,0-2.8,2,21,21,0,0,0-2.8,2.78,13.19,13.19,0,0,0-1.64,2.51,7.29,7.29,0,0,0-.68,2.24,6.36,6.36,0,0,0,.06,2,5.8,5.8,0,0,0,.61,1.68,8.12,8.12,0,0,0,.93,1.38,9.16,9.16,0,0,0,1.08,1.08,6.56,6.56,0,0,0,1.48.9,6,6,0,0,0,1.87.48,6.76,6.76,0,0,0,2.28-.17,12,12,0,0,0,2.74-1.08,18.57,18.57,0,0,0,3.18-2.22c.58-.48,1.06-.92,1.46-1.31s.75-.77,1.05-1.12.57-.72.81-1.06l.73-1.09-1.82-2.17-5.45,4.57-3.3-3.94,10.3-8.65,7.71,9.19a29,29,0,0,1-1.67,2.43q-1,1.26-2.1,2.52c-.73.84-1.5,1.66-2.3,2.44s-1.57,1.5-2.33,2.14a31,31,0,0,1-3.59,2.61,22.15,22.15,0,0,1-3.64,1.83,15.56,15.56,0,0,1-3.62.89,11,11,0,0,1-3.49-.14,10.84,10.84,0,0,1-3.28-1.33,12.82,12.82,0,0,1-3-2.68,12.12,12.12,0,0,1-2.08-3.43A10.71,10.71,0,0,1,375,155a11.18,11.18,0,0,1,.51-3.51,15.51,15.51,0,0,1,1.57-3.43,21.44,21.44,0,0,1,2.42-3.28,30.19,30.19,0,0,1,3.14-3"/><path class="watermark-path" d="M428.63,119.31a12.26,12.26,0,0,1,2.59,4.82,10.44,10.44,0,0,1,0,5,14.53,14.53,0,0,1-2.34,5,25.29,25.29,0,0,1-4.56,4.86,26,26,0,0,1-5.59,3.67,14.84,14.84,0,0,1-5.38,1.43,10.61,10.61,0,0,1-4.95-.89,12.15,12.15,0,0,1-4.3-3.37,12,12,0,0,1-2.56-4.81,10.48,10.48,0,0,1,0-5,14.39,14.39,0,0,1,2.35-5,27.89,27.89,0,0,1,10.16-8.53,14.49,14.49,0,0,1,5.36-1.43,10.27,10.27,0,0,1,4.92.92,12.21,12.21,0,0,1,4.28,3.37m-4.91,4.12a8.17,8.17,0,0,0-2-1.72,5.58,5.58,0,0,0-2.65-.86,7.86,7.86,0,0,0-3.31.58,14.49,14.49,0,0,0-4,2.52,16.21,16.21,0,0,0-2.38,2.4,9.85,9.85,0,0,0-1.4,2.24,7,7,0,0,0-.56,2.1,6,6,0,0,0,.1,1.9,6.23,6.23,0,0,0,.62,1.69,8.49,8.49,0,0,0,1,1.44,9.18,9.18,0,0,0,1.26,1.23,6.67,6.67,0,0,0,1.57.92,6,6,0,0,0,1.84.41,6.86,6.86,0,0,0,2.16-.2,11.26,11.26,0,0,0,2.45-1,17.62,17.62,0,0,0,2.76-1.94,14.67,14.67,0,0,0,3.19-3.52,7.71,7.71,0,0,0,1.13-3.17,5.53,5.53,0,0,0-.36-2.74,8.55,8.55,0,0,0-1.37-2.3"/></g></g>')}))},this.bootstrapSvgData=function(e,t){for(var a=0;a<t.logoFileNames.length;a++){var o=t.logoFileNames[a].indexOf("variations")>=0?t.logoFileNames[a].substr(t.logoFileNames[a].lastIndexOf("/")+1):t.logoFileNames[a];e[a]={timestamp:o.substr(0,o.indexOf("_")),fileName:o,svgString:"",logoId:"0"===o.substr(0,1)?o.substr(15,9):o.substr(14,9),patternId:parseInt(SmashingLogo.Utils.pad(o.substr(o.indexOf("_patt")+5).replace(".svg",""),3)),hex1:o.substr(o.indexOf("_hex_")+5,6),hex2:o.substr(o.indexOf("_hex2_")+6,6),refNumber:t.logoPath.substr(20,10)}}},this.bootstrapProgressObject=function(e){return{percentage:0,ajaxCounter:0,fileCount:e}},this.applyInputScores=function(t,a){var o=e.getInputScores(t),n=$(".overall-input-score .progress-bar");n.css("width",o.overall+"%"),e.updateScoreBarColor(n,o.overall),window.setTimeout((function(){$(".section-input-score").each((function(){var t=$(this),a=t.closest("li").find("a").attr("data-hash"),n=t.find(".progress-bar"),i=100;switch(a){case"#text":i=o.sections.text;break;case"#brand-attributes":i=o.sections.brandAttributes;break;case"#industry":i=o.sections.industry;break;case"#icon":i=o.sections.icon;break;case"#virtual-designers":i=o.sections.virtualDesigner;break;case"#colors":i=o.sections.colors;break;case"#fonts":i=o.sections.fonts;break;default:i=100}n.css("width",i+"%"),e.updateScoreBarColor(n,i)}))}),500);var i=!a;e.notificationUpdate(o,i)},this.notificationUpdate=function(t,a){var o=$page.virtualDesignerBar.find(".notification-count"),n=$page.virtualDesignerBar.find(".speech-bubble"),i={};if(!$page.body.hasClass("not-started-yet")){n.find(".messages").html(""),n.find(".message-browser").html(""),i.errorMessages=e.getCurrentErrorMessages(t),i.nonErrorMessages=e.getPersistentNonErrorMessages();var s=Object.values(i.errorMessages).length,r=Object.values(i.nonErrorMessages).length;0===s&&(i.allGoodMessage=window.i18nYouAreAllSet);var l=parseInt(o.html());s>0||r>0?(o.removeClass("hidden"),o.html(s+r)):(o.addClass("hidden"),o.html("0"));var d=parseInt(o.html()),c=l!==d;if(s>0){for(var g in i.errorMessages){n.find(".message-browser").append('<span class="message-number"></span>');var p="";"brandAttributes"===g||"industry"===g||"icon"===g?p=window.i18nChooseNow:"text"===g&&(p=window.i18nCheckNameAndSlogan),n.find(".messages").append('<div class="message"><p>'+i.errorMessages[g].replace(new RegExp("&quot;","g"),"'")+'</p><p><a data-recommendation="'+g+'" class="follow-recommendation-link" href="#">'+p+"</a></p></div>")}n.find(".messages .message:first").addClass("active"),n.find(".message-browser .message-number:first").addClass("active")}if(0===s&&0===r&&i.allGoodMessage){var u=window.i18nGenerate;n.find(".message-browser").append('<span class="message-number"></span>'),n.find(".messages").append('<div class="message active"><p>'+i.allGoodMessage.replace(new RegExp("&quot;","g"),"'")+'</p><p><a data-recommendation="generate-now" class="follow-recommendation-link" href="#">'+u+"</a></p></div>")}if(r>0){for(var m in n.find(".messages .message").removeClass("active"),i.nonErrorMessages){n.find(".message-browser").append('<span class="message-number"></span>');var h="";"trySomethingNew"===m&&(h=window.i18nGotIt),n.find(".messages").prepend('<div class="message"><p>'+i.nonErrorMessages[m].replace(new RegExp("&quot;","g"),"'")+'</p><p><a data-recommendation="'+m+'" class="follow-recommendation-link" href="#">'+h+"</a></p></div>")}n.find(".messages .message:first").addClass("active"),n.find(".message-browser .message-number:first").addClass("active")}if(c){var f=d>l?"warning":"success";e.alertNotificationCountChange(f,a)}}},e.alertNotificationCountChange=function(t,a){a&&e.playNotificationSound(t),window.setTimeout((function(){e.animateNotification(t)}),800)},this.playNotificationSound=function(e){new Audio("warning"===e?"/static/audio/notification-warning.mp3":"/static/audio/notification-success.mp3").play()},this.animateNotification=function(e){var t=$page.virtualDesignerBar.find(".notification-count");"warning"===e?t.addClass("warning"):t.addClass("success"),window.setTimeout((function(){t.addClass("animated"),window.setTimeout((function(){t.removeClass("animated"),t.removeClass("success")}),550)}),100)},this.mockDataForInputScores=function(){var t={};t.companyName=$page.inputs.name.val(),t.companyTagline=$page.inputs.tagline.val(),t.companyKeywords=$page.inputs.brandAttributes.val(),t.companyIndustries=$page.inputs.industries.val(),t.logoTypes=e.getActiveLogoTypes();var a=[];return $("#modalIconSelection .locked-icons .icon-slot:not(.empty)").each((function(){a.push($(this).find(".icon").attr("data-icon-id"))})),t.persistentIconSlotIds=a,t},this.followRecommendation=function(t){var a=$('.logo-maker-nav-bar .section-nav a[data-hash="#'+t+'"]').parent();a.hasClass("active")||a.trigger("click"),"brand-attributes"===t?(e.animateTagsInputField($(".input-container.keywords .bootstrap-tagsinput"),150),$(".logo-maker-nav-bar .nav-tabs").animate({scrollLeft:0},500)):"industry"===t?e.animateTagsInputField($(".input-container.industry .bootstrap-tagsinput"),150):"icon"===t&&$(".logo-maker-nav-bar .nav-tabs").animate({scrollLeft:250},500)},this.animateTagsInputField=function(e,t){window.setTimeout((function(){e.addClass("animated"),window.setTimeout((function(){e.removeClass("animated")}),200)}),t)},this.updateScoreBarColor=function(e,t){t>=70?e.addClass("progress-bar-success").removeClass("progress-bar-warning").removeClass("progress-bar-danger"):t>=30?e.addClass("progress-bar-warning").removeClass("progress-bar-success").removeClass("progress-bar-danger"):e.addClass("progress-bar-danger").removeClass("progress-bar-success").removeClass("progress-bar-warning")},this.getInputScores=function(t){var a={overall:100,sections:{text:e.getTextScore(t.companyName,t.companyTagline),brandAttributes:e.getBrandAttributesScore(t.companyKeywords),industry:e.getIndustryScore(t.companyIndustries),icon:e.getIconScore(t.logoTypes,t.persistentIconSlotIds.length),colors:100,fonts:100,virtualDesigner:100}};return a.overall=(a.sections.text+a.sections.brandAttributes+a.sections.industry+a.sections.icon)/4,a},this.getTextScore=function(t,a){var o=e.getNameScore(t),n=e.getTaglineScore(a);return o<=40?o:Math.min(o,n)},this.getCurrentErrorMessages=function(e){var t={};return e.sections.text<70&&(t.text=window.i18nCheckTextLength),e.sections.brandAttributes<70&&(t.brandAttributes='<span class="my-recommendation">'+window.i18nMyRecommendation+"</span>"+$(".section-brand-attributes .step-headline").text()),e.sections.industry<100&&(t.industry='<span class="my-recommendation">'+window.i18nMyRecommendation+"</span>"+$(".section-industry .step-headline").text()),e.sections.icon<100&&(t.icon=window.i18nPersonalizedIcon),t},this.getPersistentNonErrorMessages=function(){return"undefined"!=typeof Storage&&window.localStorage.getItem("nonErrorMessages")?JSON.parse(window.localStorage.getItem("nonErrorMessages")):{}},this.updatePersistentNonErrorMessages=function(e){"undefined"!=typeof Storage&&window.localStorage.setItem("nonErrorMessages",JSON.stringify(e))},this.getNameScore=function(e){return e.length<=2||e.length>=35?20:e.length<=3?70:e.length>=25&&e.length<35?50:100},this.getTaglineScore=function(e){return e.length>=40?20:e.length>=30&&e.length<40?60:e.length>=25&&e.length<30?70:100},this.getBrandAttributesScore=function(e){return e?e.length&&-1===e.indexOf(",")?40:e.split(",").length>=3?100:70:20},this.getIndustryScore=function(e){return e?100:20},this.getIconScore=function(e,t){return e.indexOf("icon")>=0&&0===t?40:100},this.updateProgressBar=function(e,t){t.ajaxCounter++,t.percentage=Math.round(t.ajaxCounter/t.fileCount*100)},this.appendLogos=function(t,a,o,n,i){for(var s=0;s<a.length;s++)o.onlyFavorites&&"0"!==a[s].fileName.substr(0,1)||("simple"===n?e.simpleTemplate(t,a,o,s,i):e.extendedTemplate(t,a,o,s,i),"default"!==o.renderInstructions[s].randomTemplate.toLowerCase()&&e.renderSingleMutation(o.renderInstructions[s],a[s].fileName,a[s].svgString,t.find(".item:last .logo-preview .mutations-container"),"mutation"))},this.simpleTemplate=function(e,t,a,o,n){var i="default"===a.renderInstructions[o].randomTemplate||"Default"===a.renderInstructions[o].randomTemplate;e.append($.el("div",{class:"item "+("0"===t[o].fileName.substr(0,1)?"favorite ":"")+(n?"new":"")}).append($.el("div",{class:"logo-preview hide-color-nav","data-hex1":t[o].hex1,"data-hex2":t[o].hex2,"data-svg-file-path":a.logoPath+"/"+t[o].fileName}).append($.el("div",{class:"mutations-container"}).append('<div data-template-identifier="Default" data-random-template="'+i+'" class="mutation default" data-front-hex="'+t[o].hex1+";"+t[o].hex2+'" data-back-hex="ffffff"><div class="bg-layer"></div><img class="wm" src="/static/img/wm.svg"></img><div class="svg-container">'+t[o].svgString+"</div></div>"))))},this.extendedTemplate=function(e,t,a,o,n){var i="default"===a.renderInstructions[o].randomTemplate||"Default"===a.renderInstructions[o].randomTemplate;e.append($.el("div",{class:"item "+("0"===t[o].fileName.substr(0,1)?"favorite ":"")+(n?"new":"")}).append($.el("div",{class:"logo-preview hide-color-nav","data-hex1":t[o].hex1,"data-hex2":t[o].hex2,"data-svg-file-path":a.logoPath+"/"+t[o].fileName}).append($.el("div",{class:"mutations-container"}).append('<div data-template-identifier="Default" data-random-template="'+i+'" class="mutation default" data-front-hex="'+t[o].hex1+";"+t[o].hex2+'" data-back-hex="ffffff"><div class="bg-layer"></div><img class="wm" src="/static/img/wm.svg"></img><div class="svg-container">'+t[o].svgString+"</div></div>"))).append($.el("div",{class:"spinner"}).append($.el("div",{class:"bounce1"})).append($.el("div",{class:"bounce2"})).append($.el("div",{class:"bounce3"}))).append($.el("span",{class:"vote-count"}).html(" Votes").prepend($.el("strong",{class:"count"}).html("0"))).append($.el("div",{class:"logo-options"}).append($.el("a",{class:"btn btn-default "+("0"===t[o].fileName.substr(0,1)?"btn-unfavorite":"btn-favorite"),href:"#",title:"0"===t[o].fileName.substr(0,1)?window.i18nRemoveFromFavorites.replace("&quot;","'"):window.i18nAddToFavorites.replace("&quot;","'"),"data-toggle-tooltip":"tooltip","data-placement":"top"}).append($.el("span",{class:"glyphicon "+("0"===t[o].fileName.substr(0,1)?"glyphicon-remove":"glyphicon-heart")}))).append($.el("a",{class:"btn btn-default btn-purchase",href:"/"+window.i18nLangKey+"/"+window.i18nRealurlCheckout+"?s="+t[o].refNumber.replace("_","")+"-"+t[o].logoId,title:window.i18nBuyOneWord.replace("&quot;","'"),"data-toggle-tooltip":"tooltip","data-placement":"top"}).append($.el("span",{class:"glyphicon glyphicon-shopping-cart"}))).append($.el("a",{class:"btn btn-default btn-envision-brand",href:"/"+window.i18nLangKey+"/"+window.i18nRealurlPreview+"?s="+t[o].refNumber.replace("_","")+"-"+t[o].logoId,title:window.i18nPreview.replace("&quot;","'"),"data-toggle-tooltip":"tooltip","data-placement":"top"}).append($.el("span",{class:"glyphicon glyphicon-fullscreen"}))).append($.el("a",{class:"btn btn-default btn-quick-edit",href:"/"+window.i18nLangKey+"/"+window.i18nRealurlQuickEdit+"?s="+t[o].refNumber.replace("_","")+"-"+t[o].logoId,title:window.i18nVariations.replace("&quot;","'"),"data-toggle-tooltip":"tooltip","data-placement":"top"}).append($.el("span",{class:"glyphicon glyphicon-pencil"}))).append($.el("a",{class:"btn btn-default btn-editor",href:"/"+window.i18nLangKey+"/"+window.i18nRealurlEditor+"?s="+t[o].refNumber.replace("_","")+"-"+t[o].logoId,title:window.i18nEditorMetaTitle.replace("&quot;","'"),"data-toggle-tooltip":"tooltip","data-placement":"top"}).append($.el("span",{class:"glyphicon glyphicon-wrench primary"})))))},this.setupForSessionWithNoLogos=function(){SmashingLogo.Utils.initTooltips(),$page.body.addClass("ajax-finished").trigger("logosReady")},this.setupForNewUser=function(){$page.body.addClass("ajax-finished").addClass("take-tour").trigger("logosReady"),window.location.hash&&"#tour-completed"!==window.location.hash?e.activateTourSection(window.location.hash.replace("#","")):e.setTourHash("tour-name")},this.generateCallbackSuccess=function(t){if(window.isCaptchaEnabled&&$page.body.attr("data-solved-captcha",!0),"failed"===t||"object"===_typeof(t)&&t.logoFileNames&&0===t.logoFileNames.length)e.reEnableGenerateButtons();else{if("limit-reached"===t)return e.reEnableGenerateButtons(),void($page.body.hasClass("take-tour")||$("#modalLimitReached").modal("show"));if("draw-error"===t)return e.reEnableGenerateButtons(),void($page.body.hasClass("take-tour")||$("#modalGenerateError").modal("show"));if("no-favorite-match"===t)return e.reEnableGenerateButtons(),void $("#modalNoFavoriteMatch").modal("show");if("temporarily-disabled"===t)return e.reEnableGenerateButtons(),void $("#modalTemporarilyDisabled").modal("show");$.extend({el:function(e,t){var a=$(document.createElement(e));return a.attr(t),a}}),e.appendRenderedSvgLogos(t,$(".preview-container"),!0)}},this.disableGenerateButtons=function(){$page.buttons.generateMore.attr("disabled","disabled"),$page.buttons.deleteFavorites.attr("disabled","disabled"),$page.buttons.manageFavorites.attr("disabled","disabled"),$page.buttons.generateMoreCaptcha.attr("disabled","disabled"),$page.buttons.sliderNext.addClass("loading-in-progress"),$page.buttons.sliderPrev.addClass("loading-in-progress")},this.reEnableGenerateButtons=function(){$page.buttons.generateMore.removeAttr("disabled"),$page.buttons.deleteFavorites.removeAttr("disabled"),$page.buttons.manageFavorites.removeAttr("disabled"),$page.buttons.generateMoreCaptcha.removeAttr("disabled"),$page.buttons.sliderNext.removeClass("loading-in-progress"),$page.buttons.sliderPrev.removeClass("loading-in-progress")},this.renderTemplateSingleColorHex1=function(e,t,a,o,n,i){var s=new RegExp("(?!(#ffffff))(#(?:[0-9a-f]{2}){2,4})","gi"),r=SmashingLogo.ColorUtils.getMixedColor("#ffffff",e.hex1,.15),l="SingleColorHex1"===e.randomTemplate,d=i?'<div class="inner-wrap" style="background-color: '+r+'">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(a).replace(s,"#"+e.hex1)+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(a).replace(s,"#"+e.hex1);o.append($('<div data-template-identifier="SingleColorHex1" data-front-hex="'+e.hex1+'" data-back-hex="'+r.substr(1)+'" data-random-template="'+l+'" class="'+n+' template-single-color1 color-world-hex1" style="background-color: '+r+';"></div>').append(d))},this.renderTemplateInvertedHex1=function(e,t,a,o,n,i){var s="InvertedHex1"===e.randomTemplate,r=i?'<div class="inner-wrap" style="background-color: #'+e.hex1+'">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(e.svgStringWhite)+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(e.svgStringWhite);o.append($('<div data-template-identifier="InvertedHex1" data-front-hex="ffffff" data-back-hex="'+e.hex1+'" data-random-template="'+s+'" class="'+n+' inversed hex1 color-world-hex1" style="background-color: #'+e.hex1+';"></div>').append(r))},this.renderTemplateBlackAndHighlightColorHex1=function(e,t,a,o,n,i){var s=SmashingLogo.ColorUtils.getMixedColor("#000000",e.hex1,.3),r="xxxxxx"===e.hex2?e.hex1:"ffffff;"+e.hex1,l="BlackAndHighlightColorHex1"===e.randomTemplate,d="";d=e.gradientMode&&-1===window.gradientColorsWhichShouldFadeToWhite.indexOf(e.hex1.toUpperCase())?a:(d=(d=a.replace(new RegExp("#ffffff","gi"),"xxxxxx_placeholder")).replace(new RegExp("(?!(#"+e.hex1+"))(#(?:[0-9a-f]{2}){2,4})","gi"),"#ffffff")).replace(new RegExp("xxxxxx_placeholder","gi"),"#000000");var c=i?'<div class="inner-wrap" style="background-color: '+s+'">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(d)+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(d);o.append($('<div data-template-identifier="BlackAndHighlightColorHex1" data-front-hex="'+r+'" data-back-hex="'+s.substr(1)+'" data-random-template="'+l+'" class="'+n+' template-black-and-highlight-hex1 color-world-hex1" style="background-color: '+s+';"></div>').append(c))},this.renderTemplateSingleColorHex2=function(e,t,a,o,n,i){var s=new RegExp("(?!(#ffffff))(#(?:[0-9a-f]{2}){2,4})","gi"),r=SmashingLogo.ColorUtils.getMixedColor("#ffffff",e.hex2,.15),l="SingleColorHex2"===e.randomTemplate,d=i?'<div class="inner-wrap" style="background-color: '+r+'">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(a).replace(s,"#"+e.hex2)+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(a).replace(s,"#"+e.hex2);o.append($('<div data-template-identifier="SingleColorHex2" data-front-hex="'+e.hex2+'" data-back-hex="'+r.substr(1)+'" data-random-template="'+l+'" class="'+n+' template-single-color2 color-world-hex2" style="background-color: '+r+';"></div>').append(d))},this.renderTemplateInvertedHex2=function(e,t,a,o,n,i){var s="InvertedHex2"===e.randomTemplate,r=i?'<div class="inner-wrap" style="background-color: #'+e.hex2+'">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(e.svgStringWhite)+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(e.svgStringWhite);o.append($('<div data-template-identifier="InvertedHex2" data-front-hex="ffffff" data-back-hex="'+e.hex2+'" data-random-template="'+s+'" class="'+n+' inversed hex2 color-world-hex2" style="background-color: #'+e.hex2+';"></div>').append(r))},this.renderTemplateBlackAndHighlightColorHex2=function(e,t,a,o,n,i){var s=SmashingLogo.ColorUtils.getMixedColor("#000000",e.hex2,.3),r="BlackAndHighlightColorHex2"===e.randomTemplate,l=a.replace(new RegExp("#ffffff","gi"),"xxxxxx_placeholder");l=(l=l.replace(new RegExp("(?!(#"+e.hex2+"))(#(?:[0-9a-f]{2}){2,4})","gi"),"#ffffff")).replace(new RegExp("xxxxxx_placeholder","gi"),"#000000");var d=i?'<div class="inner-wrap" style="background-color: '+s+'">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(l)+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(l);o.append($('<div data-template-identifier="BlackAndHighlightColorHex2" data-front-hex="ffffff;'+e.hex2+'" data-back-hex="'+s.substr(1)+'" data-random-template="'+r+'" class="'+n+' template-black-and-highlight-hex2 color-world-hex2" style="background-color: '+s+';"></div>').append(d))},this.renderTemplate1c=function(e,t,a,o,n,i){var s=new RegExp("(?!(#ffffff))(#(?:[0-9a-f]{2}){2,4})","gi"),r="1c"===e.randomTemplate,l=i?'<div class="inner-wrap" style="background-color: #efefef">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(a).replace(s,"#000000")+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(a).replace(s,"#000000");o.append($('<div data-template-identifier="1c" data-front-hex="000000" data-back-hex="efefef" data-random-template="'+r+'" class="'+n+' template-1c color-world-black" style="background-color: #efefef;"></div>').append(l))},this.renderTemplateBlackBackWhiteLogo=function(e,t,a,o,n,i){var s="BlackBackWhiteLogo"===e.randomTemplate,r=i?'<div class="inner-wrap" style="background-color: #000000">'+e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(e.svgStringWhite)+"</div>":e.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(e.svgStringWhite);o.append($('<div data-template-identifier="BlackAndWhiteLogo" data-front-hex="ffffff" data-back-hex="000000" data-random-template="'+s+'" class="'+n+' inversed black color-world-black" style="background-color: #000000;"></div>').append(r))},this.renderTemplateContrast=function(t,a,o,n,i,s){var r="Contrast"===t.randomTemplate,l=s?'<div class="inner-wrap" style="background-color: #'+t.templateContrastColor+'">'+t.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(o)+"</div>":t.watermarkMarkup+SmashingLogo.Utils.uniqueSVG(o);n.append($('<div data-template-identifier="Contrast" data-front-hex="'+t.hex1+";"+t.hex2+'" data-back-hex="'+t.templateContrastColor+'" data-random-template="'+r+'" class="'+i+' template-contrast color-world-special" style="background-color: #'+t.templateContrastColor+';"></div>').append(l)),t.customColorMapping&&t.customColorMapping.paths&&n.find(".template-contrast path").each((function(){for(var a=$(this),o=e.buildUniquePathIdentifier(a),n=0;n<t.customColorMapping.paths.length;n++)t.customColorMapping.paths[n].uniquePathIdentifier===o&&(a.attr("fill",t.customColorMapping.paths[n].fill),a.attr("fill-opacity")&&a.attr("fill-opacity","1"))})),$page.body.hasClass("page-purchases")&&(t.oldCustomColorSvg&&n.find('[data-template-identifier="Contrast"]').html(SmashingLogo.Utils.uniqueSVG(t.oldCustomColorSvg)),n.find('[data-template-identifier="Contrast"] path').each((function(){if($(this).attr("fill")&&/^#[0-9A-F]{6}$/i.test($(this).attr("fill")))return n.find('[data-template-identifier="Contrast"]').attr("data-front-hex",$(this).attr("fill").replace("#","")),!1})))},this.extendRenderInstructions=function(e,t,a){e.svgStringWhite=a.replace(new RegExp("(?!(#ffffff))(#(?:[0-9a-f]{2}){2,4})","gi"),"#ffffff"),e.hex1=t.substr(t.indexOf("_hex_")+5,6),e.hex2=t.substr(t.indexOf("_hex2_")+6,6),e.watermarkMarkup='<div class="bg-layer"></div><img class="wm" src="/static/img/wm.svg" alt=""></img> '},this.renderSingleMutation=function(t,a,o,n,i,s){switch(e.extendRenderInstructions(t,a,o),t.randomTemplate){case"SingleColorHex1":e.renderTemplateSingleColorHex1(t,a,o,n,i,s);break;case"SingleColorHex2":e.renderTemplateSingleColorHex2(t,a,o,n,i,s);break;case"InvertedHex1":e.renderTemplateInvertedHex1(t,a,o,n,i,s);break;case"InvertedHex2":e.renderTemplateInvertedHex2(t,a,o,n,i,s);break;case"BlackAndHighlightColorHex1":e.renderTemplateBlackAndHighlightColorHex1(t,a,o,n,i,s);break;case"BlackAndHighlightColorHex2":e.renderTemplateBlackAndHighlightColorHex2(t,a,o,n,i,s);break;case"1c":e.renderTemplate1c(t,a,o,n,i,s);break;case"BlackBackWhiteLogo":e.renderTemplateBlackBackWhiteLogo(t,a,o,n,i,s);break;case"Contrast":e.renderTemplateContrast(t,a,o,n,i,s)}n.find(".mutation:not(.default) svg").wrap('<div class="svg-container"></div>')},this.renderTemplates=function(t,a,o,n,i,s){e.extendRenderInstructions(t,a,o),t.renderTemplateSingleColorHex1&&e.renderTemplateSingleColorHex1(t,a,o,n,i,s),t.renderTemplateSingleColorHex2&&!t.gradientMode&&e.renderTemplateSingleColorHex2(t,a,o,n,i,s),t.renderTemplateInvertedHex1&&e.renderTemplateInvertedHex1(t,a,o,n,i,s),t.renderTemplateInvertedHex2&&!t.gradientMode&&e.renderTemplateInvertedHex2(t,a,o,n,i,s),t.renderTemplateBlackAndHighlightColorHex1&&e.renderTemplateBlackAndHighlightColorHex1(t,a,o,n,i,s),t.renderTemplateBlackAndHighlightColorHex2&&!t.gradientMode&&e.renderTemplateBlackAndHighlightColorHex2(t,a,o,n,i,s),t.renderTemplate1c&&e.renderTemplate1c(t,a,o,n,i,s),t.renderTemplateBlackBackWhiteLogo&&e.renderTemplateBlackBackWhiteLogo(t,a,o,n,i,s),t.renderTemplateContrast&&!t.doNotRenderContrastMutation&&e.renderTemplateContrast(t,a,o,n,i,s),n.find("svg").wrap('<div class="svg-container"></div>')},this.buildUniquePathIdentifier=function(e){for(var t="",a=e.parentsUntil("svg"),o=["isPathIcon","isIcon","isPrimaryText","isMirroredPrimaryText","isContainerElementsWrapper","isSecondaryText","isMirroredSecondaryText","isGlobalGroup","glyphName"],n=a.length;n>=0;n--){var i=a.eq(n).attr("data-paper-data");if(i)for(var s=JSON.parse(i),r=0;r<o.length;r++)Object.prototype.hasOwnProperty.call(s,o[r])&&("glyphName"===o[r]&&s.glyphIndex?t+="glyphIndex_"+s.glyphIndex+"_":t+=o[r]+"_")}return t+=e.index()},this.selectActiveColorMutation=function(e){e.each((function(){var e=$(this),t=e.find("[data-random-template=true]").index(),a=e.find(".logo-preview .mutation").eq(t),o=e.find(".logo-preview").attr("data-hex1"),n=e.find(".logo-preview").attr("data-hex2"),i=o;a.addClass("active"),i=a.hasClass("template-black-and-highlight-hex1")||a.hasClass("template-single-color1")?"#"+o:a.hasClass("template-black-and-highlight-hex2")||a.hasClass("template-single-color2")?"#"+n:a.hasClass("template-contrast")?"#"+o:a.hasClass("template-gray")?"#cccccc":a.hasClass("inversed")&&a.hasClass("hex1")?"#"+o:a.hasClass("inversed")&&a.hasClass("hex2")?"#"+n:a.hasClass("default")?"#"+o:"#333333",$(this).find(".logo-options .btn").css("color",i)}))},this.appendLogoOptionButtons=function(e){for(var t=e.closest("#modalManageFavorites").length,a=0;a<e.length;a++){var o=e.eq(a),n=o.find(".mutations-container .mutation.active").attr("data-back-hex"),i="#"+o.find(".mutations-container .mutation.active").attr("data-front-hex").split(";")[0],s=SmashingLogo.ColorUtils.getSuitableBlendColorAdvanced(n,i),r=o.find(".logo-options .btn-envision-brand").attr("href"),l=o.find(".logo-options .btn-quick-edit").attr("href"),d=o.find(".logo-options .btn-purchase").attr("href"),c=$('<a class="logo-option-button envision" href="'+r+'"><span class="glyphicon glyphicon-fullscreen" style="color: '+s+"; border-color: "+s+'"></span></a>'),g=$('<span class="logo-option-button favorite"><span class="glyphicon glyphicon-heart" style="color: '+s+"; border-color: "+s+'"></span></span>'),p=void 0;p=t?$('<span class="logo-option-button unfavorite"><span class="glyphicon glyphicon-trash" style="color: '+s+"; border-color: "+s+'"></span>'):$('<span class="logo-option-button unfavorite" style="background-color: '+i+';"><span class="glyphicon glyphicon-heart" style="color: #'+n+'"></span>');var u=$('<a class="logo-option-button buy" href="'+d+'"><span class="glyphicon glyphicon-shopping-cart" style="color: '+s+"; border-color: "+s+'"></span></a>'),m=$('<a class="logo-option-button edit" href="'+l+'#font-tags"><span class="glyphicon glyphicon-pencil" style="color: '+s+"; border-color: "+s+'"></span></a>');o.find(".logo-preview").append(c).append(g).append(p).append(u).append(m)}},this.handleDisplayOfPrevNextButtons=function(e){0===e.find("> .item").length?(e.parent().find(".slider-prev").addClass("hidden"),e.parent().find(".slider-next").addClass("hidden")):(e.parent().find(".slider-next").removeClass("hidden"),e.scrollLeft()>0?e.parent().find(".slider-prev").removeClass("hidden"):e.parent().find(".slider-prev").addClass("hidden"))},this.scrollToEndOfPreviewCarousel=function(e){e.find("> .item").length&&e.scrollLeft(e.find("> .item:last").position().left)},this.scrollToPreviousLogo=function(){var e=SmashingLogo.Utils.getPreviousLogoId();if(!e)return!1;var t,a=$(".preview-container");if(a.find(".item").each((function(){var a=$(this),o=a.find(".logo-preview").attr("data-svg-file-path"),n=o.substr(o.indexOf("_hex")-9,9);if(e===n)return t=a,!1})),t){if(a.hasClass("grid-layout")){var o=($(window).height()-t.height())/2;$(window).scrollTop(t.offset().top-o)}else{var n=($(window).width()-t.width())/2;$page.sliderContainer.scrollLeft(t.position().left-n)}return!0}return!1},this.shareLinksSetup=function(){if($(".preview-container .item").length){$("#modalVoting").removeClass("no-logos-in-session");var e=$(".preview-container .item:first .logo-preview").attr("data-svg-file-path").substr("/static/tmp_private/".length,10);$("#modalVoting .share-buttons li a").each((function(){var t=$(this),a=t.attr("href").replace(new RegExp("_xxxxxx","g"),e);t.attr("href",a)}));var t="https://smashinglogo.com/logo-voting/?s="+e;window.location.origin&&(t=window.location.origin+"/logo-voting/?s="+e),$("#modalVoting #voting-clipboard-input").val(t),new ClipboardJS($("#modalVoting .btn-copy-to-clipboard").get(0))}else $("#modalVoting").addClass("no-logos-in-session")},this.switchUIFromTourToLogoMaker=function(){$page.body.removeClass("designer-work-in-progress"),e.setTourHash("tour-completed"),e.collapsedDesignerView(),window.setTimeout((function(){e.applyInputScores(e.mockDataForInputScores(),!0)}),500)},this.generate=function(t){""===$page.inputs.name.val()||$page.inputs.name.val().length<2?$("#modalMissingLogoName").modal():$.active>0||(e.disableGenerateButtons(),e.closeConfigColumn(),e.collapsedDesignerView(),$.ajax({url:"/logos/generate/",type:"POST",data:e.getAjaxParams(t),timeout:6e4,success:function(t){if("failed"!==t){if("invalid-captcha"===t)return $("#modalCaptcha").modal("show"),window.isCaptchaEnabled=!0,e.reEnableGenerateButtons(),void $("#modalCaptcha").addClass("invalid-error");window.isCaptchaEnabled&&$("#modalCaptcha").modal("hide"),""===$page.inputs.industries.val()&&t.mockedIndustries&&$page.inputs.industries.tagsinput("add",{key:t.mockedIndustries.key,translation:t.mockedIndustries.translation}),e.generateCallbackSuccess(t)}else e.reEnableGenerateButtons()},error:function(){console.log("process error")}}))},this.collapsedDesignerView=function(){$page.virtualDesignerBar.hasClass("collapsed-view")||$page.virtualDesignerBar.addClass("collapsed-view").removeClass("expanded-view")},this.expandedDesignerView=function(){$page.virtualDesignerBar.hasClass("expanded-view")||($page.virtualDesignerBar.find(".speech-bubble").addClass("hidden"),$page.virtualDesignerBar.removeClass("collapsed-view").addClass("expanded-view"),$page.virtualDesignerBar.find(".speech-bubble").css("opacity","0"),window.setTimeout((function(){$page.virtualDesignerBar.find(".speech-bubble").removeClass("hidden"),window.setTimeout((function(){$page.virtualDesignerBar.find(".speech-bubble").css("opacity","1")}),200)}),800))},this.getAjaxParams=function(t){var a={companyName:$page.inputs.name.val(),companyTagline:$page.inputs.tagline.val(),companyIndustries:$page.inputs.industries.val(),companyKeywords:$page.inputs.brandAttributes.val(),virtualDesigner:$page.virtualDesignerBar.find(".virtual-designer").attr("data-selected-designer"),logoTypes:e.getActiveLogoTypes(),selectedColorSpectrums:e.getActiveColorSpectrums($(".generate-config-column .section-colors .custom-colors")),selectedFontCategories:e.getActiveFontCategories($(".generate-config-column .section-fonts .custom-fonts")),specificPatternId:$("#specificPatternIdHiddenField").length?$("#specificPatternIdHiddenField").val():-1,captchaResponse:t||"",userLangKey:$("html").attr("lang"),referrerPage:"logo-maker"};if($("#modalIconSelection .locked-icons .icon-slot img").length||$("#modalIconSelection .locked-icons .icon-slot svg").length){var o=$("#modalIconSelection .locked-icons .icon-slot.selected .icon"),n=o.length?o:$("#modalIconSelection .locked-icons .icon-slot:not(.empty) .icon"),i=Math.floor(Math.random()*n.length),s=$(n.get(i)),r=s.find("svg").html()||(new XMLSerializer).serializeToString(s.find("svg path").get(0));a.iconSvgString="<svg>"+r+"</svg>",a.rawIconId=s.attr("data-icon-id"),s.attr("data-combine-terms")&&(a.iconCombineTerms=s.attr("data-combine-terms"))}return a},this.setupIndustrieKeywords=function(){$page.inputs.industries.on("beforeFreeInputItemAdd",(function(t){var a="freeinput_"+t.item.toLowerCase().replace(/\s/g,"_");t.item={key:a,translation:t.item},t.cancel=!1,e.addCustomIndustryToLocalStorage(a,t.item.translation)})),$page.inputs.industries.on("itemAdded",(function(){$(".input-container.industry .twitter-typeahead .tt-hint").typeahead("val",""),$(".input-container.industry .twitter-typeahead .tt-input").typeahead("val","")})),$page.inputs.industries.on("itemRemoved",(function(t){t.item.key.indexOf("freeinput")>=0&&e.removeCustomIndustryFromLocalStorage(t.item.key)})),$page.inputs.industries.on("itemRemoved itemAdded",(function(t){if(t.options&&t.options.preventPost)return!1;SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/update-inds/",type:"POST",data:{inds:$page.inputs.industries.val(),userLangKey:$("html").attr("lang")},success:function(t){e.switchEnvisionFadeImages(t.envisionFadeImages,t.onboardingMedia,t.companyIndustries,{includeEnvisionBackgroundContext:!0}),SmashingLogo.Utils.hideLoadingAnimation(),e.applyInputScores(e.mockDataForInputScores()),e.nextTourButtonState()},error:function(){SmashingLogo.Utils.hideLoadingAnimation()}})}))},this.addCustomIndustryToLocalStorage=function(e,t){if("undefined"!=typeof Storage){for(var a=window.localStorage.getItem("customIndustries"),o=a?JSON.parse(a):[],n=!0,i=0;i<o.length;i++)o[i].key===e&&(n=!1);o.push({key:e,translation:t}),o.length<=3&&n&&window.localStorage.setItem("customIndustries",JSON.stringify(o))}},this.removeCustomIndustryFromLocalStorage=function(e){if("undefined"!=typeof Storage){for(var t=window.localStorage.getItem("customIndustries"),a=t?JSON.parse(t):[],o=0;o<a.length;o++)a[o].key===e&&a.splice(o,1);window.localStorage.setItem("customIndustries",JSON.stringify(a))}},this.setupRandomIconCheckbox=function(e){"disallow"===e.randomIconPolicy?$page.randomIconsCheckbox.removeAttr("checked"):$page.randomIconsCheckbox.attr("checked","checked")},this.setupColorSelectionRadioButtons=function(e){"custom"===e.colorSelectionPolicy&&($("#radio-custom-colors").attr("checked","checked"),$("#radio-recommended-colors").removeAttr("checked"),$(".generate-config-column .section-colors .recommended-colors").addClass("hidden"),$(".generate-config-column .section-colors .custom-colors").removeClass("hidden"))},this.setupFontSelectionRadioButtons=function(e){"custom"===e.fontSelectionPolicy&&($("#radio-custom-fonts").attr("checked","checked"),$("#radio-recommended-fonts").removeAttr("checked"),$(".generate-config-column .section-fonts .recommended-fonts").addClass("hidden"),$(".generate-config-column .section-fonts .custom-fonts").removeClass("hidden"))},this.fixedAffixHeader=function(){$(".preview-container-tabs").affix({offset:{top:function(){return this.top=$(".header-container").outerHeight()+$page.virtualDesignerBar.outerHeight()}}})},this.captchaHandling=function(e){e.isCaptchaEnabled&&(window.isCaptchaEnabled=!0),window.isCaptchaEnabled&&!0===e.successfullySolvedCaptcha&&$page.body.attr("data-solved-captcha",!0),window.isCaptchaEnabled&&!0===e.activeSession&&$page.body.attr("data-skip-captcha",!0)},this.logLoadingTimeToSentry=function(){"undefined"!=typeof Sentry&&(window.setTimeout((function(){$page.body.hasClass("ajax-finished")||Sentry.captureMessage("There is still a loading spinner on the /logo-maker/ page after 12 seconds")}),12e3),window.setTimeout((function(){$page.body.hasClass("ajax-finished")||Sentry.captureMessage("There is still a loading spinner on the /logo-maker/ page after 18 seconds")}),18e3))},this.attachDragger=function(t,a){var o,n,i,s=!1;t.on("mousedown mouseup mousemove",(function(e){"mousedown"==e.type&&(window.drag=!1,s=!0,o=[e.clientX,e.clientY]),"mouseup"==e.type&&(s=!1),"mousemove"==e.type&&1==s&&(n=[e.clientX,e.clientY],i=[n[0]-o[0],n[1]-o[1]],(Math.abs(i[0])>=2||Math.abs(i[1])>=2)&&(window.drag=!0),$(this).scrollLeft($(this).scrollLeft()-i[0]),$(this).scrollTop($(this).scrollTop()-i[1]),o=[e.clientX,e.clientY])})),t.on("mouseup",(function(){s=!1,a||e.handleDisplayOfPrevNextButtons(t)}))},this.nextTourButtonState=function(){if($page.body.attr("data-tour-step")&&$page.body.hasClass("take-tour")){var t=$page.body.attr("data-tour-step");if("tour-attributes"!==t)if("tour-industries"!==t)if("tour-icons"!==t){if("tour-colors"===t){var a=!0,o=$(".config-section.section-colors .color-selection"),n=o.find(".custom-colors").hasClass("hidden"),i=!o.find(".custom-colors").hasClass("hidden");return n?a=!!o.find(".provide-brand-attributes").hasClass("hidden"):i&&(a=!!o.find(".custom-colors .color-spectrum.selected").length),void e.applyStateToNextButton(a)}e.applyContinueStateToNextButton()}else{var s=$(".slots-and-search .icon-slot.selected").length;e.applyStateToNextButton(s)}else{var r=""!==$("#companyIndustries").val();e.applyStateToNextButton(r)}else{var l=""!==$("#companyKeywords").val();e.applyStateToNextButton(l)}}},this.applyStateToNextButton=function(t){t?e.applyContinueStateToNextButton():e.applySkipStateToNextButton()},this.applyContinueStateToNextButton=function(){$(".logo-maker-nav-bar .tour-buttons .btn-next").addClass("continue-state").removeClass("skip-state")},this.applySkipStateToNextButton=function(){$(".logo-maker-nav-bar .tour-buttons .btn-next").addClass("skip-state").removeClass("continue-state")},this.getTourSteps=function(){return["tour-name","tour-industries","tour-designer","tour-attributes","tour-colors","tour-icons","tour-finish","tour-completed"]},this.setTourHash=function(e){window.location.hash=e},this.activateTourSection=function(t){-1!==e.getTourSteps().indexOf(t)&&(""!==$page.inputs.name.val()||"tour-name"===t)?($page.body.addClass("take-tour"),$page.body.addClass("not-started-yet"),$page.body.removeClass("active-session"),$page.body.addClass("show-config-column"),$page.body.removeClass("designer-work-in-progress"),"tour-name"===t?e.openTextConfigTab():"tour-industries"===t?e.openIndustryConfigTab():"tour-designer"===t?e.openVirtualDesignersConfigTab():"tour-attributes"===t?e.openBrandAttributesConfigTab():"tour-colors"===t?e.openColorConfigTab():"tour-icons"===t?e.openIconConfigTab():"tour-finish"===t?($(".logo-maker-nav-bar .nav-tabs li.active").removeClass("active"),e.openFinalTourStep()):"tour-completed"===t&&($page.body.removeClass("take-tour"),$page.body.removeClass("not-started-yet"),$page.body.addClass("active-session"),e.closeConfigColumn()),$page.body.attr("data-tour-step",t),window.location.hash=t,window.scrollTo(0,0),e.collapsedDesignerView(),e.nextTourButtonState()):e.setTourHash("tour-name")},this.showIconSlotsBar=function(){$(".config-section.section-icon").addClass("show-slots-bar")}}SmashingLogo.LogoMaker=new LogoMaker;
"use strict";function SeamlessHeader(){var e=this;this.init=function(){e.attachEventHandler(),$("#modalShare .share-buttons li a").each((function(){var e=$(this),t=SmashingLogo.Utils.getParameterByName("s",window.location),a=e.attr("href").replace(new RegExp("_xxxxxx","g"),t);if(a.indexOf("whatsapp")>=0){var s=/Mobi|iPhone|Android/i.test(navigator.userAgent);a=a.replace("https://api.whatsapp.com/send?",s?"whatsapp://send?":"https://web.whatsapp.com/send?")}e.attr("href",a)}))},this.attachEventHandler=function(){$(".seamless-header .link-customize-request").on("click",(function(e){e.preventDefault(),$("#modalCustomizationForm").modal("show")})),$(".seamless-header .link-share").on("click",(function(e){e.preventDefault(),$("#modalShare").modal("show")})),$(".seamless-header .col-switch-mode .mode").on("click","a",(function(e){$(this).closest("li").hasClass("active")?e.preventDefault():SmashingLogo.Utils.showLoadingAnimation()})),$("#form-customize-request").on("click",'input[type="submit"]',(function(e){e.preventDefault(),$.active>0||SmashingLogo.Utils.customizeRequestSubmit($(this))}))},this.addDataUrls=function(){var e=$page.body.attr("data-logo-path"),t=e.substr(e.lastIndexOf("/")+1).split("_")[1].substr(0,9),a=e.replace("/static/tmp_private/_","").substr(0,9),s=$("html").attr("lang");$('.seamless-header-container .mode[data-section="preview"] a').attr("href","/"+s+"/preview?s="+a+"-"+t),$('.seamless-header-container .mode[data-section="quick-edit"] a').attr("href","/"+s+"/quick-edit?s="+a+"-"+t+"#font-tags"),$('.switch-modes .mode[data-filter-section="font-advanced"]').attr("data-editor-url","/"+s+"/editor?s="+a+"-"+t+"#font-advanced"),$('.switch-modes .mode[data-filter-section="color-advanced"]').attr("data-editor-url","/"+s+"/editor?s="+a+"-"+t+"#color-advanced"),$('.switch-modes .mode[data-filter-section="icon-advanced"]').attr("data-editor-url","/"+s+"/editor?s="+a+"-"+t+"#icon-advanced"),$('.switch-modes .mode[data-filter-section="layout-advanced"]').attr("data-editor-url","/"+s+"/editor?s="+a+"-"+t+"#layout-advanced");var o="/"+s+"/checkout?s="+a+"-"+t,i=$('.seamless-header-container .mode[data-section="checkout"] a'),n=$(".seamless-header-container .col-menu .link-buy");i.attr("href",o),n.attr("href",o)},this.refreshFavoriteButton=function(e){window.setTimeout((function(){SmashingLogo.ManageFavorites.setFavoriteCount(e);var t=$(".seamless-header .btn-manage-favorites");t.addClass("animated"),window.setTimeout((function(){t.removeClass("animated")}),1200)}),800)}}SmashingLogo.SeamlessHeader=new SeamlessHeader;
"use strict";function ManageFavorites(){var a=this;$page.buttons.manageFavorites=$(".btn-manage-favorites"),$page.favoriteCount=$page.buttons.manageFavorites.find(".favorite-count"),$page.modalManageFavorites=$("#modalManageFavorites"),window.favoriteLimit=parseInt($("#modalManageFavorites .limit-count").text()),this.init=function(){a.attachEventHandler()},this.attachEventHandler=function(){$page.body.on("favoritesViewReady",(function(){$page.modalManageFavorites.modal("show"),$(".btn-close-modal").removeClass("hidden"),SmashingLogo.Utils.hideLoadingAnimation()})),$page.buttons.manageFavorites.on("click",(function(){$page.modalManageFavorites.find(".modal-body .logos").html(""),SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/session/info/",type:"GET",timeout:6e4,success:function(a){if(!a.logoFileNames.length)return SmashingLogo.Utils.hideLoadingAnimation(),void $page.body.trigger("favoritesViewReady");SmashingLogo.LogoMaker.appendRenderedSvgLogos(a,$page.modalManageFavorites.find(".modal-body .logos"))}})})),$page.modalManageFavorites.on("hidden.bs.modal",(function(){$(".btn-close-modal").addClass("hidden")})),$page.body.on("click",".btn-close-modal",(function(){$(".modal.in").modal("hide"),$(this).addClass("hidden")})),$page.modalManageFavorites.on("click",".logo-option-button.unfavorite",(function(){SmashingLogo.Utils.showLoadingAnimation();var e=$(this).closest(".item"),t=e.find(".logo-preview").attr("data-svg-file-path"),o=t.substr(t.indexOf("_hex")-9,9);$.ajax({url:"/logos/delete-logo/",type:"POST",data:{svgFilePath:t},timeout:6e4,success:function(){SmashingLogo.Utils.hideLoadingAnimation(),e.addClass("remove-animation"),window.setTimeout((function(){e.remove(),$page.body.hasClass("page-generate")&&$(".preview-container .item").each((function(){var a=$(this),e=a.find(".logo-preview").attr("data-svg-file-path");if(e.substr(e.indexOf("_hex")-9,9)===o)return a.remove(),!1})),a.decreaseFavoriteCount()}),600)}})})),$page.modalManageFavorites.on("click",".item .logo-preview .svg-container",(function(){var a=$(this).closest(".item");if(a.hasClass("is-currently-selected"))$page.modalManageFavorites.modal("hide");else{var e=a.find(".logo-preview").attr("data-svg-file-path"),t=e.substr(e.lastIndexOf("/")+1).split("_")[1].substr(0,9),o=e.replace("/static/tmp_private/_","").substr(0,9),i=$("html").attr("lang"),n="/"+i+"/preview?s="+o+"-"+t;$page.body.hasClass("page-variations")||$page.body.hasClass("page-editor")?n="/"+i+"/quick-edit?s="+o+"-"+t+"#text-name":$page.body.hasClass("page-checkout")&&(n="/"+i+"/checkout?s="+o+"-"+t),window.location.href=n}}))},this.setFavoriteCount=function(a){$page.favoriteCount.text(a),$page.modalManageFavorites.find(".modal-header .favorite-count").length&&$page.modalManageFavorites.find(".modal-header .favorite-count").text(a)},this.getFavoriteCount=function(){return parseInt($page.favoriteCount.text())},this.increaseFavoriteCount=function(){var e=a.getFavoriteCount();a.setFavoriteCount(e+1)},this.decreaseFavoriteCount=function(){var e=a.getFavoriteCount();a.setFavoriteCount(e-1)}}SmashingLogo.ManageFavorites=new ManageFavorites;
"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,i){if(e){if("string"==typeof e)return _arrayLikeToArray(e,i);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,i):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,i){(null==i||i>e.length)&&(i=e.length);for(var o=0,n=new Array(i);o<i;o++)n[o]=e[o];return n}function IconSearch(){var e=this;this.init=function(){e.attachEventHandler()},this.attachEventHandler=function(){$page.body.on("click",".btn-browse-icons",(function(e){e.preventDefault(),$('#modalIconSelection .switch-modes [data-sub-section="search"]').trigger("click"),SmashingLogo.Utils.browseIcons($(this))})),$page.body.on("click",".btn-combine-search",(function(){SmashingLogo.Utils.browseIconsForCombine($(this))})),$page.body.on("click",".combine-step .icon-to-combine",(function(){if(!($.active>0)){var e=$(this);if(e.hasClass("selected"))e.removeClass("selected");else{e.closest(".combine-step").find(".icon-to-combine").removeClass("selected"),e.addClass("selected");var i={icons:[]},o=[];$("#modalIconSelection .icon-to-combine.selected").each((function(){var e=$(this),n={iconType:e.attr("data-initial-id")?"initial":"icon"};if("initial"===n.iconType?n.initialId=e.attr("data-initial-id"):n.iconId=e.attr("data-icon-id"),e.find("svg").length?n.svgString=e.html():e.find("img").length&&(n.iconUrl=e.find("img").attr("src")),e.attr("data-combine-terms")){var t=e.attr("data-combine-terms").split(",");n.combineTerms=t,o.push.apply(o,_toConsumableArray(n.combineTerms))}i.icons.push(n)})),2===i.icons.length&&(SmashingLogo.Utils.showLoadingAnimation(),$.ajax({url:"/combine-icons/",type:"POST",data:i,timeout:6e4,success:function(i){SmashingLogo.Utils.hideLoadingAnimation();var n=$("#modalIconSelection .combine-results");if(n.find(".combine-icon-list").remove(),"failed"!==i){n.append('<div class="combine-icon-list"></div>');for(var t=n.find(".combine-icon-list"),a=0;a<i.length;a++){var r=$('<div class="icon" data-icon-id="'+i[a].iconId+'">'+i[a].svgString+"</div>");if(o.length){var s=o.filter((function(e,i){return o.indexOf(e)===i}));r.attr("data-combine-terms",s.join())}t.append(r)}}else e.removeClass("selected")},error:function(){console.log("combine error"),SmashingLogo.Utils.hideLoadingAnimation()}}))}}})),$page.body.on("click","#modalIconSelection .symbol-section .btn-load-more",(function(e){e.preventDefault(),SmashingLogo.Utils.loadMoreIcons($(this))})),$page.body.on("click","#modalIconSelection .combine-section .btn-load-more",(function(e){e.preventDefault(),SmashingLogo.Utils.browseIconsForCombine($(this),!0)})),$page.body.on("click",".btn-browse-initials",(function(e){if(e.preventDefault(),!($.active>0)){var i=$(this),o=$("#initial-text-field");i.attr("disabled","disabled"),o.attr("disabled","disabled"),$("#modalMonogramSelection").addClass("search-in-progress"),$.ajax({url:"/browse-initials/",type:"POST",data:{initialsText:o.val()},timeout:2e4,success:function(e){if(i.removeAttr("disabled"),o.removeAttr("disabled"),$("#modalMonogramSelection .initial-preview .content").html(""),"failed"!==e){for(var n=0;n<e.length;n++)$("#modalMonogramSelection .initial-preview .content").append('<div class="icon" data-initial-id="'+e[n].initial_id+'">'+e[n].svg_string+"</div>");$("#modalMonogramSelection").removeClass("search-in-progress")}else $("#modalMonogramSelection").removeClass("search-in-progress")}})}}))},this.deselectCombineIcons=function(){$('#modalIconSelection [data-sub-section-identifier="combine"] .icon-to-combine').removeClass("selected")}}SmashingLogo.IconSearch=new IconSearch;
"use strict";function tempMisc(){SmashingLogo.Utils.initTooltips(),SmashingLogo.Utils.setTouchNoTouchBodyClass(),$("#modalFontSelection, #modalIconSelection, #modalMonogramSelection, #modalLayoutVariations, #modalExtendedSettings, #modalEffectLibrary, .checkmark-modal").on("hidden.bs.modal",(function(){$(".fixed-modal-header").addClass("hidden"),$(".btn-close-modal").addClass("hidden")})),$("#modalExtendedSettings").on("hidden.bs.modal",(function(){$("#modalExtendedSettings .setting .dropdown-preview-all").removeClass("open")})),$("#modalColorPaletteBackground").on("hidden.bs.modal",(function(){$("body").removeClass("open-modal-contrast-background"),$(".btn-close-modal").addClass("hidden")})),$page.body.on("click","#modalIconSelection .previous-terms .term",(function(){if(!($.active>0)){var a=$(this).attr("data-term");$(this).addClass("active").siblings().removeClass("active"),$('#modalIconSelection .switch-modes [data-sub-section="search"]').trigger("click"),SmashingLogo.Utils.browseIconsByTerm(a)}})),$.ajax({url:"/session/info/industry/",type:"POST",data:{userLangKey:$("html").attr("lang")},timeout:6e4,success:function(a){a&&a.linkHref&&a.linkText}})}function activeStateOfHeaderNavigations(){if($page.html.data("pid")){var a=$(".header-container .nav").find("li");$.each(a,(function(){var a=$(this);a.data("pid")===$page.html.data("pid")&&a.addClass("active")}))}}function initPages(){$page.body.hasClass("page-home")&&SmashingLogo.Homepage.init(),$page.body.hasClass("page-generate")&&(SmashingLogo.LogoMaker.init(),SmashingLogo.IconSearch.init(),SmashingLogo.SeamlessHeader.init(),SmashingLogo.ManageFavorites.init()),($page.body.hasClass("page-editor")||$page.body.hasClass("page-shared"))&&SmashingLogo.Editor.init(),$page.body.hasClass("page-editor")&&(SmashingLogo.IconSearch.init(),SmashingLogo.SeamlessHeader.init(),SmashingLogo.ManageFavorites.init()),$page.body.hasClass("page-how")&&SmashingLogo.HowItWorks.init(),$page.body.hasClass("page-pricing")&&(SmashingLogo.Pricing.init(),SmashingLogo.Pricing.fetchPrices()),$page.body.hasClass("page-checkout")&&(SmashingLogo.Checkout.init(),SmashingLogo.Pricing.fetchPrices(),SmashingLogo.SeamlessHeader.init(),SmashingLogo.ManageFavorites.init()),$page.body.hasClass("page-thanks")&&SmashingLogo.Thanks.init(),$page.body.hasClass("page-purchases")&&SmashingLogo.MyAccount.init(),$page.body.hasClass("page-industry")&&(SmashingLogo.IndustryLandingPage.init(),SmashingLogo.ManageFavorites.init()),$page.body.hasClass("page-variations")&&(SmashingLogo.IconSearch.init(),SmashingLogo.QuickEdit.init(),SmashingLogo.SeamlessHeader.init(),SmashingLogo.ManageFavorites.init()),$page.body.hasClass("page-preview")&&(SmashingLogo.SeamlessHeader.init(),SmashingLogo.EnvisionPreview.init(),SmashingLogo.ManageFavorites.init())}var pageHasDynamicContent=SmashingLogo.Utils.isPageWithDynamicContent();window.onpageshow=function(a){a.persisted&&pageHasDynamicContent?window.location.reload():(tempMisc(),activeStateOfHeaderNavigations(),initPages(),lazyload(),observeAndAnimateSections())};